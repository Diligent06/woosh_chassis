ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"stm32h7xx_ll_usb.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.USB_CoreInit,"ax",%progbits
  19              		.align	1
  20              		.global	USB_CoreInit
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	USB_CoreInit:
  26              	.LFB144:
  27              		.file 1 "Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c"
   1:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
   2:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @file    stm32h7xx_ll_usb.c
   4:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *
   7:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This file provides firmware functions to manage the following
   8:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           + Peripheral Control functions
  12:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *
  14:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   ******************************************************************************
  15:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @attention
  16:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *
  17:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * Copyright (c) 2017 STMicroelectronics.
  18:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * All rights reserved.
  19:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *
  20:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * This software is licensed under terms that can be found in the LICENSE file
  21:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * in the root directory of this software component.
  22:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  23:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *
  24:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   ******************************************************************************
  25:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   @verbatim
  26:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   ==============================================================================
  27:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                     ##### How to use this driver #####
  28:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   ==============================================================================
  29:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     [..]
  30:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
  31:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 2


  32:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  33:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  34:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  35:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  36:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   @endverbatim
  37:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  38:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   ******************************************************************************
  39:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
  40:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  41:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  42:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** #include "stm32h7xx_hal.h"
  43:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  44:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /** @addtogroup STM32H7xx_LL_USB_DRIVER
  45:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @{
  46:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
  47:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  48:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  49:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  50:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  51:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  52:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  53:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  54:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  55:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  56:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  57:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  58:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  59:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  60:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions USB Low Layer Exported Functions
  61:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @{
  62:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
  63:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  64:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions_Group1 Initialization/de-initialization functions
  65:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *  @brief    Initialization and Configuration functions
  66:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *
  67:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** @verbatim
  68:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****  ===============================================================================
  69:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                       ##### Initialization/de-initialization functions #####
  70:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****  ===============================================================================
  71:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  72:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** @endverbatim
  73:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @{
  74:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
  75:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  76:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
  77:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Initializes the USB Core
  78:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx USB Instance
  79:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  cfg pointer to a USB_OTG_CfgTypeDef structure that contains
  80:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
  81:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
  82:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
  83:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
  84:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
  28              		.loc 1 84 1
  29              		.cfi_startproc
  30              		@ args = 56, pretend = 16, frame = 16
  31              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 3


  32 0000 84B0     		sub	sp, sp, #16
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35 0002 80B5     		push	{r7, lr}
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 7, -24
  39              		.cfi_offset 14, -20
  40 0004 84B0     		sub	sp, sp, #16
  41              	.LCFI2:
  42              		.cfi_def_cfa_offset 40
  43 0006 00AF     		add	r7, sp, #0
  44              	.LCFI3:
  45              		.cfi_def_cfa_register 7
  46 0008 7860     		str	r0, [r7, #4]
  47 000a 07F11C00 		add	r0, r7, #28
  48 000e 80E80E00 		stm	r0, {r1, r2, r3}
  85:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   HAL_StatusTypeDef ret;
  86:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
  49              		.loc 1 86 10
  50 0012 3B6B     		ldr	r3, [r7, #48]
  51              		.loc 1 86 6
  52 0014 012B     		cmp	r3, #1
  53 0016 20D1     		bne	.L2
  87:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
  88:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
  54              		.loc 1 88 17
  55 0018 7B68     		ldr	r3, [r7, #4]
  56 001a 9B6B     		ldr	r3, [r3, #56]
  57 001c 23F48032 		bic	r2, r3, #65536
  58 0020 7B68     		ldr	r3, [r7, #4]
  59 0022 9A63     		str	r2, [r3, #56]
  89:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  90:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Init The ULPI Interface */
  91:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_TSDPS | USB_OTG_GUSBCFG_ULPIFSLS | USB_OTG_GUSBCFG_PHYSEL);
  60              		.loc 1 91 19
  61 0024 7B68     		ldr	r3, [r7, #4]
  62 0026 DA68     		ldr	r2, [r3, #12]
  63 0028 2A4B     		ldr	r3, .L8
  64 002a 1340     		ands	r3, r3, r2
  65 002c 7A68     		ldr	r2, [r7, #4]
  66 002e D360     		str	r3, [r2, #12]
  92:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
  93:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Select vbus source */
  94:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_ULPIEVBUSD | USB_OTG_GUSBCFG_ULPIEVBUSI);
  67              		.loc 1 94 19
  68 0030 7B68     		ldr	r3, [r7, #4]
  69 0032 DB68     		ldr	r3, [r3, #12]
  70 0034 23F44012 		bic	r2, r3, #3145728
  71 0038 7B68     		ldr	r3, [r7, #4]
  72 003a DA60     		str	r2, [r3, #12]
  95:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (cfg.use_external_vbus == 1U)
  73              		.loc 1 95 12
  74 003c FB6C     		ldr	r3, [r7, #76]
  75              		.loc 1 95 8
  76 003e 012B     		cmp	r3, #1
  77 0040 05D1     		bne	.L3
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 4


  96:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
  97:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx->GUSBCFG |= USB_OTG_GUSBCFG_ULPIEVBUSD;
  78              		.loc 1 97 21
  79 0042 7B68     		ldr	r3, [r7, #4]
  80 0044 DB68     		ldr	r3, [r3, #12]
  81 0046 43F48012 		orr	r2, r3, #1048576
  82 004a 7B68     		ldr	r3, [r7, #4]
  83 004c DA60     		str	r2, [r3, #12]
  84              	.L3:
  98:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
  99:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Reset after a PHY select */
 101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  85              		.loc 1 101 11
  86 004e 7868     		ldr	r0, [r7, #4]
  87 0050 FFF7FEFF 		bl	USB_CoreReset
  88 0054 0346     		mov	r3, r0
  89 0056 FB73     		strb	r3, [r7, #15]
  90 0058 1AE0     		b	.L4
  91              	.L2:
 102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else /* FS interface (embedded Phy) */
 104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Select FS Embedded PHY */
 106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  92              		.loc 1 106 19
  93 005a 7B68     		ldr	r3, [r7, #4]
  94 005c DB68     		ldr	r3, [r3, #12]
  95 005e 43F04002 		orr	r2, r3, #64
  96 0062 7B68     		ldr	r3, [r7, #4]
  97 0064 DA60     		str	r2, [r3, #12]
 107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Reset after a PHY select */
 109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  98              		.loc 1 109 11
  99 0066 7868     		ldr	r0, [r7, #4]
 100 0068 FFF7FEFF 		bl	USB_CoreReset
 101 006c 0346     		mov	r3, r0
 102 006e FB73     		strb	r3, [r7, #15]
 110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (cfg.battery_charging_enable == 0U)
 103              		.loc 1 111 12
 104 0070 3B6C     		ldr	r3, [r7, #64]
 105              		.loc 1 111 8
 106 0072 002B     		cmp	r3, #0
 107 0074 06D1     		bne	.L5
 112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* Activate the USB Transceiver */
 114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx->GCCFG |= USB_OTG_GCCFG_PWRDWN;
 108              		.loc 1 114 19
 109 0076 7B68     		ldr	r3, [r7, #4]
 110 0078 9B6B     		ldr	r3, [r3, #56]
 111 007a 43F48032 		orr	r2, r3, #65536
 112 007e 7B68     		ldr	r3, [r7, #4]
 113 0080 9A63     		str	r2, [r3, #56]
 114 0082 05E0     		b	.L4
 115              	.L5:
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 5


 115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else
 117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* Deactivate the USB Transceiver */
 119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
 116              		.loc 1 119 19
 117 0084 7B68     		ldr	r3, [r7, #4]
 118 0086 9B6B     		ldr	r3, [r3, #56]
 119 0088 23F48032 		bic	r2, r3, #65536
 120 008c 7B68     		ldr	r3, [r7, #4]
 121 008e 9A63     		str	r2, [r3, #56]
 122              	.L4:
 120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 123              		.loc 1 123 10
 124 0090 BB6A     		ldr	r3, [r7, #40]
 125              		.loc 1 123 6
 126 0092 012B     		cmp	r3, #1
 127 0094 16D1     		bne	.L6
 124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* make sure to reserve 18 fifo Locations for DMA buffers */
 126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GDFIFOCFG &= ~(0xFFFFU << 16);
 128              		.loc 1 126 21
 129 0096 7B68     		ldr	r3, [r7, #4]
 130 0098 DB6D     		ldr	r3, [r3, #92]
 131 009a 9AB2     		uxth	r2, r3
 132 009c 7B68     		ldr	r3, [r7, #4]
 133 009e DA65     		str	r2, [r3, #92]
 127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GDFIFOCFG |= 0x3EEU << 16;
 134              		.loc 1 127 21
 135 00a0 7B68     		ldr	r3, [r7, #4]
 136 00a2 DA6D     		ldr	r2, [r3, #92]
 137 00a4 0C4B     		ldr	r3, .L8+4
 138 00a6 1343     		orrs	r3, r3, r2
 139 00a8 7A68     		ldr	r2, [r7, #4]
 140 00aa D365     		str	r3, [r2, #92]
 128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_HBSTLEN_2;
 141              		.loc 1 129 19
 142 00ac 7B68     		ldr	r3, [r7, #4]
 143 00ae 9B68     		ldr	r3, [r3, #8]
 144 00b0 43F00602 		orr	r2, r3, #6
 145 00b4 7B68     		ldr	r3, [r7, #4]
 146 00b6 9A60     		str	r2, [r3, #8]
 130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_DMAEN;
 147              		.loc 1 130 19
 148 00b8 7B68     		ldr	r3, [r7, #4]
 149 00ba 9B68     		ldr	r3, [r3, #8]
 150 00bc 43F02002 		orr	r2, r3, #32
 151 00c0 7B68     		ldr	r3, [r7, #4]
 152 00c2 9A60     		str	r2, [r3, #8]
 153              	.L6:
 131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ret;
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 6


 154              		.loc 1 133 10
 155 00c4 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 156              		.loc 1 134 1
 157 00c6 1846     		mov	r0, r3
 158 00c8 1037     		adds	r7, r7, #16
 159              	.LCFI4:
 160              		.cfi_def_cfa_offset 24
 161 00ca BD46     		mov	sp, r7
 162              	.LCFI5:
 163              		.cfi_def_cfa_register 13
 164              		@ sp needed
 165 00cc BDE88040 		pop	{r7, lr}
 166              	.LCFI6:
 167              		.cfi_restore 14
 168              		.cfi_restore 7
 169              		.cfi_def_cfa_offset 16
 170 00d0 04B0     		add	sp, sp, #16
 171              	.LCFI7:
 172              		.cfi_def_cfa_offset 0
 173 00d2 7047     		bx	lr
 174              	.L9:
 175              		.align	2
 176              	.L8:
 177 00d4 BFFFBDFF 		.word	-4325441
 178 00d8 0000EE03 		.word	65929216
 179              		.cfi_endproc
 180              	.LFE144:
 182              		.section	.text.USB_SetTurnaroundTime,"ax",%progbits
 183              		.align	1
 184              		.global	USB_SetTurnaroundTime
 185              		.syntax unified
 186              		.thumb
 187              		.thumb_func
 189              	USB_SetTurnaroundTime:
 190              	.LFB145:
 135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Set the USB turnaround time
 139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx USB Instance
 140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  hclk: AHB clock frequency
 141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval USB turnaround time In PHY Clocks number
 142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_SetTurnaroundTime(USB_OTG_GlobalTypeDef *USBx,
 144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                         uint32_t hclk, uint8_t speed)
 145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 191              		.loc 1 145 1
 192              		.cfi_startproc
 193              		@ args = 0, pretend = 0, frame = 24
 194              		@ frame_needed = 1, uses_anonymous_args = 0
 195              		@ link register save eliminated.
 196 0000 80B4     		push	{r7}
 197              	.LCFI8:
 198              		.cfi_def_cfa_offset 4
 199              		.cfi_offset 7, -4
 200 0002 87B0     		sub	sp, sp, #28
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 7


 201              	.LCFI9:
 202              		.cfi_def_cfa_offset 32
 203 0004 00AF     		add	r7, sp, #0
 204              	.LCFI10:
 205              		.cfi_def_cfa_register 7
 206 0006 F860     		str	r0, [r7, #12]
 207 0008 B960     		str	r1, [r7, #8]
 208 000a 1346     		mov	r3, r2
 209 000c FB71     		strb	r3, [r7, #7]
 146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t UsbTrd;
 147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* The USBTRD is configured according to the tables below, depending on AHB frequency
 149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   used by application. In the low AHB frequency range it is used to stretch enough the USB response
 150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   time to IN tokens, the USB turnaround time, so to compensate for the longer AHB read access
 151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   latency to the Data FIFO */
 152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (speed == USBD_FS_SPEED)
 210              		.loc 1 152 6
 211 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 212 0010 022B     		cmp	r3, #2
 213 0012 65D1     		bne	.L11
 153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((hclk >= 14200000U) && (hclk < 15000000U))
 214              		.loc 1 154 8
 215 0014 BB68     		ldr	r3, [r7, #8]
 216 0016 414A     		ldr	r2, .L25
 217 0018 9342     		cmp	r3, r2
 218 001a 06D9     		bls	.L12
 219              		.loc 1 154 29 discriminator 1
 220 001c BB68     		ldr	r3, [r7, #8]
 221 001e 404A     		ldr	r2, .L25+4
 222 0020 9342     		cmp	r3, r2
 223 0022 02D2     		bcs	.L12
 155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* hclk Clock Range between 14.2-15 MHz */
 157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       UsbTrd = 0xFU;
 224              		.loc 1 157 14
 225 0024 0F23     		movs	r3, #15
 226 0026 7B61     		str	r3, [r7, #20]
 227 0028 62E0     		b	.L22
 228              	.L12:
 158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else if ((hclk >= 15000000U) && (hclk < 16000000U))
 229              		.loc 1 159 13
 230 002a BB68     		ldr	r3, [r7, #8]
 231 002c 3C4A     		ldr	r2, .L25+4
 232 002e 9342     		cmp	r3, r2
 233 0030 06D3     		bcc	.L14
 234              		.loc 1 159 34 discriminator 1
 235 0032 BB68     		ldr	r3, [r7, #8]
 236 0034 3B4A     		ldr	r2, .L25+8
 237 0036 9342     		cmp	r3, r2
 238 0038 02D2     		bcs	.L14
 160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* hclk Clock Range between 15-16 MHz */
 162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       UsbTrd = 0xEU;
 239              		.loc 1 162 14
 240 003a 0E23     		movs	r3, #14
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 8


 241 003c 7B61     		str	r3, [r7, #20]
 242 003e 57E0     		b	.L22
 243              	.L14:
 163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else if ((hclk >= 16000000U) && (hclk < 17200000U))
 244              		.loc 1 164 13
 245 0040 BB68     		ldr	r3, [r7, #8]
 246 0042 384A     		ldr	r2, .L25+8
 247 0044 9342     		cmp	r3, r2
 248 0046 06D3     		bcc	.L15
 249              		.loc 1 164 34 discriminator 1
 250 0048 BB68     		ldr	r3, [r7, #8]
 251 004a 374A     		ldr	r2, .L25+12
 252 004c 9342     		cmp	r3, r2
 253 004e 02D2     		bcs	.L15
 165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* hclk Clock Range between 16-17.2 MHz */
 167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       UsbTrd = 0xDU;
 254              		.loc 1 167 14
 255 0050 0D23     		movs	r3, #13
 256 0052 7B61     		str	r3, [r7, #20]
 257 0054 4CE0     		b	.L22
 258              	.L15:
 168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else if ((hclk >= 17200000U) && (hclk < 18500000U))
 259              		.loc 1 169 13
 260 0056 BB68     		ldr	r3, [r7, #8]
 261 0058 334A     		ldr	r2, .L25+12
 262 005a 9342     		cmp	r3, r2
 263 005c 06D3     		bcc	.L16
 264              		.loc 1 169 34 discriminator 1
 265 005e BB68     		ldr	r3, [r7, #8]
 266 0060 324A     		ldr	r2, .L25+16
 267 0062 9342     		cmp	r3, r2
 268 0064 02D8     		bhi	.L16
 170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* hclk Clock Range between 17.2-18.5 MHz */
 172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       UsbTrd = 0xCU;
 269              		.loc 1 172 14
 270 0066 0C23     		movs	r3, #12
 271 0068 7B61     		str	r3, [r7, #20]
 272 006a 41E0     		b	.L22
 273              	.L16:
 173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else if ((hclk >= 18500000U) && (hclk < 20000000U))
 274              		.loc 1 174 13
 275 006c BB68     		ldr	r3, [r7, #8]
 276 006e 2F4A     		ldr	r2, .L25+16
 277 0070 9342     		cmp	r3, r2
 278 0072 06D9     		bls	.L17
 279              		.loc 1 174 34 discriminator 1
 280 0074 BB68     		ldr	r3, [r7, #8]
 281 0076 2E4A     		ldr	r2, .L25+20
 282 0078 9342     		cmp	r3, r2
 283 007a 02D8     		bhi	.L17
 175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* hclk Clock Range between 18.5-20 MHz */
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 9


 177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       UsbTrd = 0xBU;
 284              		.loc 1 177 14
 285 007c 0B23     		movs	r3, #11
 286 007e 7B61     		str	r3, [r7, #20]
 287 0080 36E0     		b	.L22
 288              	.L17:
 178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else if ((hclk >= 20000000U) && (hclk < 21800000U))
 289              		.loc 1 179 13
 290 0082 BB68     		ldr	r3, [r7, #8]
 291 0084 2A4A     		ldr	r2, .L25+20
 292 0086 9342     		cmp	r3, r2
 293 0088 06D9     		bls	.L18
 294              		.loc 1 179 34 discriminator 1
 295 008a BB68     		ldr	r3, [r7, #8]
 296 008c 294A     		ldr	r2, .L25+24
 297 008e 9342     		cmp	r3, r2
 298 0090 02D8     		bhi	.L18
 180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* hclk Clock Range between 20-21.8 MHz */
 182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       UsbTrd = 0xAU;
 299              		.loc 1 182 14
 300 0092 0A23     		movs	r3, #10
 301 0094 7B61     		str	r3, [r7, #20]
 302 0096 2BE0     		b	.L22
 303              	.L18:
 183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else if ((hclk >= 21800000U) && (hclk < 24000000U))
 304              		.loc 1 184 13
 305 0098 BB68     		ldr	r3, [r7, #8]
 306 009a 264A     		ldr	r2, .L25+24
 307 009c 9342     		cmp	r3, r2
 308 009e 06D9     		bls	.L19
 309              		.loc 1 184 34 discriminator 1
 310 00a0 BB68     		ldr	r3, [r7, #8]
 311 00a2 254A     		ldr	r2, .L25+28
 312 00a4 9342     		cmp	r3, r2
 313 00a6 02D2     		bcs	.L19
 185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* hclk Clock Range between 21.8-24 MHz */
 187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       UsbTrd = 0x9U;
 314              		.loc 1 187 14
 315 00a8 0923     		movs	r3, #9
 316 00aa 7B61     		str	r3, [r7, #20]
 317 00ac 20E0     		b	.L22
 318              	.L19:
 188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else if ((hclk >= 24000000U) && (hclk < 27700000U))
 319              		.loc 1 189 13
 320 00ae BB68     		ldr	r3, [r7, #8]
 321 00b0 214A     		ldr	r2, .L25+28
 322 00b2 9342     		cmp	r3, r2
 323 00b4 06D3     		bcc	.L20
 324              		.loc 1 189 34 discriminator 1
 325 00b6 BB68     		ldr	r3, [r7, #8]
 326 00b8 204A     		ldr	r2, .L25+32
 327 00ba 9342     		cmp	r3, r2
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 10


 328 00bc 02D8     		bhi	.L20
 190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* hclk Clock Range between 24-27.7 MHz */
 192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       UsbTrd = 0x8U;
 329              		.loc 1 192 14
 330 00be 0823     		movs	r3, #8
 331 00c0 7B61     		str	r3, [r7, #20]
 332 00c2 15E0     		b	.L22
 333              	.L20:
 193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else if ((hclk >= 27700000U) && (hclk < 32000000U))
 334              		.loc 1 194 13
 335 00c4 BB68     		ldr	r3, [r7, #8]
 336 00c6 1D4A     		ldr	r2, .L25+32
 337 00c8 9342     		cmp	r3, r2
 338 00ca 06D9     		bls	.L21
 339              		.loc 1 194 34 discriminator 1
 340 00cc BB68     		ldr	r3, [r7, #8]
 341 00ce 1C4A     		ldr	r2, .L25+36
 342 00d0 9342     		cmp	r3, r2
 343 00d2 02D2     		bcs	.L21
 195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* hclk Clock Range between 27.7-32 MHz */
 197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       UsbTrd = 0x7U;
 344              		.loc 1 197 14
 345 00d4 0723     		movs	r3, #7
 346 00d6 7B61     		str	r3, [r7, #20]
 347 00d8 0AE0     		b	.L22
 348              	.L21:
 198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else /* if(hclk >= 32000000) */
 200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* hclk Clock Range between 32-200 MHz */
 202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       UsbTrd = 0x6U;
 349              		.loc 1 202 14
 350 00da 0623     		movs	r3, #6
 351 00dc 7B61     		str	r3, [r7, #20]
 352 00de 07E0     		b	.L22
 353              	.L11:
 203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else if (speed == USBD_HS_SPEED)
 354              		.loc 1 205 11
 355 00e0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 356 00e2 002B     		cmp	r3, #0
 357 00e4 02D1     		bne	.L23
 206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     UsbTrd = USBD_HS_TRDT_VALUE;
 358              		.loc 1 207 12
 359 00e6 0923     		movs	r3, #9
 360 00e8 7B61     		str	r3, [r7, #20]
 361 00ea 01E0     		b	.L22
 362              	.L23:
 208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
 210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     UsbTrd = USBD_DEFAULT_TRDT_VALUE;
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 11


 363              		.loc 1 211 12
 364 00ec 0923     		movs	r3, #9
 365 00ee 7B61     		str	r3, [r7, #20]
 366              	.L22:
 212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 367              		.loc 1 214 17
 368 00f0 FB68     		ldr	r3, [r7, #12]
 369 00f2 DB68     		ldr	r3, [r3, #12]
 370 00f4 23F47052 		bic	r2, r3, #15360
 371 00f8 FB68     		ldr	r3, [r7, #12]
 372 00fa DA60     		str	r2, [r3, #12]
 215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GUSBCFG |= (uint32_t)((UsbTrd << 10) & USB_OTG_GUSBCFG_TRDT);
 373              		.loc 1 215 17
 374 00fc FB68     		ldr	r3, [r7, #12]
 375 00fe DA68     		ldr	r2, [r3, #12]
 376              		.loc 1 215 39
 377 0100 7B69     		ldr	r3, [r7, #20]
 378 0102 9B02     		lsls	r3, r3, #10
 379              		.loc 1 215 20
 380 0104 03F47053 		and	r3, r3, #15360
 381              		.loc 1 215 17
 382 0108 1A43     		orrs	r2, r2, r3
 383 010a FB68     		ldr	r3, [r7, #12]
 384 010c DA60     		str	r2, [r3, #12]
 216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 385              		.loc 1 217 10
 386 010e 0023     		movs	r3, #0
 218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 387              		.loc 1 218 1
 388 0110 1846     		mov	r0, r3
 389 0112 1C37     		adds	r7, r7, #28
 390              	.LCFI11:
 391              		.cfi_def_cfa_offset 4
 392 0114 BD46     		mov	sp, r7
 393              	.LCFI12:
 394              		.cfi_def_cfa_register 13
 395              		@ sp needed
 396 0116 5DF8047B 		ldr	r7, [sp], #4
 397              	.LCFI13:
 398              		.cfi_restore 7
 399              		.cfi_def_cfa_offset 0
 400 011a 7047     		bx	lr
 401              	.L26:
 402              		.align	2
 403              	.L25:
 404 011c BFACD800 		.word	14199999
 405 0120 C0E1E400 		.word	15000000
 406 0124 0024F400 		.word	16000000
 407 0128 80730601 		.word	17200000
 408 012c 9F491A01 		.word	18499999
 409 0130 FF2C3101 		.word	19999999
 410 0134 3FA44C01 		.word	21799999
 411 0138 00366E01 		.word	24000000
 412 013c 1FABA601 		.word	27699999
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 12


 413 0140 0048E801 		.word	32000000
 414              		.cfi_endproc
 415              	.LFE145:
 417              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 418              		.align	1
 419              		.global	USB_EnableGlobalInt
 420              		.syntax unified
 421              		.thumb
 422              		.thumb_func
 424              	USB_EnableGlobalInt:
 425              	.LFB146:
 219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 426              		.loc 1 227 1
 427              		.cfi_startproc
 428              		@ args = 0, pretend = 0, frame = 8
 429              		@ frame_needed = 1, uses_anonymous_args = 0
 430              		@ link register save eliminated.
 431 0000 80B4     		push	{r7}
 432              	.LCFI14:
 433              		.cfi_def_cfa_offset 4
 434              		.cfi_offset 7, -4
 435 0002 83B0     		sub	sp, sp, #12
 436              	.LCFI15:
 437              		.cfi_def_cfa_offset 16
 438 0004 00AF     		add	r7, sp, #0
 439              	.LCFI16:
 440              		.cfi_def_cfa_register 7
 441 0006 7860     		str	r0, [r7, #4]
 228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 442              		.loc 1 228 17
 443 0008 7B68     		ldr	r3, [r7, #4]
 444 000a 9B68     		ldr	r3, [r3, #8]
 445 000c 43F00102 		orr	r2, r3, #1
 446 0010 7B68     		ldr	r3, [r7, #4]
 447 0012 9A60     		str	r2, [r3, #8]
 229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 448              		.loc 1 229 10
 449 0014 0023     		movs	r3, #0
 230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 450              		.loc 1 230 1
 451 0016 1846     		mov	r0, r3
 452 0018 0C37     		adds	r7, r7, #12
 453              	.LCFI17:
 454              		.cfi_def_cfa_offset 4
 455 001a BD46     		mov	sp, r7
 456              	.LCFI18:
 457              		.cfi_def_cfa_register 13
 458              		@ sp needed
 459 001c 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 13


 460              	.LCFI19:
 461              		.cfi_restore 7
 462              		.cfi_def_cfa_offset 0
 463 0020 7047     		bx	lr
 464              		.cfi_endproc
 465              	.LFE146:
 467              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 468              		.align	1
 469              		.global	USB_DisableGlobalInt
 470              		.syntax unified
 471              		.thumb
 472              		.thumb_func
 474              	USB_DisableGlobalInt:
 475              	.LFB147:
 231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 476              		.loc 1 239 1
 477              		.cfi_startproc
 478              		@ args = 0, pretend = 0, frame = 8
 479              		@ frame_needed = 1, uses_anonymous_args = 0
 480              		@ link register save eliminated.
 481 0000 80B4     		push	{r7}
 482              	.LCFI20:
 483              		.cfi_def_cfa_offset 4
 484              		.cfi_offset 7, -4
 485 0002 83B0     		sub	sp, sp, #12
 486              	.LCFI21:
 487              		.cfi_def_cfa_offset 16
 488 0004 00AF     		add	r7, sp, #0
 489              	.LCFI22:
 490              		.cfi_def_cfa_register 7
 491 0006 7860     		str	r0, [r7, #4]
 240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 492              		.loc 1 240 17
 493 0008 7B68     		ldr	r3, [r7, #4]
 494 000a 9B68     		ldr	r3, [r3, #8]
 495 000c 23F00102 		bic	r2, r3, #1
 496 0010 7B68     		ldr	r3, [r7, #4]
 497 0012 9A60     		str	r2, [r3, #8]
 241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 498              		.loc 1 241 10
 499 0014 0023     		movs	r3, #0
 242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 500              		.loc 1 242 1
 501 0016 1846     		mov	r0, r3
 502 0018 0C37     		adds	r7, r7, #12
 503              	.LCFI23:
 504              		.cfi_def_cfa_offset 4
 505 001a BD46     		mov	sp, r7
 506              	.LCFI24:
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 14


 507              		.cfi_def_cfa_register 13
 508              		@ sp needed
 509 001c 5DF8047B 		ldr	r7, [sp], #4
 510              	.LCFI25:
 511              		.cfi_restore 7
 512              		.cfi_def_cfa_offset 0
 513 0020 7047     		bx	lr
 514              		.cfi_endproc
 515              	.LFE147:
 517              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 518              		.align	1
 519              		.global	USB_SetCurrentMode
 520              		.syntax unified
 521              		.thumb
 522              		.thumb_func
 524              	USB_SetCurrentMode:
 525              	.LFB148:
 243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_SetCurrentMode Set functional mode
 246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  mode  current core mode
 248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
 249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE Peripheral mode
 250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg USB_HOST_MODE Host mode
 251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx, USB_OTG_ModeTypeDef mode)
 254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 526              		.loc 1 254 1
 527              		.cfi_startproc
 528              		@ args = 0, pretend = 0, frame = 16
 529              		@ frame_needed = 1, uses_anonymous_args = 0
 530 0000 80B5     		push	{r7, lr}
 531              	.LCFI26:
 532              		.cfi_def_cfa_offset 8
 533              		.cfi_offset 7, -8
 534              		.cfi_offset 14, -4
 535 0002 84B0     		sub	sp, sp, #16
 536              	.LCFI27:
 537              		.cfi_def_cfa_offset 24
 538 0004 00AF     		add	r7, sp, #0
 539              	.LCFI28:
 540              		.cfi_def_cfa_register 7
 541 0006 7860     		str	r0, [r7, #4]
 542 0008 0B46     		mov	r3, r1
 543 000a FB70     		strb	r3, [r7, #3]
 255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t ms = 0U;
 544              		.loc 1 255 12
 545 000c 0023     		movs	r3, #0
 546 000e FB60     		str	r3, [r7, #12]
 256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD);
 547              		.loc 1 257 17
 548 0010 7B68     		ldr	r3, [r7, #4]
 549 0012 DB68     		ldr	r3, [r3, #12]
 550 0014 23F0C042 		bic	r2, r3, #1610612736
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 15


 551 0018 7B68     		ldr	r3, [r7, #4]
 552 001a DA60     		str	r2, [r3, #12]
 258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (mode == USB_HOST_MODE)
 553              		.loc 1 259 6
 554 001c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 555 001e 012B     		cmp	r3, #1
 556 0020 15D1     		bne	.L32
 260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD;
 557              		.loc 1 261 19
 558 0022 7B68     		ldr	r3, [r7, #4]
 559 0024 DB68     		ldr	r3, [r3, #12]
 560 0026 43F00052 		orr	r2, r3, #536870912
 561 002a 7B68     		ldr	r3, [r7, #4]
 562 002c DA60     		str	r2, [r3, #12]
 563              	.L34:
 262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     do
 264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       HAL_Delay(1U);
 564              		.loc 1 265 7 discriminator 2
 565 002e 0120     		movs	r0, #1
 566 0030 FFF7FEFF 		bl	HAL_Delay
 266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       ms++;
 567              		.loc 1 266 9 discriminator 2
 568 0034 FB68     		ldr	r3, [r7, #12]
 569 0036 0133     		adds	r3, r3, #1
 570 0038 FB60     		str	r3, [r7, #12]
 267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_HOST_MODE) && (ms < 50U));
 571              		.loc 1 267 15 discriminator 2
 572 003a 7868     		ldr	r0, [r7, #4]
 573 003c FFF7FEFF 		bl	USB_GetMode
 574 0040 0346     		mov	r3, r0
 575              		.loc 1 267 5 discriminator 2
 576 0042 012B     		cmp	r3, #1
 577 0044 1ED0     		beq	.L33
 578              		.loc 1 267 61 discriminator 1
 579 0046 FB68     		ldr	r3, [r7, #12]
 580 0048 312B     		cmp	r3, #49
 581 004a F0D9     		bls	.L34
 582 004c 1AE0     		b	.L33
 583              	.L32:
 268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else if (mode == USB_DEVICE_MODE)
 584              		.loc 1 269 11
 585 004e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 586 0050 002B     		cmp	r3, #0
 587 0052 15D1     		bne	.L35
 270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD;
 588              		.loc 1 271 19
 589 0054 7B68     		ldr	r3, [r7, #4]
 590 0056 DB68     		ldr	r3, [r3, #12]
 591 0058 43F08042 		orr	r2, r3, #1073741824
 592 005c 7B68     		ldr	r3, [r7, #4]
 593 005e DA60     		str	r2, [r3, #12]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 16


 594              	.L36:
 272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     do
 274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       HAL_Delay(1U);
 595              		.loc 1 275 7 discriminator 2
 596 0060 0120     		movs	r0, #1
 597 0062 FFF7FEFF 		bl	HAL_Delay
 276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       ms++;
 598              		.loc 1 276 9 discriminator 2
 599 0066 FB68     		ldr	r3, [r7, #12]
 600 0068 0133     		adds	r3, r3, #1
 601 006a FB60     		str	r3, [r7, #12]
 277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_DEVICE_MODE) && (ms < 50U));
 602              		.loc 1 277 15 discriminator 2
 603 006c 7868     		ldr	r0, [r7, #4]
 604 006e FFF7FEFF 		bl	USB_GetMode
 605 0072 0346     		mov	r3, r0
 606              		.loc 1 277 5 discriminator 2
 607 0074 002B     		cmp	r3, #0
 608 0076 05D0     		beq	.L33
 609              		.loc 1 277 63 discriminator 1
 610 0078 FB68     		ldr	r3, [r7, #12]
 611 007a 312B     		cmp	r3, #49
 612 007c F0D9     		bls	.L36
 613 007e 01E0     		b	.L33
 614              	.L35:
 278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
 280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     return HAL_ERROR;
 615              		.loc 1 281 12
 616 0080 0123     		movs	r3, #1
 617 0082 05E0     		b	.L37
 618              	.L33:
 282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ms == 50U)
 619              		.loc 1 284 6
 620 0084 FB68     		ldr	r3, [r7, #12]
 621 0086 322B     		cmp	r3, #50
 622 0088 01D1     		bne	.L38
 285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     return HAL_ERROR;
 623              		.loc 1 286 12
 624 008a 0123     		movs	r3, #1
 625 008c 00E0     		b	.L37
 626              	.L38:
 287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 627              		.loc 1 289 10
 628 008e 0023     		movs	r3, #0
 629              	.L37:
 290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 630              		.loc 1 290 1
 631 0090 1846     		mov	r0, r3
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 17


 632 0092 1037     		adds	r7, r7, #16
 633              	.LCFI29:
 634              		.cfi_def_cfa_offset 8
 635 0094 BD46     		mov	sp, r7
 636              	.LCFI30:
 637              		.cfi_def_cfa_register 13
 638              		@ sp needed
 639 0096 80BD     		pop	{r7, pc}
 640              		.cfi_endproc
 641              	.LFE148:
 643              		.section	.text.USB_DevInit,"ax",%progbits
 644              		.align	1
 645              		.global	USB_DevInit
 646              		.syntax unified
 647              		.thumb
 648              		.thumb_func
 650              	USB_DevInit:
 651              	.LFB149:
 291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_DevInit Initializes the USB_OTG controller registers
 294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         for device mode
 295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 652              		.loc 1 301 1
 653              		.cfi_startproc
 654              		@ args = 56, pretend = 16, frame = 24
 655              		@ frame_needed = 1, uses_anonymous_args = 0
 656 0000 84B0     		sub	sp, sp, #16
 657              	.LCFI31:
 658              		.cfi_def_cfa_offset 16
 659 0002 80B5     		push	{r7, lr}
 660              	.LCFI32:
 661              		.cfi_def_cfa_offset 24
 662              		.cfi_offset 7, -24
 663              		.cfi_offset 14, -20
 664 0004 86B0     		sub	sp, sp, #24
 665              	.LCFI33:
 666              		.cfi_def_cfa_offset 48
 667 0006 00AF     		add	r7, sp, #0
 668              	.LCFI34:
 669              		.cfi_def_cfa_register 7
 670 0008 7860     		str	r0, [r7, #4]
 671 000a 07F12400 		add	r0, r7, #36
 672 000e 80E80E00 		stm	r0, {r1, r2, r3}
 302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 673              		.loc 1 302 21
 674 0012 0023     		movs	r3, #0
 675 0014 FB75     		strb	r3, [r7, #23]
 303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 676              		.loc 1 303 12
 677 0016 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 18


 678 0018 FB60     		str	r3, [r7, #12]
 304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t i;
 305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 679              		.loc 1 306 10
 680 001a 0023     		movs	r3, #0
 681 001c 3B61     		str	r3, [r7, #16]
 682              		.loc 1 306 3
 683 001e 09E0     		b	.L40
 684              	.L41:
 307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->DIEPTXF[i] = 0U;
 685              		.loc 1 308 22 discriminator 3
 686 0020 7A68     		ldr	r2, [r7, #4]
 687 0022 3B69     		ldr	r3, [r7, #16]
 688 0024 4033     		adds	r3, r3, #64
 689 0026 9B00     		lsls	r3, r3, #2
 690 0028 1344     		add	r3, r3, r2
 691 002a 0022     		movs	r2, #0
 692 002c 5A60     		str	r2, [r3, #4]
 306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 693              		.loc 1 306 26 discriminator 3
 694 002e 3B69     		ldr	r3, [r7, #16]
 695 0030 0133     		adds	r3, r3, #1
 696 0032 3B61     		str	r3, [r7, #16]
 697              	.L40:
 306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 698              		.loc 1 306 3 discriminator 1
 699 0034 3B69     		ldr	r3, [r7, #16]
 700 0036 0E2B     		cmp	r3, #14
 701 0038 F2D9     		bls	.L41
 309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* VBUS Sensing setup */
 312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 702              		.loc 1 312 10
 703 003a FB6C     		ldr	r3, [r7, #76]
 704              		.loc 1 312 6
 705 003c 002B     		cmp	r3, #0
 706 003e 1CD1     		bne	.L42
 313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 707              		.loc 1 314 23
 708 0040 FB68     		ldr	r3, [r7, #12]
 709 0042 03F50063 		add	r3, r3, #2048
 710 0046 5B68     		ldr	r3, [r3, #4]
 711 0048 FA68     		ldr	r2, [r7, #12]
 712 004a 02F50062 		add	r2, r2, #2048
 713 004e 43F00203 		orr	r3, r3, #2
 714 0052 5360     		str	r3, [r2, #4]
 315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 715              		.loc 1 317 17
 716 0054 7B68     		ldr	r3, [r7, #4]
 717 0056 9B6B     		ldr	r3, [r3, #56]
 718 0058 23F40012 		bic	r2, r3, #2097152
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 19


 719 005c 7B68     		ldr	r3, [r7, #4]
 720 005e 9A63     		str	r2, [r3, #56]
 318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* B-peripheral session valid override enable */
 320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 721              		.loc 1 320 19
 722 0060 7B68     		ldr	r3, [r7, #4]
 723 0062 1B68     		ldr	r3, [r3]
 724 0064 43F04002 		orr	r2, r3, #64
 725 0068 7B68     		ldr	r3, [r7, #4]
 726 006a 1A60     		str	r2, [r3]
 321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 727              		.loc 1 321 19
 728 006c 7B68     		ldr	r3, [r7, #4]
 729 006e 1B68     		ldr	r3, [r3]
 730 0070 43F08002 		orr	r2, r3, #128
 731 0074 7B68     		ldr	r3, [r7, #4]
 732 0076 1A60     		str	r2, [r3]
 733 0078 05E0     		b	.L43
 734              	.L42:
 322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
 324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 735              		.loc 1 326 17
 736 007a 7B68     		ldr	r3, [r7, #4]
 737 007c 9B6B     		ldr	r3, [r3, #56]
 738 007e 43F40012 		orr	r2, r3, #2097152
 739 0082 7B68     		ldr	r3, [r7, #4]
 740 0084 9A63     		str	r2, [r3, #56]
 741              	.L43:
 327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Restart the Phy Clock */
 330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 742              		.loc 1 330 3
 743 0086 FB68     		ldr	r3, [r7, #12]
 744 0088 03F56063 		add	r3, r3, #3584
 745 008c 1A46     		mov	r2, r3
 746              		.loc 1 330 16
 747 008e 0023     		movs	r3, #0
 748 0090 1360     		str	r3, [r2]
 331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Device mode configuration */
 333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 749              		.loc 1 333 21
 750 0092 FB68     		ldr	r3, [r7, #12]
 751 0094 03F50063 		add	r3, r3, #2048
 752 0098 1946     		mov	r1, r3
 753 009a FB68     		ldr	r3, [r7, #12]
 754 009c 03F50063 		add	r3, r3, #2048
 755 00a0 1A46     		mov	r2, r3
 756 00a2 0B68     		ldr	r3, [r1]
 757 00a4 1360     		str	r3, [r2]
 334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 20


 758              		.loc 1 335 10
 759 00a6 BB6B     		ldr	r3, [r7, #56]
 760              		.loc 1 335 6
 761 00a8 012B     		cmp	r3, #1
 762 00aa 0CD1     		bne	.L44
 336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (cfg.speed == USBD_HS_SPEED)
 763              		.loc 1 337 12
 764 00ac FB6A     		ldr	r3, [r7, #44]
 765              		.loc 1 337 8
 766 00ae 002B     		cmp	r3, #0
 767 00b0 04D1     		bne	.L45
 338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* Set Core speed to High speed mode */
 340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH);
 768              		.loc 1 340 13
 769 00b2 0021     		movs	r1, #0
 770 00b4 7868     		ldr	r0, [r7, #4]
 771 00b6 FFF7FEFF 		bl	USB_SetDevSpeed
 772 00ba 08E0     		b	.L46
 773              	.L45:
 341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else
 343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* Set Core speed to Full speed mode */
 345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH_IN_FULL);
 774              		.loc 1 345 13
 775 00bc 0121     		movs	r1, #1
 776 00be 7868     		ldr	r0, [r7, #4]
 777 00c0 FFF7FEFF 		bl	USB_SetDevSpeed
 778 00c4 03E0     		b	.L46
 779              	.L44:
 346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
 349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Set Core speed to Full speed mode */
 351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_FULL);
 780              		.loc 1 351 11
 781 00c6 0321     		movs	r1, #3
 782 00c8 7868     		ldr	r0, [r7, #4]
 783 00ca FFF7FEFF 		bl	USB_SetDevSpeed
 784              	.L46:
 352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Flush the FIFOs */
 355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 785              		.loc 1 355 7
 786 00ce 1021     		movs	r1, #16
 787 00d0 7868     		ldr	r0, [r7, #4]
 788 00d2 FFF7FEFF 		bl	USB_FlushTxFifo
 789 00d6 0346     		mov	r3, r0
 790              		.loc 1 355 6
 791 00d8 002B     		cmp	r3, #0
 792 00da 01D0     		beq	.L47
 356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     ret = HAL_ERROR;
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 21


 793              		.loc 1 357 9
 794 00dc 0123     		movs	r3, #1
 795 00de FB75     		strb	r3, [r7, #23]
 796              	.L47:
 358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 797              		.loc 1 360 7
 798 00e0 7868     		ldr	r0, [r7, #4]
 799 00e2 FFF7FEFF 		bl	USB_FlushRxFifo
 800 00e6 0346     		mov	r3, r0
 801              		.loc 1 360 6
 802 00e8 002B     		cmp	r3, #0
 803 00ea 01D0     		beq	.L48
 361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     ret = HAL_ERROR;
 804              		.loc 1 362 9
 805 00ec 0123     		movs	r3, #1
 806 00ee FB75     		strb	r3, [r7, #23]
 807              	.L48:
 363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 808              		.loc 1 366 3
 809 00f0 FB68     		ldr	r3, [r7, #12]
 810 00f2 03F50063 		add	r3, r3, #2048
 811 00f6 1A46     		mov	r2, r3
 812              		.loc 1 366 24
 813 00f8 0023     		movs	r3, #0
 814 00fa 1361     		str	r3, [r2, #16]
 367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 815              		.loc 1 367 3
 816 00fc FB68     		ldr	r3, [r7, #12]
 817 00fe 03F50063 		add	r3, r3, #2048
 818 0102 1A46     		mov	r2, r3
 819              		.loc 1 367 24
 820 0104 0023     		movs	r3, #0
 821 0106 5361     		str	r3, [r2, #20]
 368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 822              		.loc 1 368 3
 823 0108 FB68     		ldr	r3, [r7, #12]
 824 010a 03F50063 		add	r3, r3, #2048
 825 010e 1A46     		mov	r2, r3
 826              		.loc 1 368 25
 827 0110 0023     		movs	r3, #0
 828 0112 D361     		str	r3, [r2, #28]
 369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 829              		.loc 1 370 10
 830 0114 0023     		movs	r3, #0
 831 0116 3B61     		str	r3, [r7, #16]
 832              		.loc 1 370 3
 833 0118 43E0     		b	.L49
 834              	.L53:
 371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 22


 835              		.loc 1 372 10
 836 011a 3B69     		ldr	r3, [r7, #16]
 837 011c 5A01     		lsls	r2, r3, #5
 838 011e FB68     		ldr	r3, [r7, #12]
 839 0120 1344     		add	r3, r3, r2
 840 0122 03F51063 		add	r3, r3, #2304
 841              		.loc 1 372 22
 842 0126 1B68     		ldr	r3, [r3]
 843              		.loc 1 372 32
 844 0128 03F00043 		and	r3, r3, #-2147483648
 845              		.loc 1 372 8
 846 012c B3F1004F 		cmp	r3, #-2147483648
 847 0130 18D1     		bne	.L50
 373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if (i == 0U)
 848              		.loc 1 374 10
 849 0132 3B69     		ldr	r3, [r7, #16]
 850 0134 002B     		cmp	r3, #0
 851 0136 0AD1     		bne	.L51
 375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 852              		.loc 1 376 9
 853 0138 3B69     		ldr	r3, [r7, #16]
 854 013a 5A01     		lsls	r2, r3, #5
 855 013c FB68     		ldr	r3, [r7, #12]
 856 013e 1344     		add	r3, r3, r2
 857 0140 03F51063 		add	r3, r3, #2304
 858 0144 1A46     		mov	r2, r3
 859              		.loc 1 376 31
 860 0146 4FF00063 		mov	r3, #134217728
 861 014a 1360     		str	r3, [r2]
 862 014c 13E0     		b	.L52
 863              	.L51:
 377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       else
 379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK;
 864              		.loc 1 380 9
 865 014e 3B69     		ldr	r3, [r7, #16]
 866 0150 5A01     		lsls	r2, r3, #5
 867 0152 FB68     		ldr	r3, [r7, #12]
 868 0154 1344     		add	r3, r3, r2
 869 0156 03F51063 		add	r3, r3, #2304
 870 015a 1A46     		mov	r2, r3
 871              		.loc 1 380 31
 872 015c 4FF09043 		mov	r3, #1207959552
 873 0160 1360     		str	r3, [r2]
 874 0162 08E0     		b	.L52
 875              	.L50:
 381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else
 384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 876              		.loc 1 385 7
 877 0164 3B69     		ldr	r3, [r7, #16]
 878 0166 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 23


 879 0168 FB68     		ldr	r3, [r7, #12]
 880 016a 1344     		add	r3, r3, r2
 881 016c 03F51063 		add	r3, r3, #2304
 882 0170 1A46     		mov	r2, r3
 883              		.loc 1 385 29
 884 0172 0023     		movs	r3, #0
 885 0174 1360     		str	r3, [r2]
 886              	.L52:
 386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 887              		.loc 1 388 5 discriminator 2
 888 0176 3B69     		ldr	r3, [r7, #16]
 889 0178 5A01     		lsls	r2, r3, #5
 890 017a FB68     		ldr	r3, [r7, #12]
 891 017c 1344     		add	r3, r3, r2
 892 017e 03F51063 		add	r3, r3, #2304
 893 0182 1A46     		mov	r2, r3
 894              		.loc 1 388 28 discriminator 2
 895 0184 0023     		movs	r3, #0
 896 0186 1361     		str	r3, [r2, #16]
 389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFB7FU;
 897              		.loc 1 389 5 discriminator 2
 898 0188 3B69     		ldr	r3, [r7, #16]
 899 018a 5A01     		lsls	r2, r3, #5
 900 018c FB68     		ldr	r3, [r7, #12]
 901 018e 1344     		add	r3, r3, r2
 902 0190 03F51063 		add	r3, r3, #2304
 903 0194 1A46     		mov	r2, r3
 904              		.loc 1 389 28 discriminator 2
 905 0196 4FF67F33 		movw	r3, #64383
 906 019a 9360     		str	r3, [r2, #8]
 370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 907              		.loc 1 370 40 discriminator 2
 908 019c 3B69     		ldr	r3, [r7, #16]
 909 019e 0133     		adds	r3, r3, #1
 910 01a0 3B61     		str	r3, [r7, #16]
 911              	.L49:
 370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 912              		.loc 1 370 23 discriminator 1
 913 01a2 7B6A     		ldr	r3, [r7, #36]
 370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 914              		.loc 1 370 3 discriminator 1
 915 01a4 3A69     		ldr	r2, [r7, #16]
 916 01a6 9A42     		cmp	r2, r3
 917 01a8 B7D3     		bcc	.L53
 390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 918              		.loc 1 392 10
 919 01aa 0023     		movs	r3, #0
 920 01ac 3B61     		str	r3, [r7, #16]
 921              		.loc 1 392 3
 922 01ae 43E0     		b	.L54
 923              	.L58:
 393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 24


 924              		.loc 1 394 10
 925 01b0 3B69     		ldr	r3, [r7, #16]
 926 01b2 5A01     		lsls	r2, r3, #5
 927 01b4 FB68     		ldr	r3, [r7, #12]
 928 01b6 1344     		add	r3, r3, r2
 929 01b8 03F53063 		add	r3, r3, #2816
 930              		.loc 1 394 23
 931 01bc 1B68     		ldr	r3, [r3]
 932              		.loc 1 394 33
 933 01be 03F00043 		and	r3, r3, #-2147483648
 934              		.loc 1 394 8
 935 01c2 B3F1004F 		cmp	r3, #-2147483648
 936 01c6 18D1     		bne	.L55
 395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if (i == 0U)
 937              		.loc 1 396 10
 938 01c8 3B69     		ldr	r3, [r7, #16]
 939 01ca 002B     		cmp	r3, #0
 940 01cc 0AD1     		bne	.L56
 397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 941              		.loc 1 398 9
 942 01ce 3B69     		ldr	r3, [r7, #16]
 943 01d0 5A01     		lsls	r2, r3, #5
 944 01d2 FB68     		ldr	r3, [r7, #12]
 945 01d4 1344     		add	r3, r3, r2
 946 01d6 03F53063 		add	r3, r3, #2816
 947 01da 1A46     		mov	r2, r3
 948              		.loc 1 398 32
 949 01dc 4FF00063 		mov	r3, #134217728
 950 01e0 1360     		str	r3, [r2]
 951 01e2 13E0     		b	.L57
 952              	.L56:
 399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       else
 401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK;
 953              		.loc 1 402 9
 954 01e4 3B69     		ldr	r3, [r7, #16]
 955 01e6 5A01     		lsls	r2, r3, #5
 956 01e8 FB68     		ldr	r3, [r7, #12]
 957 01ea 1344     		add	r3, r3, r2
 958 01ec 03F53063 		add	r3, r3, #2816
 959 01f0 1A46     		mov	r2, r3
 960              		.loc 1 402 32
 961 01f2 4FF09043 		mov	r3, #1207959552
 962 01f6 1360     		str	r3, [r2]
 963 01f8 08E0     		b	.L57
 964              	.L55:
 403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else
 406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 965              		.loc 1 407 7
 966 01fa 3B69     		ldr	r3, [r7, #16]
 967 01fc 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 25


 968 01fe FB68     		ldr	r3, [r7, #12]
 969 0200 1344     		add	r3, r3, r2
 970 0202 03F53063 		add	r3, r3, #2816
 971 0206 1A46     		mov	r2, r3
 972              		.loc 1 407 30
 973 0208 0023     		movs	r3, #0
 974 020a 1360     		str	r3, [r2]
 975              	.L57:
 408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 976              		.loc 1 410 5 discriminator 2
 977 020c 3B69     		ldr	r3, [r7, #16]
 978 020e 5A01     		lsls	r2, r3, #5
 979 0210 FB68     		ldr	r3, [r7, #12]
 980 0212 1344     		add	r3, r3, r2
 981 0214 03F53063 		add	r3, r3, #2816
 982 0218 1A46     		mov	r2, r3
 983              		.loc 1 410 29 discriminator 2
 984 021a 0023     		movs	r3, #0
 985 021c 1361     		str	r3, [r2, #16]
 411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFB7FU;
 986              		.loc 1 411 5 discriminator 2
 987 021e 3B69     		ldr	r3, [r7, #16]
 988 0220 5A01     		lsls	r2, r3, #5
 989 0222 FB68     		ldr	r3, [r7, #12]
 990 0224 1344     		add	r3, r3, r2
 991 0226 03F53063 		add	r3, r3, #2816
 992 022a 1A46     		mov	r2, r3
 993              		.loc 1 411 29 discriminator 2
 994 022c 4FF67F33 		movw	r3, #64383
 995 0230 9360     		str	r3, [r2, #8]
 392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 996              		.loc 1 392 40 discriminator 2
 997 0232 3B69     		ldr	r3, [r7, #16]
 998 0234 0133     		adds	r3, r3, #1
 999 0236 3B61     		str	r3, [r7, #16]
 1000              	.L54:
 392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 1001              		.loc 1 392 23 discriminator 1
 1002 0238 7B6A     		ldr	r3, [r7, #36]
 392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 1003              		.loc 1 392 3 discriminator 1
 1004 023a 3A69     		ldr	r2, [r7, #16]
 1005 023c 9A42     		cmp	r2, r3
 1006 023e B7D3     		bcc	.L58
 412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 1007              		.loc 1 414 24
 1008 0240 FB68     		ldr	r3, [r7, #12]
 1009 0242 03F50063 		add	r3, r3, #2048
 1010 0246 1B69     		ldr	r3, [r3, #16]
 1011 0248 FA68     		ldr	r2, [r7, #12]
 1012 024a 02F50062 		add	r2, r2, #2048
 1013 024e 23F48073 		bic	r3, r3, #256
 1014 0252 1361     		str	r3, [r2, #16]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 26


 415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Disable all interrupts. */
 417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 1015              		.loc 1 417 17
 1016 0254 7B68     		ldr	r3, [r7, #4]
 1017 0256 0022     		movs	r2, #0
 1018 0258 9A61     		str	r2, [r3, #24]
 418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Clear any pending interrupts */
 420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 1019              		.loc 1 420 17
 1020 025a 7B68     		ldr	r3, [r7, #4]
 1021 025c 6FF08042 		mvn	r2, #1073741824
 1022 0260 5A61     		str	r2, [r3, #20]
 421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Enable the common interrupts */
 423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 1023              		.loc 1 423 10
 1024 0262 3B6B     		ldr	r3, [r7, #48]
 1025              		.loc 1 423 6
 1026 0264 002B     		cmp	r3, #0
 1027 0266 05D1     		bne	.L59
 424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 1028              		.loc 1 425 19
 1029 0268 7B68     		ldr	r3, [r7, #4]
 1030 026a 9B69     		ldr	r3, [r3, #24]
 1031 026c 43F01002 		orr	r2, r3, #16
 1032 0270 7B68     		ldr	r3, [r7, #4]
 1033 0272 9A61     		str	r2, [r3, #24]
 1034              	.L59:
 426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |
 1035              		.loc 1 429 17
 1036 0274 7B68     		ldr	r3, [r7, #4]
 1037 0276 9A69     		ldr	r2, [r3, #24]
 1038 0278 0E4B     		ldr	r3, .L63
 1039 027a 1343     		orrs	r3, r3, r2
 1040 027c 7A68     		ldr	r2, [r7, #4]
 1041 027e 9361     		str	r3, [r2, #24]
 430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                    USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |
 431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                    USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM |
 432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                    USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM;
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (cfg.Sof_enable != 0U)
 1042              		.loc 1 434 10
 1043 0280 FB6B     		ldr	r3, [r7, #60]
 1044              		.loc 1 434 6
 1045 0282 002B     		cmp	r3, #0
 1046 0284 05D0     		beq	.L60
 435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 1047              		.loc 1 436 19
 1048 0286 7B68     		ldr	r3, [r7, #4]
 1049 0288 9B69     		ldr	r3, [r3, #24]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 27


 1050 028a 43F00802 		orr	r2, r3, #8
 1051 028e 7B68     		ldr	r3, [r7, #4]
 1052 0290 9A61     		str	r2, [r3, #24]
 1053              	.L60:
 437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 1U)
 1054              		.loc 1 439 10
 1055 0292 FB6C     		ldr	r3, [r7, #76]
 1056              		.loc 1 439 6
 1057 0294 012B     		cmp	r3, #1
 1058 0296 05D1     		bne	.L61
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT);
 1059              		.loc 1 441 19
 1060 0298 7B68     		ldr	r3, [r7, #4]
 1061 029a 9A69     		ldr	r2, [r3, #24]
 1062 029c 064B     		ldr	r3, .L63+4
 1063 029e 1343     		orrs	r3, r3, r2
 1064 02a0 7A68     		ldr	r2, [r7, #4]
 1065 02a2 9361     		str	r3, [r2, #24]
 1066              	.L61:
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ret;
 1067              		.loc 1 444 10
 1068 02a4 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 1069              		.loc 1 445 1
 1070 02a6 1846     		mov	r0, r3
 1071 02a8 1837     		adds	r7, r7, #24
 1072              	.LCFI35:
 1073              		.cfi_def_cfa_offset 24
 1074 02aa BD46     		mov	sp, r7
 1075              	.LCFI36:
 1076              		.cfi_def_cfa_register 13
 1077              		@ sp needed
 1078 02ac BDE88040 		pop	{r7, lr}
 1079              	.LCFI37:
 1080              		.cfi_restore 14
 1081              		.cfi_restore 7
 1082              		.cfi_def_cfa_offset 16
 1083 02b0 04B0     		add	sp, sp, #16
 1084              	.LCFI38:
 1085              		.cfi_def_cfa_offset 0
 1086 02b2 7047     		bx	lr
 1087              	.L64:
 1088              		.align	2
 1089              	.L63:
 1090 02b4 00383C80 		.word	-2143537152
 1091 02b8 04000040 		.word	1073741828
 1092              		.cfi_endproc
 1093              	.LFE149:
 1095              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 1096              		.align	1
 1097              		.global	USB_FlushTxFifo
 1098              		.syntax unified
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 28


 1099              		.thumb
 1100              		.thumb_func
 1102              	USB_FlushTxFifo:
 1103              	.LFB150:
 446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_FlushTxFifo Flush a Tx FIFO
 449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  num  FIFO number
 451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo(USB_OTG_GlobalTypeDef *USBx, uint32_t num)
 456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 1104              		.loc 1 456 1
 1105              		.cfi_startproc
 1106              		@ args = 0, pretend = 0, frame = 16
 1107              		@ frame_needed = 1, uses_anonymous_args = 0
 1108              		@ link register save eliminated.
 1109 0000 80B4     		push	{r7}
 1110              	.LCFI39:
 1111              		.cfi_def_cfa_offset 4
 1112              		.cfi_offset 7, -4
 1113 0002 85B0     		sub	sp, sp, #20
 1114              	.LCFI40:
 1115              		.cfi_def_cfa_offset 24
 1116 0004 00AF     		add	r7, sp, #0
 1117              	.LCFI41:
 1118              		.cfi_def_cfa_register 7
 1119 0006 7860     		str	r0, [r7, #4]
 1120 0008 3960     		str	r1, [r7]
 457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   __IO uint32_t count = 0U;
 1121              		.loc 1 457 17
 1122 000a 0023     		movs	r3, #0
 1123 000c FB60     		str	r3, [r7, #12]
 1124              	.L68:
 458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   do
 461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     count++;
 1125              		.loc 1 462 10
 1126 000e FB68     		ldr	r3, [r7, #12]
 1127 0010 0133     		adds	r3, r3, #1
 1128 0012 FB60     		str	r3, [r7, #12]
 463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (count > 200000U)
 1129              		.loc 1 464 15
 1130 0014 FB68     		ldr	r3, [r7, #12]
 1131              		.loc 1 464 8
 1132 0016 134A     		ldr	r2, .L71
 1133 0018 9342     		cmp	r3, r2
 1134 001a 01D9     		bls	.L66
 465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       return HAL_TIMEOUT;
 1135              		.loc 1 466 14
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 29


 1136 001c 0323     		movs	r3, #3
 1137 001e 1BE0     		b	.L67
 1138              	.L66:
 467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 1139              		.loc 1 468 17
 1140 0020 7B68     		ldr	r3, [r7, #4]
 1141 0022 1B69     		ldr	r3, [r3, #16]
 1142              		.loc 1 468 3
 1143 0024 002B     		cmp	r3, #0
 1144 0026 F2DA     		bge	.L68
 469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Flush TX Fifo */
 471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   count = 0U;
 1145              		.loc 1 471 9
 1146 0028 0023     		movs	r3, #0
 1147 002a FB60     		str	r3, [r7, #12]
 472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GRSTCTL = (USB_OTG_GRSTCTL_TXFFLSH | (num << 6));
 1148              		.loc 1 472 51
 1149 002c 3B68     		ldr	r3, [r7]
 1150 002e 9B01     		lsls	r3, r3, #6
 1151              		.loc 1 472 44
 1152 0030 43F02002 		orr	r2, r3, #32
 1153              		.loc 1 472 17
 1154 0034 7B68     		ldr	r3, [r7, #4]
 1155 0036 1A61     		str	r2, [r3, #16]
 1156              	.L70:
 473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   do
 475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     count++;
 1157              		.loc 1 476 10
 1158 0038 FB68     		ldr	r3, [r7, #12]
 1159 003a 0133     		adds	r3, r3, #1
 1160 003c FB60     		str	r3, [r7, #12]
 477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (count > 200000U)
 1161              		.loc 1 478 15
 1162 003e FB68     		ldr	r3, [r7, #12]
 1163              		.loc 1 478 8
 1164 0040 084A     		ldr	r2, .L71
 1165 0042 9342     		cmp	r3, r2
 1166 0044 01D9     		bls	.L69
 479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       return HAL_TIMEOUT;
 1167              		.loc 1 480 14
 1168 0046 0323     		movs	r3, #3
 1169 0048 06E0     		b	.L67
 1170              	.L69:
 481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 1171              		.loc 1 482 17
 1172 004a 7B68     		ldr	r3, [r7, #4]
 1173 004c 1B69     		ldr	r3, [r3, #16]
 1174              		.loc 1 482 27
 1175 004e 03F02003 		and	r3, r3, #32
 1176              		.loc 1 482 3
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 30


 1177 0052 202B     		cmp	r3, #32
 1178 0054 F0D0     		beq	.L70
 483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 1179              		.loc 1 484 10
 1180 0056 0023     		movs	r3, #0
 1181              	.L67:
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 1182              		.loc 1 485 1
 1183 0058 1846     		mov	r0, r3
 1184 005a 1437     		adds	r7, r7, #20
 1185              	.LCFI42:
 1186              		.cfi_def_cfa_offset 4
 1187 005c BD46     		mov	sp, r7
 1188              	.LCFI43:
 1189              		.cfi_def_cfa_register 13
 1190              		@ sp needed
 1191 005e 5DF8047B 		ldr	r7, [sp], #4
 1192              	.LCFI44:
 1193              		.cfi_restore 7
 1194              		.cfi_def_cfa_offset 0
 1195 0062 7047     		bx	lr
 1196              	.L72:
 1197              		.align	2
 1198              	.L71:
 1199 0064 400D0300 		.word	200000
 1200              		.cfi_endproc
 1201              	.LFE150:
 1203              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 1204              		.align	1
 1205              		.global	USB_FlushRxFifo
 1206              		.syntax unified
 1207              		.thumb
 1208              		.thumb_func
 1210              	USB_FlushRxFifo:
 1211              	.LFB151:
 486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_FlushRxFifo  Flush Rx FIFO
 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 1212              		.loc 1 493 1
 1213              		.cfi_startproc
 1214              		@ args = 0, pretend = 0, frame = 16
 1215              		@ frame_needed = 1, uses_anonymous_args = 0
 1216              		@ link register save eliminated.
 1217 0000 80B4     		push	{r7}
 1218              	.LCFI45:
 1219              		.cfi_def_cfa_offset 4
 1220              		.cfi_offset 7, -4
 1221 0002 85B0     		sub	sp, sp, #20
 1222              	.LCFI46:
 1223              		.cfi_def_cfa_offset 24
 1224 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 31


 1225              	.LCFI47:
 1226              		.cfi_def_cfa_register 7
 1227 0006 7860     		str	r0, [r7, #4]
 494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   __IO uint32_t count = 0U;
 1228              		.loc 1 494 17
 1229 0008 0023     		movs	r3, #0
 1230 000a FB60     		str	r3, [r7, #12]
 1231              	.L76:
 495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   do
 498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     count++;
 1232              		.loc 1 499 10
 1233 000c FB68     		ldr	r3, [r7, #12]
 1234 000e 0133     		adds	r3, r3, #1
 1235 0010 FB60     		str	r3, [r7, #12]
 500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (count > 200000U)
 1236              		.loc 1 501 15
 1237 0012 FB68     		ldr	r3, [r7, #12]
 1238              		.loc 1 501 8
 1239 0014 114A     		ldr	r2, .L79
 1240 0016 9342     		cmp	r3, r2
 1241 0018 01D9     		bls	.L74
 502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       return HAL_TIMEOUT;
 1242              		.loc 1 503 14
 1243 001a 0323     		movs	r3, #3
 1244 001c 18E0     		b	.L75
 1245              	.L74:
 504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 1246              		.loc 1 505 17
 1247 001e 7B68     		ldr	r3, [r7, #4]
 1248 0020 1B69     		ldr	r3, [r3, #16]
 1249              		.loc 1 505 3
 1250 0022 002B     		cmp	r3, #0
 1251 0024 F2DA     		bge	.L76
 506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Flush RX Fifo */
 508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   count = 0U;
 1252              		.loc 1 508 9
 1253 0026 0023     		movs	r3, #0
 1254 0028 FB60     		str	r3, [r7, #12]
 509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 1255              		.loc 1 509 17
 1256 002a 7B68     		ldr	r3, [r7, #4]
 1257 002c 1022     		movs	r2, #16
 1258 002e 1A61     		str	r2, [r3, #16]
 1259              	.L78:
 510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   do
 512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     count++;
 1260              		.loc 1 513 10
 1261 0030 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 32


 1262 0032 0133     		adds	r3, r3, #1
 1263 0034 FB60     		str	r3, [r7, #12]
 514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (count > 200000U)
 1264              		.loc 1 515 15
 1265 0036 FB68     		ldr	r3, [r7, #12]
 1266              		.loc 1 515 8
 1267 0038 084A     		ldr	r2, .L79
 1268 003a 9342     		cmp	r3, r2
 1269 003c 01D9     		bls	.L77
 516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       return HAL_TIMEOUT;
 1270              		.loc 1 517 14
 1271 003e 0323     		movs	r3, #3
 1272 0040 06E0     		b	.L75
 1273              	.L77:
 518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 1274              		.loc 1 519 17
 1275 0042 7B68     		ldr	r3, [r7, #4]
 1276 0044 1B69     		ldr	r3, [r3, #16]
 1277              		.loc 1 519 27
 1278 0046 03F01003 		and	r3, r3, #16
 1279              		.loc 1 519 3
 1280 004a 102B     		cmp	r3, #16
 1281 004c F0D0     		beq	.L78
 520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 1282              		.loc 1 521 10
 1283 004e 0023     		movs	r3, #0
 1284              	.L75:
 522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 1285              		.loc 1 522 1
 1286 0050 1846     		mov	r0, r3
 1287 0052 1437     		adds	r7, r7, #20
 1288              	.LCFI48:
 1289              		.cfi_def_cfa_offset 4
 1290 0054 BD46     		mov	sp, r7
 1291              	.LCFI49:
 1292              		.cfi_def_cfa_register 13
 1293              		@ sp needed
 1294 0056 5DF8047B 		ldr	r7, [sp], #4
 1295              	.LCFI50:
 1296              		.cfi_restore 7
 1297              		.cfi_def_cfa_offset 0
 1298 005a 7047     		bx	lr
 1299              	.L80:
 1300              		.align	2
 1301              	.L79:
 1302 005c 400D0300 		.word	200000
 1303              		.cfi_endproc
 1304              	.LFE151:
 1306              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 1307              		.align	1
 1308              		.global	USB_SetDevSpeed
 1309              		.syntax unified
 1310              		.thumb
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 33


 1311              		.thumb_func
 1313              	USB_SetDevSpeed:
 1314              	.LFB152:
 523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_SetDevSpeed  Initializes the DevSpd field of DCFG register
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  speed  device speed
 529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
 530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH_IN_FULL: High speed core in Full Speed mode
 532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval  Hal status
 534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx, uint8_t speed)
 536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 1315              		.loc 1 536 1
 1316              		.cfi_startproc
 1317              		@ args = 0, pretend = 0, frame = 16
 1318              		@ frame_needed = 1, uses_anonymous_args = 0
 1319              		@ link register save eliminated.
 1320 0000 80B4     		push	{r7}
 1321              	.LCFI51:
 1322              		.cfi_def_cfa_offset 4
 1323              		.cfi_offset 7, -4
 1324 0002 85B0     		sub	sp, sp, #20
 1325              	.LCFI52:
 1326              		.cfi_def_cfa_offset 24
 1327 0004 00AF     		add	r7, sp, #0
 1328              	.LCFI53:
 1329              		.cfi_def_cfa_register 7
 1330 0006 7860     		str	r0, [r7, #4]
 1331 0008 0B46     		mov	r3, r1
 1332 000a FB70     		strb	r3, [r7, #3]
 537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1333              		.loc 1 537 12
 1334 000c 7B68     		ldr	r3, [r7, #4]
 1335 000e FB60     		str	r3, [r7, #12]
 538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 1336              		.loc 1 539 21
 1337 0010 FB68     		ldr	r3, [r7, #12]
 1338 0012 03F50063 		add	r3, r3, #2048
 1339 0016 1A68     		ldr	r2, [r3]
 1340 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1341 001a F968     		ldr	r1, [r7, #12]
 1342 001c 01F50061 		add	r1, r1, #2048
 1343 0020 1343     		orrs	r3, r3, r2
 1344 0022 0B60     		str	r3, [r1]
 540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 1345              		.loc 1 540 10
 1346 0024 0023     		movs	r3, #0
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 1347              		.loc 1 541 1
 1348 0026 1846     		mov	r0, r3
 1349 0028 1437     		adds	r7, r7, #20
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 34


 1350              	.LCFI54:
 1351              		.cfi_def_cfa_offset 4
 1352 002a BD46     		mov	sp, r7
 1353              	.LCFI55:
 1354              		.cfi_def_cfa_register 13
 1355              		@ sp needed
 1356 002c 5DF8047B 		ldr	r7, [sp], #4
 1357              	.LCFI56:
 1358              		.cfi_restore 7
 1359              		.cfi_def_cfa_offset 0
 1360 0030 7047     		bx	lr
 1361              		.cfi_endproc
 1362              	.LFE152:
 1364              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 1365              		.align	1
 1366              		.global	USB_GetDevSpeed
 1367              		.syntax unified
 1368              		.thumb
 1369              		.thumb_func
 1371              	USB_GetDevSpeed:
 1372              	.LFB153:
 542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_GetDevSpeed  Return the Dev Speed
 545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval speed  device speed
 547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
 548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg USBD_HS_SPEED: High speed mode
 549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg USBD_FS_SPEED: Full speed mode
 550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 1373              		.loc 1 552 1
 1374              		.cfi_startproc
 1375              		@ args = 0, pretend = 0, frame = 24
 1376              		@ frame_needed = 1, uses_anonymous_args = 0
 1377              		@ link register save eliminated.
 1378 0000 80B4     		push	{r7}
 1379              	.LCFI57:
 1380              		.cfi_def_cfa_offset 4
 1381              		.cfi_offset 7, -4
 1382 0002 87B0     		sub	sp, sp, #28
 1383              	.LCFI58:
 1384              		.cfi_def_cfa_offset 32
 1385 0004 00AF     		add	r7, sp, #0
 1386              	.LCFI59:
 1387              		.cfi_def_cfa_register 7
 1388 0006 7860     		str	r0, [r7, #4]
 553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1389              		.loc 1 553 12
 1390 0008 7B68     		ldr	r3, [r7, #4]
 1391 000a 3B61     		str	r3, [r7, #16]
 554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint8_t speed;
 555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t DevEnumSpeed = USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD;
 1392              		.loc 1 555 27
 1393 000c 3B69     		ldr	r3, [r7, #16]
 1394 000e 03F50063 		add	r3, r3, #2048
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 35


 1395              		.loc 1 555 38
 1396 0012 9B68     		ldr	r3, [r3, #8]
 1397              		.loc 1 555 12
 1398 0014 03F00603 		and	r3, r3, #6
 1399 0018 FB60     		str	r3, [r7, #12]
 556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (DevEnumSpeed == DSTS_ENUMSPD_HS_PHY_30MHZ_OR_60MHZ)
 1400              		.loc 1 557 6
 1401 001a FB68     		ldr	r3, [r7, #12]
 1402 001c 002B     		cmp	r3, #0
 1403 001e 02D1     		bne	.L84
 558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     speed = USBD_HS_SPEED;
 1404              		.loc 1 559 11
 1405 0020 0023     		movs	r3, #0
 1406 0022 FB75     		strb	r3, [r7, #23]
 1407 0024 0AE0     		b	.L85
 1408              	.L84:
 560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else if ((DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ) ||
 1409              		.loc 1 561 11
 1410 0026 FB68     		ldr	r3, [r7, #12]
 1411 0028 022B     		cmp	r3, #2
 1412 002a 02D0     		beq	.L86
 1413              		.loc 1 561 65 discriminator 1
 1414 002c FB68     		ldr	r3, [r7, #12]
 1415 002e 062B     		cmp	r3, #6
 1416 0030 02D1     		bne	.L87
 1417              	.L86:
 562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****            (DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_48MHZ))
 563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     speed = USBD_FS_SPEED;
 1418              		.loc 1 564 11
 1419 0032 0223     		movs	r3, #2
 1420 0034 FB75     		strb	r3, [r7, #23]
 1421 0036 01E0     		b	.L85
 1422              	.L87:
 565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
 567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     speed = 0xFU;
 1423              		.loc 1 568 11
 1424 0038 0F23     		movs	r3, #15
 1425 003a FB75     		strb	r3, [r7, #23]
 1426              	.L85:
 569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return speed;
 1427              		.loc 1 571 10
 1428 003c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 1429              		.loc 1 572 1
 1430 003e 1846     		mov	r0, r3
 1431 0040 1C37     		adds	r7, r7, #28
 1432              	.LCFI60:
 1433              		.cfi_def_cfa_offset 4
 1434 0042 BD46     		mov	sp, r7
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 36


 1435              	.LCFI61:
 1436              		.cfi_def_cfa_register 13
 1437              		@ sp needed
 1438 0044 5DF8047B 		ldr	r7, [sp], #4
 1439              	.LCFI62:
 1440              		.cfi_restore 7
 1441              		.cfi_def_cfa_offset 0
 1442 0048 7047     		bx	lr
 1443              		.cfi_endproc
 1444              	.LFE153:
 1446              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 1447              		.align	1
 1448              		.global	USB_ActivateEndpoint
 1449              		.syntax unified
 1450              		.thumb
 1451              		.thumb_func
 1453              	USB_ActivateEndpoint:
 1454              	.LFB154:
 573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 1455              		.loc 1 581 1
 1456              		.cfi_startproc
 1457              		@ args = 0, pretend = 0, frame = 16
 1458              		@ frame_needed = 1, uses_anonymous_args = 0
 1459              		@ link register save eliminated.
 1460 0000 80B4     		push	{r7}
 1461              	.LCFI63:
 1462              		.cfi_def_cfa_offset 4
 1463              		.cfi_offset 7, -4
 1464 0002 85B0     		sub	sp, sp, #20
 1465              	.LCFI64:
 1466              		.cfi_def_cfa_offset 24
 1467 0004 00AF     		add	r7, sp, #0
 1468              	.LCFI65:
 1469              		.cfi_def_cfa_register 7
 1470 0006 7860     		str	r0, [r7, #4]
 1471 0008 3960     		str	r1, [r7]
 582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1472              		.loc 1 582 12
 1473 000a 7B68     		ldr	r3, [r7, #4]
 1474 000c FB60     		str	r3, [r7, #12]
 583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1475              		.loc 1 583 32
 1476 000e 3B68     		ldr	r3, [r7]
 1477 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1478              		.loc 1 583 12
 1479 0012 BB60     		str	r3, [r7, #8]
 584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ep->is_in == 1U)
 1480              		.loc 1 585 9
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 37


 1481 0014 3B68     		ldr	r3, [r7]
 1482 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1483              		.loc 1 585 6
 1484 0018 012B     		cmp	r3, #1
 1485 001a 39D1     		bne	.L90
 586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1486              		.loc 1 587 27
 1487 001c FB68     		ldr	r3, [r7, #12]
 1488 001e 03F50063 		add	r3, r3, #2048
 1489 0022 DA69     		ldr	r2, [r3, #28]
 1490              		.loc 1 587 75
 1491 0024 3B68     		ldr	r3, [r7]
 1492 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1493              		.loc 1 587 81
 1494 0028 03F00F03 		and	r3, r3, #15
 1495              		.loc 1 587 54
 1496 002c 0121     		movs	r1, #1
 1497 002e 01FA03F3 		lsl	r3, r1, r3
 1498              		.loc 1 587 52
 1499 0032 9BB2     		uxth	r3, r3
 1500              		.loc 1 587 27
 1501 0034 F968     		ldr	r1, [r7, #12]
 1502 0036 01F50061 		add	r1, r1, #2048
 1503 003a 1343     		orrs	r3, r3, r2
 1504 003c CB61     		str	r3, [r1, #28]
 588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1505              		.loc 1 589 10
 1506 003e BB68     		ldr	r3, [r7, #8]
 1507 0040 5A01     		lsls	r2, r3, #5
 1508 0042 FB68     		ldr	r3, [r7, #12]
 1509 0044 1344     		add	r3, r3, r2
 1510 0046 03F51063 		add	r3, r3, #2304
 1511              		.loc 1 589 26
 1512 004a 1B68     		ldr	r3, [r3]
 1513              		.loc 1 589 36
 1514 004c 03F40043 		and	r3, r3, #32768
 1515              		.loc 1 589 8
 1516 0050 002B     		cmp	r3, #0
 1517 0052 53D1     		bne	.L91
 590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1518              		.loc 1 591 33
 1519 0054 BB68     		ldr	r3, [r7, #8]
 1520 0056 5A01     		lsls	r2, r3, #5
 1521 0058 FB68     		ldr	r3, [r7, #12]
 1522 005a 1344     		add	r3, r3, r2
 1523 005c 03F51063 		add	r3, r3, #2304
 1524 0060 1A68     		ldr	r2, [r3]
 1525              		.loc 1 591 39
 1526 0062 3B68     		ldr	r3, [r7]
 1527 0064 DB68     		ldr	r3, [r3, #12]
 1528              		.loc 1 591 51
 1529 0066 C3F30A01 		ubfx	r1, r3, #0, #11
 592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1530              		.loc 1 592 49
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 38


 1531 006a 3B68     		ldr	r3, [r7]
 1532 006c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1533              		.loc 1 592 56
 1534 006e 9B04     		lsls	r3, r3, #18
 591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1535              		.loc 1 591 76
 1536 0070 1943     		orrs	r1, r1, r3
 1537              		.loc 1 592 72
 1538 0072 BB68     		ldr	r3, [r7, #8]
 1539 0074 9B05     		lsls	r3, r3, #22
 1540              		.loc 1 592 63
 1541 0076 0B43     		orrs	r3, r3, r1
 591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1542              		.loc 1 591 33
 1543 0078 1A43     		orrs	r2, r2, r3
 1544 007a BB68     		ldr	r3, [r7, #8]
 1545 007c 5901     		lsls	r1, r3, #5
 1546 007e FB68     		ldr	r3, [r7, #12]
 1547 0080 0B44     		add	r3, r3, r1
 1548 0082 03F51063 		add	r3, r3, #2304
 1549 0086 1946     		mov	r1, r3
 1550 0088 204B     		ldr	r3, .L93
 1551 008a 1343     		orrs	r3, r3, r2
 1552 008c 0B60     		str	r3, [r1]
 1553 008e 35E0     		b	.L91
 1554              	.L90:
 593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
 598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1555              		.loc 1 599 27
 1556 0090 FB68     		ldr	r3, [r7, #12]
 1557 0092 03F50063 		add	r3, r3, #2048
 1558 0096 DA69     		ldr	r2, [r3, #28]
 1559              		.loc 1 599 76
 1560 0098 3B68     		ldr	r3, [r7]
 1561 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1562              		.loc 1 599 82
 1563 009c 03F00F03 		and	r3, r3, #15
 1564              		.loc 1 599 55
 1565 00a0 0121     		movs	r1, #1
 1566 00a2 01FA03F3 		lsl	r3, r1, r3
 1567              		.loc 1 599 52
 1568 00a6 1B04     		lsls	r3, r3, #16
 1569              		.loc 1 599 27
 1570 00a8 F968     		ldr	r1, [r7, #12]
 1571 00aa 01F50061 		add	r1, r1, #2048
 1572 00ae 1343     		orrs	r3, r3, r2
 1573 00b0 CB61     		str	r3, [r1, #28]
 600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1574              		.loc 1 601 11
 1575 00b2 BB68     		ldr	r3, [r7, #8]
 1576 00b4 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 39


 1577 00b6 FB68     		ldr	r3, [r7, #12]
 1578 00b8 1344     		add	r3, r3, r2
 1579 00ba 03F53063 		add	r3, r3, #2816
 1580              		.loc 1 601 28
 1581 00be 1B68     		ldr	r3, [r3]
 1582              		.loc 1 601 39
 1583 00c0 03F40043 		and	r3, r3, #32768
 1584              		.loc 1 601 8
 1585 00c4 002B     		cmp	r3, #0
 1586 00c6 19D1     		bne	.L91
 602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1587              		.loc 1 603 34
 1588 00c8 BB68     		ldr	r3, [r7, #8]
 1589 00ca 5A01     		lsls	r2, r3, #5
 1590 00cc FB68     		ldr	r3, [r7, #12]
 1591 00ce 1344     		add	r3, r3, r2
 1592 00d0 03F53063 		add	r3, r3, #2816
 1593 00d4 1A68     		ldr	r2, [r3]
 1594              		.loc 1 603 40
 1595 00d6 3B68     		ldr	r3, [r7]
 1596 00d8 DB68     		ldr	r3, [r3, #12]
 1597              		.loc 1 603 52
 1598 00da C3F30A01 		ubfx	r1, r3, #0, #11
 604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1599              		.loc 1 604 50
 1600 00de 3B68     		ldr	r3, [r7]
 1601 00e0 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1602              		.loc 1 604 57
 1603 00e2 9B04     		lsls	r3, r3, #18
 603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1604              		.loc 1 603 77
 1605 00e4 0B43     		orrs	r3, r3, r1
 603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1606              		.loc 1 603 34
 1607 00e6 1A43     		orrs	r2, r2, r3
 1608 00e8 BB68     		ldr	r3, [r7, #8]
 1609 00ea 5901     		lsls	r1, r3, #5
 1610 00ec FB68     		ldr	r3, [r7, #12]
 1611 00ee 0B44     		add	r3, r3, r1
 1612 00f0 03F53063 		add	r3, r3, #2816
 1613 00f4 1946     		mov	r1, r3
 1614 00f6 054B     		ldr	r3, .L93
 1615 00f8 1343     		orrs	r3, r3, r2
 1616 00fa 0B60     		str	r3, [r1]
 1617              	.L91:
 605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 1618              		.loc 1 609 10
 1619 00fc 0023     		movs	r3, #0
 610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 1620              		.loc 1 610 1
 1621 00fe 1846     		mov	r0, r3
 1622 0100 1437     		adds	r7, r7, #20
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 40


 1623              	.LCFI66:
 1624              		.cfi_def_cfa_offset 4
 1625 0102 BD46     		mov	sp, r7
 1626              	.LCFI67:
 1627              		.cfi_def_cfa_register 13
 1628              		@ sp needed
 1629 0104 5DF8047B 		ldr	r7, [sp], #4
 1630              	.LCFI68:
 1631              		.cfi_restore 7
 1632              		.cfi_def_cfa_offset 0
 1633 0108 7047     		bx	lr
 1634              	.L94:
 1635 010a 00BF     		.align	2
 1636              	.L93:
 1637 010c 00800010 		.word	268468224
 1638              		.cfi_endproc
 1639              	.LFE154:
 1641              		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 1642              		.align	1
 1643              		.global	USB_ActivateDedicatedEndpoint
 1644              		.syntax unified
 1645              		.thumb
 1646              		.thumb_func
 1648              	USB_ActivateDedicatedEndpoint:
 1649              	.LFB155:
 611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 1650              		.loc 1 619 1
 1651              		.cfi_startproc
 1652              		@ args = 0, pretend = 0, frame = 16
 1653              		@ frame_needed = 1, uses_anonymous_args = 0
 1654              		@ link register save eliminated.
 1655 0000 80B4     		push	{r7}
 1656              	.LCFI69:
 1657              		.cfi_def_cfa_offset 4
 1658              		.cfi_offset 7, -4
 1659 0002 85B0     		sub	sp, sp, #20
 1660              	.LCFI70:
 1661              		.cfi_def_cfa_offset 24
 1662 0004 00AF     		add	r7, sp, #0
 1663              	.LCFI71:
 1664              		.cfi_def_cfa_register 7
 1665 0006 7860     		str	r0, [r7, #4]
 1666 0008 3960     		str	r1, [r7]
 620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1667              		.loc 1 620 12
 1668 000a 7B68     		ldr	r3, [r7, #4]
 1669 000c FB60     		str	r3, [r7, #12]
 621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1670              		.loc 1 621 32
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 41


 1671 000e 3B68     		ldr	r3, [r7]
 1672 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1673              		.loc 1 621 12
 1674 0012 BB60     		str	r3, [r7, #8]
 622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Read DEPCTLn register */
 624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ep->is_in == 1U)
 1675              		.loc 1 624 9
 1676 0014 3B68     		ldr	r3, [r7]
 1677 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1678              		.loc 1 624 6
 1679 0018 012B     		cmp	r3, #1
 1680 001a 39D1     		bne	.L96
 625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1681              		.loc 1 626 11
 1682 001c BB68     		ldr	r3, [r7, #8]
 1683 001e 5A01     		lsls	r2, r3, #5
 1684 0020 FB68     		ldr	r3, [r7, #12]
 1685 0022 1344     		add	r3, r3, r2
 1686 0024 03F51063 		add	r3, r3, #2304
 1687              		.loc 1 626 27
 1688 0028 1B68     		ldr	r3, [r3]
 1689              		.loc 1 626 38
 1690 002a 03F40043 		and	r3, r3, #32768
 1691              		.loc 1 626 8
 1692 002e 002B     		cmp	r3, #0
 1693 0030 1CD1     		bne	.L97
 627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1694              		.loc 1 628 33
 1695 0032 BB68     		ldr	r3, [r7, #8]
 1696 0034 5A01     		lsls	r2, r3, #5
 1697 0036 FB68     		ldr	r3, [r7, #12]
 1698 0038 1344     		add	r3, r3, r2
 1699 003a 03F51063 		add	r3, r3, #2304
 1700 003e 1A68     		ldr	r2, [r3]
 1701              		.loc 1 628 39
 1702 0040 3B68     		ldr	r3, [r7]
 1703 0042 DB68     		ldr	r3, [r3, #12]
 1704              		.loc 1 628 51
 1705 0044 C3F30A01 		ubfx	r1, r3, #0, #11
 629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1706              		.loc 1 629 49
 1707 0048 3B68     		ldr	r3, [r7]
 1708 004a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1709              		.loc 1 629 56
 1710 004c 9B04     		lsls	r3, r3, #18
 628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1711              		.loc 1 628 76
 1712 004e 1943     		orrs	r1, r1, r3
 1713              		.loc 1 629 72
 1714 0050 BB68     		ldr	r3, [r7, #8]
 1715 0052 9B05     		lsls	r3, r3, #22
 1716              		.loc 1 629 63
 1717 0054 0B43     		orrs	r3, r3, r1
 628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 42


 1718              		.loc 1 628 33
 1719 0056 1A43     		orrs	r2, r2, r3
 1720 0058 BB68     		ldr	r3, [r7, #8]
 1721 005a 5901     		lsls	r1, r3, #5
 1722 005c FB68     		ldr	r3, [r7, #12]
 1723 005e 0B44     		add	r3, r3, r1
 1724 0060 03F51063 		add	r3, r3, #2304
 1725 0064 1946     		mov	r1, r3
 1726 0066 2A4B     		ldr	r3, .L101
 1727 0068 1343     		orrs	r3, r3, r2
 1728 006a 0B60     		str	r3, [r1]
 1729              	.L97:
 630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1730              		.loc 1 634 27
 1731 006c FB68     		ldr	r3, [r7, #12]
 1732 006e 03F50063 		add	r3, r3, #2048
 1733 0072 DA6B     		ldr	r2, [r3, #60]
 1734              		.loc 1 634 75
 1735 0074 3B68     		ldr	r3, [r7]
 1736 0076 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1737              		.loc 1 634 81
 1738 0078 03F00F03 		and	r3, r3, #15
 1739              		.loc 1 634 54
 1740 007c 0121     		movs	r1, #1
 1741 007e 01FA03F3 		lsl	r3, r1, r3
 1742              		.loc 1 634 52
 1743 0082 9BB2     		uxth	r3, r3
 1744              		.loc 1 634 27
 1745 0084 F968     		ldr	r1, [r7, #12]
 1746 0086 01F50061 		add	r1, r1, #2048
 1747 008a 1343     		orrs	r3, r3, r2
 1748 008c CB63     		str	r3, [r1, #60]
 1749 008e 37E0     		b	.L98
 1750              	.L96:
 635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
 637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1751              		.loc 1 638 11
 1752 0090 BB68     		ldr	r3, [r7, #8]
 1753 0092 5A01     		lsls	r2, r3, #5
 1754 0094 FB68     		ldr	r3, [r7, #12]
 1755 0096 1344     		add	r3, r3, r2
 1756 0098 03F53063 		add	r3, r3, #2816
 1757              		.loc 1 638 28
 1758 009c 1B68     		ldr	r3, [r3]
 1759              		.loc 1 638 39
 1760 009e 03F40043 		and	r3, r3, #32768
 1761              		.loc 1 638 8
 1762 00a2 002B     		cmp	r3, #0
 1763 00a4 1BD1     		bne	.L99
 639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 43


 1764              		.loc 1 640 34
 1765 00a6 BB68     		ldr	r3, [r7, #8]
 1766 00a8 5A01     		lsls	r2, r3, #5
 1767 00aa FB68     		ldr	r3, [r7, #12]
 1768 00ac 1344     		add	r3, r3, r2
 1769 00ae 03F53063 		add	r3, r3, #2816
 1770 00b2 1A68     		ldr	r2, [r3]
 1771              		.loc 1 640 40
 1772 00b4 3B68     		ldr	r3, [r7]
 1773 00b6 DB68     		ldr	r3, [r3, #12]
 1774              		.loc 1 640 52
 1775 00b8 C3F30A01 		ubfx	r1, r3, #0, #11
 641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1776              		.loc 1 641 50
 1777 00bc 3B68     		ldr	r3, [r7]
 1778 00be 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1779              		.loc 1 641 57
 1780 00c0 9B04     		lsls	r3, r3, #18
 640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1781              		.loc 1 640 77
 1782 00c2 1943     		orrs	r1, r1, r3
 1783              		.loc 1 641 73
 1784 00c4 BB68     		ldr	r3, [r7, #8]
 1785 00c6 9B05     		lsls	r3, r3, #22
 1786              		.loc 1 641 64
 1787 00c8 0B43     		orrs	r3, r3, r1
 640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1788              		.loc 1 640 34
 1789 00ca 1343     		orrs	r3, r3, r2
 1790 00cc BA68     		ldr	r2, [r7, #8]
 1791 00ce 5101     		lsls	r1, r2, #5
 1792 00d0 FA68     		ldr	r2, [r7, #12]
 1793 00d2 0A44     		add	r2, r2, r1
 1794 00d4 02F53062 		add	r2, r2, #2816
 1795 00d8 43F40043 		orr	r3, r3, #32768
 1796 00dc 1360     		str	r3, [r2]
 1797              	.L99:
 642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1798              		.loc 1 645 27
 1799 00de FB68     		ldr	r3, [r7, #12]
 1800 00e0 03F50063 		add	r3, r3, #2048
 1801 00e4 DA6B     		ldr	r2, [r3, #60]
 1802              		.loc 1 645 76
 1803 00e6 3B68     		ldr	r3, [r7]
 1804 00e8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1805              		.loc 1 645 82
 1806 00ea 03F00F03 		and	r3, r3, #15
 1807              		.loc 1 645 55
 1808 00ee 0121     		movs	r1, #1
 1809 00f0 01FA03F3 		lsl	r3, r1, r3
 1810              		.loc 1 645 52
 1811 00f4 1B04     		lsls	r3, r3, #16
 1812              		.loc 1 645 27
 1813 00f6 F968     		ldr	r1, [r7, #12]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 44


 1814 00f8 01F50061 		add	r1, r1, #2048
 1815 00fc 1343     		orrs	r3, r3, r2
 1816 00fe CB63     		str	r3, [r1, #60]
 1817              	.L98:
 646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 1818              		.loc 1 648 10
 1819 0100 0023     		movs	r3, #0
 649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 1820              		.loc 1 649 1
 1821 0102 1846     		mov	r0, r3
 1822 0104 1437     		adds	r7, r7, #20
 1823              	.LCFI72:
 1824              		.cfi_def_cfa_offset 4
 1825 0106 BD46     		mov	sp, r7
 1826              	.LCFI73:
 1827              		.cfi_def_cfa_register 13
 1828              		@ sp needed
 1829 0108 5DF8047B 		ldr	r7, [sp], #4
 1830              	.LCFI74:
 1831              		.cfi_restore 7
 1832              		.cfi_def_cfa_offset 0
 1833 010c 7047     		bx	lr
 1834              	.L102:
 1835 010e 00BF     		.align	2
 1836              	.L101:
 1837 0110 00800010 		.word	268468224
 1838              		.cfi_endproc
 1839              	.LFE155:
 1841              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1842              		.align	1
 1843              		.global	USB_DeactivateEndpoint
 1844              		.syntax unified
 1845              		.thumb
 1846              		.thumb_func
 1848              	USB_DeactivateEndpoint:
 1849              	.LFB156:
 650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 1850              		.loc 1 658 1
 1851              		.cfi_startproc
 1852              		@ args = 0, pretend = 0, frame = 16
 1853              		@ frame_needed = 1, uses_anonymous_args = 0
 1854              		@ link register save eliminated.
 1855 0000 80B4     		push	{r7}
 1856              	.LCFI75:
 1857              		.cfi_def_cfa_offset 4
 1858              		.cfi_offset 7, -4
 1859 0002 85B0     		sub	sp, sp, #20
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 45


 1860              	.LCFI76:
 1861              		.cfi_def_cfa_offset 24
 1862 0004 00AF     		add	r7, sp, #0
 1863              	.LCFI77:
 1864              		.cfi_def_cfa_register 7
 1865 0006 7860     		str	r0, [r7, #4]
 1866 0008 3960     		str	r1, [r7]
 659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1867              		.loc 1 659 12
 1868 000a 7B68     		ldr	r3, [r7, #4]
 1869 000c FB60     		str	r3, [r7, #12]
 660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1870              		.loc 1 660 32
 1871 000e 3B68     		ldr	r3, [r7]
 1872 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1873              		.loc 1 660 12
 1874 0012 BB60     		str	r3, [r7, #8]
 661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Read DEPCTLn register */
 663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ep->is_in == 1U)
 1875              		.loc 1 663 9
 1876 0014 3B68     		ldr	r3, [r7]
 1877 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1878              		.loc 1 663 6
 1879 0018 012B     		cmp	r3, #1
 1880 001a 61D1     		bne	.L104
 664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 1881              		.loc 1 665 10
 1882 001c BB68     		ldr	r3, [r7, #8]
 1883 001e 5A01     		lsls	r2, r3, #5
 1884 0020 FB68     		ldr	r3, [r7, #12]
 1885 0022 1344     		add	r3, r3, r2
 1886 0024 03F51063 		add	r3, r3, #2304
 1887              		.loc 1 665 26
 1888 0028 1B68     		ldr	r3, [r3]
 1889              		.loc 1 665 36
 1890 002a 03F00043 		and	r3, r3, #-2147483648
 1891              		.loc 1 665 8
 1892 002e B3F1004F 		cmp	r3, #-2147483648
 1893 0032 1FD1     		bne	.L105
 666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SNAK;
 1894              		.loc 1 667 33
 1895 0034 BB68     		ldr	r3, [r7, #8]
 1896 0036 5A01     		lsls	r2, r3, #5
 1897 0038 FB68     		ldr	r3, [r7, #12]
 1898 003a 1344     		add	r3, r3, r2
 1899 003c 03F51063 		add	r3, r3, #2304
 1900 0040 1B68     		ldr	r3, [r3]
 1901 0042 BA68     		ldr	r2, [r7, #8]
 1902 0044 5101     		lsls	r1, r2, #5
 1903 0046 FA68     		ldr	r2, [r7, #12]
 1904 0048 0A44     		add	r2, r2, r1
 1905 004a 02F51062 		add	r2, r2, #2304
 1906 004e 43F00063 		orr	r3, r3, #134217728
 1907 0052 1360     		str	r3, [r2]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 46


 668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_EPDIS;
 1908              		.loc 1 668 33
 1909 0054 BB68     		ldr	r3, [r7, #8]
 1910 0056 5A01     		lsls	r2, r3, #5
 1911 0058 FB68     		ldr	r3, [r7, #12]
 1912 005a 1344     		add	r3, r3, r2
 1913 005c 03F51063 		add	r3, r3, #2304
 1914 0060 1B68     		ldr	r3, [r3]
 1915 0062 BA68     		ldr	r2, [r7, #8]
 1916 0064 5101     		lsls	r1, r2, #5
 1917 0066 FA68     		ldr	r2, [r7, #12]
 1918 0068 0A44     		add	r2, r2, r1
 1919 006a 02F51062 		add	r2, r2, #2304
 1920 006e 43F08043 		orr	r3, r3, #1073741824
 1921 0072 1360     		str	r3, [r2]
 1922              	.L105:
 669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1923              		.loc 1 671 27
 1924 0074 FB68     		ldr	r3, [r7, #12]
 1925 0076 03F50063 		add	r3, r3, #2048
 1926 007a DA6B     		ldr	r2, [r3, #60]
 1927              		.loc 1 671 77
 1928 007c 3B68     		ldr	r3, [r7]
 1929 007e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1930              		.loc 1 671 83
 1931 0080 03F00F03 		and	r3, r3, #15
 1932              		.loc 1 671 56
 1933 0084 0121     		movs	r1, #1
 1934 0086 01FA03F3 		lsl	r3, r1, r3
 1935              		.loc 1 671 54
 1936 008a 9BB2     		uxth	r3, r3
 1937              		.loc 1 671 30
 1938 008c DB43     		mvns	r3, r3
 1939              		.loc 1 671 27
 1940 008e F968     		ldr	r1, [r7, #12]
 1941 0090 01F50061 		add	r1, r1, #2048
 1942 0094 1340     		ands	r3, r3, r2
 1943 0096 CB63     		str	r3, [r1, #60]
 672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1944              		.loc 1 672 27
 1945 0098 FB68     		ldr	r3, [r7, #12]
 1946 009a 03F50063 		add	r3, r3, #2048
 1947 009e DA69     		ldr	r2, [r3, #28]
 1948              		.loc 1 672 77
 1949 00a0 3B68     		ldr	r3, [r7]
 1950 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1951              		.loc 1 672 83
 1952 00a4 03F00F03 		and	r3, r3, #15
 1953              		.loc 1 672 56
 1954 00a8 0121     		movs	r1, #1
 1955 00aa 01FA03F3 		lsl	r3, r1, r3
 1956              		.loc 1 672 54
 1957 00ae 9BB2     		uxth	r3, r3
 1958              		.loc 1 672 30
 1959 00b0 DB43     		mvns	r3, r3
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 47


 1960              		.loc 1 672 27
 1961 00b2 F968     		ldr	r1, [r7, #12]
 1962 00b4 01F50061 		add	r1, r1, #2048
 1963 00b8 1340     		ands	r3, r3, r2
 1964 00ba CB61     		str	r3, [r1, #28]
 673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_USBAEP |
 1965              		.loc 1 673 31
 1966 00bc BB68     		ldr	r3, [r7, #8]
 1967 00be 5A01     		lsls	r2, r3, #5
 1968 00c0 FB68     		ldr	r3, [r7, #12]
 1969 00c2 1344     		add	r3, r3, r2
 1970 00c4 03F51063 		add	r3, r3, #2304
 1971 00c8 1A68     		ldr	r2, [r3]
 1972 00ca BB68     		ldr	r3, [r7, #8]
 1973 00cc 5901     		lsls	r1, r3, #5
 1974 00ce FB68     		ldr	r3, [r7, #12]
 1975 00d0 0B44     		add	r3, r3, r1
 1976 00d2 03F51063 		add	r3, r3, #2304
 1977 00d6 1946     		mov	r1, r3
 1978 00d8 354B     		ldr	r3, .L109
 1979 00da 1340     		ands	r3, r3, r2
 1980 00dc 0B60     		str	r3, [r1]
 1981 00de 60E0     		b	.L106
 1982              	.L104:
 674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_MPSIZ |
 675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_TXFNUM |
 676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_EPTYP);
 678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
 680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 1983              		.loc 1 681 10
 1984 00e0 BB68     		ldr	r3, [r7, #8]
 1985 00e2 5A01     		lsls	r2, r3, #5
 1986 00e4 FB68     		ldr	r3, [r7, #12]
 1987 00e6 1344     		add	r3, r3, r2
 1988 00e8 03F53063 		add	r3, r3, #2816
 1989              		.loc 1 681 27
 1990 00ec 1B68     		ldr	r3, [r3]
 1991              		.loc 1 681 37
 1992 00ee 03F00043 		and	r3, r3, #-2147483648
 1993              		.loc 1 681 8
 1994 00f2 B3F1004F 		cmp	r3, #-2147483648
 1995 00f6 1FD1     		bne	.L107
 682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1996              		.loc 1 683 34
 1997 00f8 BB68     		ldr	r3, [r7, #8]
 1998 00fa 5A01     		lsls	r2, r3, #5
 1999 00fc FB68     		ldr	r3, [r7, #12]
 2000 00fe 1344     		add	r3, r3, r2
 2001 0100 03F53063 		add	r3, r3, #2816
 2002 0104 1B68     		ldr	r3, [r3]
 2003 0106 BA68     		ldr	r2, [r7, #8]
 2004 0108 5101     		lsls	r1, r2, #5
 2005 010a FA68     		ldr	r2, [r7, #12]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 48


 2006 010c 0A44     		add	r2, r2, r1
 2007 010e 02F53062 		add	r2, r2, #2816
 2008 0112 43F00063 		orr	r3, r3, #134217728
 2009 0116 1360     		str	r3, [r2]
 684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_EPDIS;
 2010              		.loc 1 684 34
 2011 0118 BB68     		ldr	r3, [r7, #8]
 2012 011a 5A01     		lsls	r2, r3, #5
 2013 011c FB68     		ldr	r3, [r7, #12]
 2014 011e 1344     		add	r3, r3, r2
 2015 0120 03F53063 		add	r3, r3, #2816
 2016 0124 1B68     		ldr	r3, [r3]
 2017 0126 BA68     		ldr	r2, [r7, #8]
 2018 0128 5101     		lsls	r1, r2, #5
 2019 012a FA68     		ldr	r2, [r7, #12]
 2020 012c 0A44     		add	r2, r2, r1
 2021 012e 02F53062 		add	r2, r2, #2816
 2022 0132 43F08043 		orr	r3, r3, #1073741824
 2023 0136 1360     		str	r3, [r2]
 2024              	.L107:
 685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2025              		.loc 1 687 27
 2026 0138 FB68     		ldr	r3, [r7, #12]
 2027 013a 03F50063 		add	r3, r3, #2048
 2028 013e DA6B     		ldr	r2, [r3, #60]
 2029              		.loc 1 687 78
 2030 0140 3B68     		ldr	r3, [r7]
 2031 0142 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2032              		.loc 1 687 84
 2033 0144 03F00F03 		and	r3, r3, #15
 2034              		.loc 1 687 57
 2035 0148 0121     		movs	r1, #1
 2036 014a 01FA03F3 		lsl	r3, r1, r3
 2037              		.loc 1 687 54
 2038 014e 1B04     		lsls	r3, r3, #16
 2039              		.loc 1 687 30
 2040 0150 DB43     		mvns	r3, r3
 2041              		.loc 1 687 27
 2042 0152 F968     		ldr	r1, [r7, #12]
 2043 0154 01F50061 		add	r1, r1, #2048
 2044 0158 1340     		ands	r3, r3, r2
 2045 015a CB63     		str	r3, [r1, #60]
 688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2046              		.loc 1 688 27
 2047 015c FB68     		ldr	r3, [r7, #12]
 2048 015e 03F50063 		add	r3, r3, #2048
 2049 0162 DA69     		ldr	r2, [r3, #28]
 2050              		.loc 1 688 78
 2051 0164 3B68     		ldr	r3, [r7]
 2052 0166 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2053              		.loc 1 688 84
 2054 0168 03F00F03 		and	r3, r3, #15
 2055              		.loc 1 688 57
 2056 016c 0121     		movs	r1, #1
 2057 016e 01FA03F3 		lsl	r3, r1, r3
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 49


 2058              		.loc 1 688 54
 2059 0172 1B04     		lsls	r3, r3, #16
 2060              		.loc 1 688 30
 2061 0174 DB43     		mvns	r3, r3
 2062              		.loc 1 688 27
 2063 0176 F968     		ldr	r1, [r7, #12]
 2064 0178 01F50061 		add	r1, r1, #2048
 2065 017c 1340     		ands	r3, r3, r2
 2066 017e CB61     		str	r3, [r1, #28]
 689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_USBAEP |
 2067              		.loc 1 689 32
 2068 0180 BB68     		ldr	r3, [r7, #8]
 2069 0182 5A01     		lsls	r2, r3, #5
 2070 0184 FB68     		ldr	r3, [r7, #12]
 2071 0186 1344     		add	r3, r3, r2
 2072 0188 03F53063 		add	r3, r3, #2816
 2073 018c 1A68     		ldr	r2, [r3]
 2074 018e BB68     		ldr	r3, [r7, #8]
 2075 0190 5901     		lsls	r1, r3, #5
 2076 0192 FB68     		ldr	r3, [r7, #12]
 2077 0194 0B44     		add	r3, r3, r1
 2078 0196 03F53063 		add	r3, r3, #2816
 2079 019a 1946     		mov	r1, r3
 2080 019c 054B     		ldr	r3, .L109+4
 2081 019e 1340     		ands	r3, r3, r2
 2082 01a0 0B60     		str	r3, [r1]
 2083              	.L106:
 690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_MPSIZ |
 691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_SD0PID_SEVNFRM |
 692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_EPTYP);
 693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 2084              		.loc 1 695 10
 2085 01a2 0023     		movs	r3, #0
 696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 2086              		.loc 1 696 1
 2087 01a4 1846     		mov	r0, r3
 2088 01a6 1437     		adds	r7, r7, #20
 2089              	.LCFI78:
 2090              		.cfi_def_cfa_offset 4
 2091 01a8 BD46     		mov	sp, r7
 2092              	.LCFI79:
 2093              		.cfi_def_cfa_register 13
 2094              		@ sp needed
 2095 01aa 5DF8047B 		ldr	r7, [sp], #4
 2096              	.LCFI80:
 2097              		.cfi_restore 7
 2098              		.cfi_def_cfa_offset 0
 2099 01ae 7047     		bx	lr
 2100              	.L110:
 2101              		.align	2
 2102              	.L109:
 2103 01b0 007833EC 		.word	-332171264
 2104 01b4 0078F3EF 		.word	-269256704
 2105              		.cfi_endproc
 2106              	.LFE156:
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 50


 2108              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 2109              		.align	1
 2110              		.global	USB_DeactivateDedicatedEndpoint
 2111              		.syntax unified
 2112              		.thumb
 2113              		.thumb_func
 2115              	USB_DeactivateDedicatedEndpoint:
 2116              	.LFB157:
 697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 2117              		.loc 1 705 1
 2118              		.cfi_startproc
 2119              		@ args = 0, pretend = 0, frame = 16
 2120              		@ frame_needed = 1, uses_anonymous_args = 0
 2121              		@ link register save eliminated.
 2122 0000 80B4     		push	{r7}
 2123              	.LCFI81:
 2124              		.cfi_def_cfa_offset 4
 2125              		.cfi_offset 7, -4
 2126 0002 85B0     		sub	sp, sp, #20
 2127              	.LCFI82:
 2128              		.cfi_def_cfa_offset 24
 2129 0004 00AF     		add	r7, sp, #0
 2130              	.LCFI83:
 2131              		.cfi_def_cfa_register 7
 2132 0006 7860     		str	r0, [r7, #4]
 2133 0008 3960     		str	r1, [r7]
 706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2134              		.loc 1 706 12
 2135 000a 7B68     		ldr	r3, [r7, #4]
 2136 000c FB60     		str	r3, [r7, #12]
 707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2137              		.loc 1 707 32
 2138 000e 3B68     		ldr	r3, [r7]
 2139 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2140              		.loc 1 707 12
 2141 0012 BB60     		str	r3, [r7, #8]
 708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Read DEPCTLn register */
 710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ep->is_in == 1U)
 2142              		.loc 1 710 9
 2143 0014 3B68     		ldr	r3, [r7]
 2144 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2145              		.loc 1 710 6
 2146 0018 012B     		cmp	r3, #1
 2147 001a 4ED1     		bne	.L112
 711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 2148              		.loc 1 712 10
 2149 001c BB68     		ldr	r3, [r7, #8]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 51


 2150 001e 5A01     		lsls	r2, r3, #5
 2151 0020 FB68     		ldr	r3, [r7, #12]
 2152 0022 1344     		add	r3, r3, r2
 2153 0024 03F51063 		add	r3, r3, #2304
 2154              		.loc 1 712 26
 2155 0028 1B68     		ldr	r3, [r3]
 2156              		.loc 1 712 36
 2157 002a 03F00043 		and	r3, r3, #-2147483648
 2158              		.loc 1 712 8
 2159 002e B3F1004F 		cmp	r3, #-2147483648
 2160 0032 1FD1     		bne	.L113
 713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_SNAK;
 2161              		.loc 1 714 34
 2162 0034 BB68     		ldr	r3, [r7, #8]
 2163 0036 5A01     		lsls	r2, r3, #5
 2164 0038 FB68     		ldr	r3, [r7, #12]
 2165 003a 1344     		add	r3, r3, r2
 2166 003c 03F51063 		add	r3, r3, #2304
 2167 0040 1B68     		ldr	r3, [r3]
 2168 0042 BA68     		ldr	r2, [r7, #8]
 2169 0044 5101     		lsls	r1, r2, #5
 2170 0046 FA68     		ldr	r2, [r7, #12]
 2171 0048 0A44     		add	r2, r2, r1
 2172 004a 02F51062 		add	r2, r2, #2304
 2173 004e 43F00063 		orr	r3, r3, #134217728
 2174 0052 1360     		str	r3, [r2]
 715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_EPDIS;
 2175              		.loc 1 715 34
 2176 0054 BB68     		ldr	r3, [r7, #8]
 2177 0056 5A01     		lsls	r2, r3, #5
 2178 0058 FB68     		ldr	r3, [r7, #12]
 2179 005a 1344     		add	r3, r3, r2
 2180 005c 03F51063 		add	r3, r3, #2304
 2181 0060 1B68     		ldr	r3, [r3]
 2182 0062 BA68     		ldr	r2, [r7, #8]
 2183 0064 5101     		lsls	r1, r2, #5
 2184 0066 FA68     		ldr	r2, [r7, #12]
 2185 0068 0A44     		add	r2, r2, r1
 2186 006a 02F51062 		add	r2, r2, #2304
 2187 006e 43F08043 		orr	r3, r3, #1073741824
 2188 0072 1360     		str	r3, [r2]
 2189              	.L113:
 716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 2190              		.loc 1 718 31
 2191 0074 BB68     		ldr	r3, [r7, #8]
 2192 0076 5A01     		lsls	r2, r3, #5
 2193 0078 FB68     		ldr	r3, [r7, #12]
 2194 007a 1344     		add	r3, r3, r2
 2195 007c 03F51063 		add	r3, r3, #2304
 2196 0080 1B68     		ldr	r3, [r3]
 2197 0082 BA68     		ldr	r2, [r7, #8]
 2198 0084 5101     		lsls	r1, r2, #5
 2199 0086 FA68     		ldr	r2, [r7, #12]
 2200 0088 0A44     		add	r2, r2, r1
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 52


 2201 008a 02F51062 		add	r2, r2, #2304
 2202 008e 23F40043 		bic	r3, r3, #32768
 2203 0092 1360     		str	r3, [r2]
 719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 2204              		.loc 1 719 27
 2205 0094 FB68     		ldr	r3, [r7, #12]
 2206 0096 03F50063 		add	r3, r3, #2048
 2207 009a DA69     		ldr	r2, [r3, #28]
 2208              		.loc 1 719 77
 2209 009c 3B68     		ldr	r3, [r7]
 2210 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2211              		.loc 1 719 83
 2212 00a0 03F00F03 		and	r3, r3, #15
 2213              		.loc 1 719 56
 2214 00a4 0121     		movs	r1, #1
 2215 00a6 01FA03F3 		lsl	r3, r1, r3
 2216              		.loc 1 719 54
 2217 00aa 9BB2     		uxth	r3, r3
 2218              		.loc 1 719 30
 2219 00ac DB43     		mvns	r3, r3
 2220              		.loc 1 719 27
 2221 00ae F968     		ldr	r1, [r7, #12]
 2222 00b0 01F50061 		add	r1, r1, #2048
 2223 00b4 1340     		ands	r3, r3, r2
 2224 00b6 CB61     		str	r3, [r1, #28]
 2225 00b8 4DE0     		b	.L114
 2226              	.L112:
 720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
 722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 2227              		.loc 1 723 10
 2228 00ba BB68     		ldr	r3, [r7, #8]
 2229 00bc 5A01     		lsls	r2, r3, #5
 2230 00be FB68     		ldr	r3, [r7, #12]
 2231 00c0 1344     		add	r3, r3, r2
 2232 00c2 03F53063 		add	r3, r3, #2816
 2233              		.loc 1 723 27
 2234 00c6 1B68     		ldr	r3, [r3]
 2235              		.loc 1 723 37
 2236 00c8 03F00043 		and	r3, r3, #-2147483648
 2237              		.loc 1 723 8
 2238 00cc B3F1004F 		cmp	r3, #-2147483648
 2239 00d0 1FD1     		bne	.L115
 724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_SNAK;
 2240              		.loc 1 725 35
 2241 00d2 BB68     		ldr	r3, [r7, #8]
 2242 00d4 5A01     		lsls	r2, r3, #5
 2243 00d6 FB68     		ldr	r3, [r7, #12]
 2244 00d8 1344     		add	r3, r3, r2
 2245 00da 03F53063 		add	r3, r3, #2816
 2246 00de 1B68     		ldr	r3, [r3]
 2247 00e0 BA68     		ldr	r2, [r7, #8]
 2248 00e2 5101     		lsls	r1, r2, #5
 2249 00e4 FA68     		ldr	r2, [r7, #12]
 2250 00e6 0A44     		add	r2, r2, r1
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 53


 2251 00e8 02F53062 		add	r2, r2, #2816
 2252 00ec 43F00063 		orr	r3, r3, #134217728
 2253 00f0 1360     		str	r3, [r2]
 726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_EPDIS;
 2254              		.loc 1 726 35
 2255 00f2 BB68     		ldr	r3, [r7, #8]
 2256 00f4 5A01     		lsls	r2, r3, #5
 2257 00f6 FB68     		ldr	r3, [r7, #12]
 2258 00f8 1344     		add	r3, r3, r2
 2259 00fa 03F53063 		add	r3, r3, #2816
 2260 00fe 1B68     		ldr	r3, [r3]
 2261 0100 BA68     		ldr	r2, [r7, #8]
 2262 0102 5101     		lsls	r1, r2, #5
 2263 0104 FA68     		ldr	r2, [r7, #12]
 2264 0106 0A44     		add	r2, r2, r1
 2265 0108 02F53062 		add	r2, r2, #2816
 2266 010c 43F08043 		orr	r3, r3, #1073741824
 2267 0110 1360     		str	r3, [r2]
 2268              	.L115:
 727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;
 2269              		.loc 1 729 32
 2270 0112 BB68     		ldr	r3, [r7, #8]
 2271 0114 5A01     		lsls	r2, r3, #5
 2272 0116 FB68     		ldr	r3, [r7, #12]
 2273 0118 1344     		add	r3, r3, r2
 2274 011a 03F53063 		add	r3, r3, #2816
 2275 011e 1B68     		ldr	r3, [r3]
 2276 0120 BA68     		ldr	r2, [r7, #8]
 2277 0122 5101     		lsls	r1, r2, #5
 2278 0124 FA68     		ldr	r2, [r7, #12]
 2279 0126 0A44     		add	r2, r2, r1
 2280 0128 02F53062 		add	r2, r2, #2816
 2281 012c 23F40043 		bic	r3, r3, #32768
 2282 0130 1360     		str	r3, [r2]
 730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2283              		.loc 1 730 27
 2284 0132 FB68     		ldr	r3, [r7, #12]
 2285 0134 03F50063 		add	r3, r3, #2048
 2286 0138 DA69     		ldr	r2, [r3, #28]
 2287              		.loc 1 730 78
 2288 013a 3B68     		ldr	r3, [r7]
 2289 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2290              		.loc 1 730 84
 2291 013e 03F00F03 		and	r3, r3, #15
 2292              		.loc 1 730 57
 2293 0142 0121     		movs	r1, #1
 2294 0144 01FA03F3 		lsl	r3, r1, r3
 2295              		.loc 1 730 54
 2296 0148 1B04     		lsls	r3, r3, #16
 2297              		.loc 1 730 30
 2298 014a DB43     		mvns	r3, r3
 2299              		.loc 1 730 27
 2300 014c F968     		ldr	r1, [r7, #12]
 2301 014e 01F50061 		add	r1, r1, #2048
 2302 0152 1340     		ands	r3, r3, r2
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 54


 2303 0154 CB61     		str	r3, [r1, #28]
 2304              	.L114:
 731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 2305              		.loc 1 733 10
 2306 0156 0023     		movs	r3, #0
 734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 2307              		.loc 1 734 1
 2308 0158 1846     		mov	r0, r3
 2309 015a 1437     		adds	r7, r7, #20
 2310              	.LCFI84:
 2311              		.cfi_def_cfa_offset 4
 2312 015c BD46     		mov	sp, r7
 2313              	.LCFI85:
 2314              		.cfi_def_cfa_register 13
 2315              		@ sp needed
 2316 015e 5DF8047B 		ldr	r7, [sp], #4
 2317              	.LCFI86:
 2318              		.cfi_restore 7
 2319              		.cfi_def_cfa_offset 0
 2320 0162 7047     		bx	lr
 2321              		.cfi_endproc
 2322              	.LFE157:
 2324              		.section	.text.USB_EPStartXfer,"ax",%progbits
 2325              		.align	1
 2326              		.global	USB_EPStartXfer
 2327              		.syntax unified
 2328              		.thumb
 2329              		.thumb_func
 2331              	USB_EPStartXfer:
 2332              	.LFB158:
 735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
 742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           0 : DMA feature not used
 743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           1 : DMA feature used
 744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 2333              		.loc 1 747 1
 2334              		.cfi_startproc
 2335              		@ args = 0, pretend = 0, frame = 32
 2336              		@ frame_needed = 1, uses_anonymous_args = 0
 2337 0000 80B5     		push	{r7, lr}
 2338              	.LCFI87:
 2339              		.cfi_def_cfa_offset 8
 2340              		.cfi_offset 7, -8
 2341              		.cfi_offset 14, -4
 2342 0002 8AB0     		sub	sp, sp, #40
 2343              	.LCFI88:
 2344              		.cfi_def_cfa_offset 48
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 55


 2345 0004 02AF     		add	r7, sp, #8
 2346              	.LCFI89:
 2347              		.cfi_def_cfa 7, 40
 2348 0006 F860     		str	r0, [r7, #12]
 2349 0008 B960     		str	r1, [r7, #8]
 2350 000a 1346     		mov	r3, r2
 2351 000c FB71     		strb	r3, [r7, #7]
 748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2352              		.loc 1 748 12
 2353 000e FB68     		ldr	r3, [r7, #12]
 2354 0010 FB61     		str	r3, [r7, #28]
 749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2355              		.loc 1 749 32
 2356 0012 BB68     		ldr	r3, [r7, #8]
 2357 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2358              		.loc 1 749 12
 2359 0016 BB61     		str	r3, [r7, #24]
 750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint16_t pktcnt;
 751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* IN endpoint */
 753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ep->is_in == 1U)
 2360              		.loc 1 753 9
 2361 0018 BB68     		ldr	r3, [r7, #8]
 2362 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2363              		.loc 1 753 6
 2364 001c 012B     		cmp	r3, #1
 2365 001e 40F06381 		bne	.L118
 754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Zero Length Packet? */
 756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2366              		.loc 1 756 11
 2367 0022 BB68     		ldr	r3, [r7, #8]
 2368 0024 9B69     		ldr	r3, [r3, #24]
 2369              		.loc 1 756 8
 2370 0026 002B     		cmp	r3, #0
 2371 0028 32D1     		bne	.L119
 757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2372              		.loc 1 758 34
 2373 002a BB69     		ldr	r3, [r7, #24]
 2374 002c 5A01     		lsls	r2, r3, #5
 2375 002e FB69     		ldr	r3, [r7, #28]
 2376 0030 1344     		add	r3, r3, r2
 2377 0032 03F51063 		add	r3, r3, #2304
 2378 0036 1A69     		ldr	r2, [r3, #16]
 2379 0038 BB69     		ldr	r3, [r7, #24]
 2380 003a 5901     		lsls	r1, r3, #5
 2381 003c FB69     		ldr	r3, [r7, #28]
 2382 003e 0B44     		add	r3, r3, r1
 2383 0040 03F51063 		add	r3, r3, #2304
 2384 0044 1946     		mov	r1, r3
 2385 0046 A54B     		ldr	r3, .L135
 2386 0048 1340     		ands	r3, r3, r2
 2387 004a 0B61     		str	r3, [r1, #16]
 759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2388              		.loc 1 759 34
 2389 004c BB69     		ldr	r3, [r7, #24]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 56


 2390 004e 5A01     		lsls	r2, r3, #5
 2391 0050 FB69     		ldr	r3, [r7, #28]
 2392 0052 1344     		add	r3, r3, r2
 2393 0054 03F51063 		add	r3, r3, #2304
 2394 0058 1B69     		ldr	r3, [r3, #16]
 2395 005a BA69     		ldr	r2, [r7, #24]
 2396 005c 5101     		lsls	r1, r2, #5
 2397 005e FA69     		ldr	r2, [r7, #28]
 2398 0060 0A44     		add	r2, r2, r1
 2399 0062 02F51062 		add	r2, r2, #2304
 2400 0066 43F40023 		orr	r3, r3, #524288
 2401 006a 1361     		str	r3, [r2, #16]
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2402              		.loc 1 760 34
 2403 006c BB69     		ldr	r3, [r7, #24]
 2404 006e 5A01     		lsls	r2, r3, #5
 2405 0070 FB69     		ldr	r3, [r7, #28]
 2406 0072 1344     		add	r3, r3, r2
 2407 0074 03F51063 		add	r3, r3, #2304
 2408 0078 1A69     		ldr	r2, [r3, #16]
 2409 007a BB69     		ldr	r3, [r7, #24]
 2410 007c 5901     		lsls	r1, r3, #5
 2411 007e FB69     		ldr	r3, [r7, #28]
 2412 0080 0B44     		add	r3, r3, r1
 2413 0082 03F51063 		add	r3, r3, #2304
 2414 0086 1946     		mov	r1, r3
 2415 0088 954B     		ldr	r3, .L135+4
 2416 008a 1340     		ands	r3, r3, r2
 2417 008c 0B61     		str	r3, [r1, #16]
 2418 008e 74E0     		b	.L120
 2419              	.L119:
 761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else
 763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* Program the transfer size and packet count
 765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       * exist ? 1 : 0)
 768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       */
 769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2420              		.loc 1 769 34
 2421 0090 BB69     		ldr	r3, [r7, #24]
 2422 0092 5A01     		lsls	r2, r3, #5
 2423 0094 FB69     		ldr	r3, [r7, #28]
 2424 0096 1344     		add	r3, r3, r2
 2425 0098 03F51063 		add	r3, r3, #2304
 2426 009c 1A69     		ldr	r2, [r3, #16]
 2427 009e BB69     		ldr	r3, [r7, #24]
 2428 00a0 5901     		lsls	r1, r3, #5
 2429 00a2 FB69     		ldr	r3, [r7, #28]
 2430 00a4 0B44     		add	r3, r3, r1
 2431 00a6 03F51063 		add	r3, r3, #2304
 2432 00aa 1946     		mov	r1, r3
 2433 00ac 8C4B     		ldr	r3, .L135+4
 2434 00ae 1340     		ands	r3, r3, r2
 2435 00b0 0B61     		str	r3, [r1, #16]
 770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 57


 2436              		.loc 1 770 34
 2437 00b2 BB69     		ldr	r3, [r7, #24]
 2438 00b4 5A01     		lsls	r2, r3, #5
 2439 00b6 FB69     		ldr	r3, [r7, #28]
 2440 00b8 1344     		add	r3, r3, r2
 2441 00ba 03F51063 		add	r3, r3, #2304
 2442 00be 1A69     		ldr	r2, [r3, #16]
 2443 00c0 BB69     		ldr	r3, [r7, #24]
 2444 00c2 5901     		lsls	r1, r3, #5
 2445 00c4 FB69     		ldr	r3, [r7, #28]
 2446 00c6 0B44     		add	r3, r3, r1
 2447 00c8 03F51063 		add	r3, r3, #2304
 2448 00cc 1946     		mov	r1, r3
 2449 00ce 834B     		ldr	r3, .L135
 2450 00d0 1340     		ands	r3, r3, r2
 2451 00d2 0B61     		str	r3, [r1, #16]
 771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2452              		.loc 1 771 34
 2453 00d4 BB69     		ldr	r3, [r7, #24]
 2454 00d6 5A01     		lsls	r2, r3, #5
 2455 00d8 FB69     		ldr	r3, [r7, #28]
 2456 00da 1344     		add	r3, r3, r2
 2457 00dc 03F51063 		add	r3, r3, #2304
 2458 00e0 1A69     		ldr	r2, [r3, #16]
 772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                      (((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket) << 19))
 2459              		.loc 1 772 43
 2460 00e2 BB68     		ldr	r3, [r7, #8]
 2461 00e4 9969     		ldr	r1, [r3, #24]
 2462              		.loc 1 772 58
 2463 00e6 BB68     		ldr	r3, [r7, #8]
 2464 00e8 DB68     		ldr	r3, [r3, #12]
 2465              		.loc 1 772 54
 2466 00ea 0B44     		add	r3, r3, r1
 2467              		.loc 1 772 70
 2468 00ec 591E     		subs	r1, r3, #1
 2469              		.loc 1 772 80
 2470 00ee BB68     		ldr	r3, [r7, #8]
 2471 00f0 DB68     		ldr	r3, [r3, #12]
 2472              		.loc 1 772 76
 2473 00f2 B1FBF3F3 		udiv	r3, r1, r3
 2474              		.loc 1 772 93
 2475 00f6 D904     		lsls	r1, r3, #19
 771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2476              		.loc 1 771 62
 2477 00f8 7A4B     		ldr	r3, .L135+8
 2478 00fa 0B40     		ands	r3, r3, r1
 771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT &
 2479              		.loc 1 771 34
 2480 00fc B969     		ldr	r1, [r7, #24]
 2481 00fe 4801     		lsls	r0, r1, #5
 2482 0100 F969     		ldr	r1, [r7, #28]
 2483 0102 0144     		add	r1, r1, r0
 2484 0104 01F51061 		add	r1, r1, #2304
 2485 0108 1343     		orrs	r3, r3, r2
 2486 010a 0B61     		str	r3, [r1, #16]
 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 58


 2487              		.loc 1 774 34
 2488 010c BB69     		ldr	r3, [r7, #24]
 2489 010e 5A01     		lsls	r2, r3, #5
 2490 0110 FB69     		ldr	r3, [r7, #28]
 2491 0112 1344     		add	r3, r3, r2
 2492 0114 03F51063 		add	r3, r3, #2304
 2493 0118 1A69     		ldr	r2, [r3, #16]
 2494              		.loc 1 774 66
 2495 011a BB68     		ldr	r3, [r7, #8]
 2496 011c 9B69     		ldr	r3, [r3, #24]
 2497              		.loc 1 774 62
 2498 011e C3F31203 		ubfx	r3, r3, #0, #19
 2499              		.loc 1 774 34
 2500 0122 B969     		ldr	r1, [r7, #24]
 2501 0124 4801     		lsls	r0, r1, #5
 2502 0126 F969     		ldr	r1, [r7, #28]
 2503 0128 0144     		add	r1, r1, r0
 2504 012a 01F51061 		add	r1, r1, #2304
 2505 012e 1343     		orrs	r3, r3, r2
 2506 0130 0B61     		str	r3, [r1, #16]
 775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2507              		.loc 1 776 13
 2508 0132 BB68     		ldr	r3, [r7, #8]
 2509 0134 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2510              		.loc 1 776 10
 2511 0136 012B     		cmp	r3, #1
 2512 0138 1FD1     		bne	.L120
 777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT);
 2513              		.loc 1 778 36
 2514 013a BB69     		ldr	r3, [r7, #24]
 2515 013c 5A01     		lsls	r2, r3, #5
 2516 013e FB69     		ldr	r3, [r7, #28]
 2517 0140 1344     		add	r3, r3, r2
 2518 0142 03F51063 		add	r3, r3, #2304
 2519 0146 1B69     		ldr	r3, [r3, #16]
 2520 0148 BA69     		ldr	r2, [r7, #24]
 2521 014a 5101     		lsls	r1, r2, #5
 2522 014c FA69     		ldr	r2, [r7, #28]
 2523 014e 0A44     		add	r2, r2, r1
 2524 0150 02F51062 		add	r2, r2, #2304
 2525 0154 23F0C043 		bic	r3, r3, #1610612736
 2526 0158 1361     		str	r3, [r2, #16]
 779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29));
 2527              		.loc 1 779 36
 2528 015a BB69     		ldr	r3, [r7, #24]
 2529 015c 5A01     		lsls	r2, r3, #5
 2530 015e FB69     		ldr	r3, [r7, #28]
 2531 0160 1344     		add	r3, r3, r2
 2532 0162 03F51063 		add	r3, r3, #2304
 2533 0166 1B69     		ldr	r3, [r3, #16]
 2534 0168 BA69     		ldr	r2, [r7, #24]
 2535 016a 5101     		lsls	r1, r2, #5
 2536 016c FA69     		ldr	r2, [r7, #28]
 2537 016e 0A44     		add	r2, r2, r1
 2538 0170 02F51062 		add	r2, r2, #2304
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 59


 2539 0174 43F00053 		orr	r3, r3, #536870912
 2540 0178 1361     		str	r3, [r2, #16]
 2541              	.L120:
 780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (dma == 1U)
 2542              		.loc 1 783 8
 2543 017a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2544 017c 012B     		cmp	r3, #1
 2545 017e 4BD1     		bne	.L121
 784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 2546              		.loc 1 785 23
 2547 0180 BB68     		ldr	r3, [r7, #8]
 2548 0182 5B69     		ldr	r3, [r3, #20]
 2549              		.loc 1 785 10
 2550 0184 002B     		cmp	r3, #0
 2551 0186 09D0     		beq	.L122
 786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2552              		.loc 1 787 9
 2553 0188 BB69     		ldr	r3, [r7, #24]
 2554 018a 5A01     		lsls	r2, r3, #5
 2555 018c FB69     		ldr	r3, [r7, #28]
 2556 018e 1344     		add	r3, r3, r2
 2557 0190 03F51063 		add	r3, r3, #2304
 2558 0194 1A46     		mov	r2, r3
 2559              		.loc 1 787 50
 2560 0196 BB68     		ldr	r3, [r7, #8]
 2561 0198 5B69     		ldr	r3, [r3, #20]
 2562              		.loc 1 787 35
 2563 019a 5361     		str	r3, [r2, #20]
 2564              	.L122:
 788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2565              		.loc 1 790 13
 2566 019c BB68     		ldr	r3, [r7, #8]
 2567 019e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2568              		.loc 1 790 10
 2569 01a0 012B     		cmp	r3, #1
 2570 01a2 28D1     		bne	.L123
 791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2571              		.loc 1 792 14
 2572 01a4 FB69     		ldr	r3, [r7, #28]
 2573 01a6 03F50063 		add	r3, r3, #2048
 2574              		.loc 1 792 25
 2575 01aa 9B68     		ldr	r3, [r3, #8]
 2576              		.loc 1 792 32
 2577 01ac 03F48073 		and	r3, r3, #256
 2578              		.loc 1 792 12
 2579 01b0 002B     		cmp	r3, #0
 2580 01b2 10D1     		bne	.L124
 793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
 794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 60


 2581              		.loc 1 794 37
 2582 01b4 BB69     		ldr	r3, [r7, #24]
 2583 01b6 5A01     		lsls	r2, r3, #5
 2584 01b8 FB69     		ldr	r3, [r7, #28]
 2585 01ba 1344     		add	r3, r3, r2
 2586 01bc 03F51063 		add	r3, r3, #2304
 2587 01c0 1B68     		ldr	r3, [r3]
 2588 01c2 BA69     		ldr	r2, [r7, #24]
 2589 01c4 5101     		lsls	r1, r2, #5
 2590 01c6 FA69     		ldr	r2, [r7, #28]
 2591 01c8 0A44     		add	r2, r2, r1
 2592 01ca 02F51062 		add	r2, r2, #2304
 2593 01ce 43F00053 		orr	r3, r3, #536870912
 2594 01d2 1360     		str	r3, [r2]
 2595 01d4 0FE0     		b	.L123
 2596              	.L124:
 795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
 796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         else
 797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
 798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2597              		.loc 1 798 37
 2598 01d6 BB69     		ldr	r3, [r7, #24]
 2599 01d8 5A01     		lsls	r2, r3, #5
 2600 01da FB69     		ldr	r3, [r7, #28]
 2601 01dc 1344     		add	r3, r3, r2
 2602 01de 03F51063 		add	r3, r3, #2304
 2603 01e2 1B68     		ldr	r3, [r3]
 2604 01e4 BA69     		ldr	r2, [r7, #24]
 2605 01e6 5101     		lsls	r1, r2, #5
 2606 01e8 FA69     		ldr	r2, [r7, #28]
 2607 01ea 0A44     		add	r2, r2, r1
 2608 01ec 02F51062 		add	r2, r2, #2304
 2609 01f0 43F08053 		orr	r3, r3, #268435456
 2610 01f4 1360     		str	r3, [r2]
 2611              	.L123:
 799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
 800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2612              		.loc 1 803 33
 2613 01f6 BB69     		ldr	r3, [r7, #24]
 2614 01f8 5A01     		lsls	r2, r3, #5
 2615 01fa FB69     		ldr	r3, [r7, #28]
 2616 01fc 1344     		add	r3, r3, r2
 2617 01fe 03F51063 		add	r3, r3, #2304
 2618 0202 1B68     		ldr	r3, [r3]
 2619 0204 BA69     		ldr	r2, [r7, #24]
 2620 0206 5101     		lsls	r1, r2, #5
 2621 0208 FA69     		ldr	r2, [r7, #28]
 2622 020a 0A44     		add	r2, r2, r1
 2623 020c 02F51062 		add	r2, r2, #2304
 2624 0210 43F00443 		orr	r3, r3, #-2080374784
 2625 0214 1360     		str	r3, [r2]
 2626 0216 37E1     		b	.L125
 2627              	.L121:
 804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 61


 805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else
 806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2628              		.loc 1 808 33
 2629 0218 BB69     		ldr	r3, [r7, #24]
 2630 021a 5A01     		lsls	r2, r3, #5
 2631 021c FB69     		ldr	r3, [r7, #28]
 2632 021e 1344     		add	r3, r3, r2
 2633 0220 03F51063 		add	r3, r3, #2304
 2634 0224 1B68     		ldr	r3, [r3]
 2635 0226 BA69     		ldr	r2, [r7, #24]
 2636 0228 5101     		lsls	r1, r2, #5
 2637 022a FA69     		ldr	r2, [r7, #28]
 2638 022c 0A44     		add	r2, r2, r1
 2639 022e 02F51062 		add	r2, r2, #2304
 2640 0232 43F00443 		orr	r3, r3, #-2080374784
 2641 0236 1360     		str	r3, [r2]
 809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 2642              		.loc 1 810 13
 2643 0238 BB68     		ldr	r3, [r7, #8]
 2644 023a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2645              		.loc 1 810 10
 2646 023c 012B     		cmp	r3, #1
 2647 023e 15D0     		beq	.L126
 811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         /* Enable the Tx FIFO Empty Interrupt for this EP */
 813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         if (ep->xfer_len > 0U)
 2648              		.loc 1 813 15
 2649 0240 BB68     		ldr	r3, [r7, #8]
 2650 0242 9B69     		ldr	r3, [r3, #24]
 2651              		.loc 1 813 12
 2652 0244 002B     		cmp	r3, #0
 2653 0246 00F01F81 		beq	.L125
 814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
 815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2654              		.loc 1 815 35
 2655 024a FB69     		ldr	r3, [r7, #28]
 2656 024c 03F50063 		add	r3, r3, #2048
 2657 0250 5A6B     		ldr	r2, [r3, #52]
 2658              		.loc 1 815 48
 2659 0252 BB68     		ldr	r3, [r7, #8]
 2660 0254 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2661              		.loc 1 815 54
 2662 0256 03F00F03 		and	r3, r3, #15
 2663              		.loc 1 815 42
 2664 025a 0121     		movs	r1, #1
 2665 025c 01FA03F3 		lsl	r3, r1, r3
 2666              		.loc 1 815 35
 2667 0260 F969     		ldr	r1, [r7, #28]
 2668 0262 01F50061 		add	r1, r1, #2048
 2669 0266 1343     		orrs	r3, r3, r2
 2670 0268 4B63     		str	r3, [r1, #52]
 2671 026a 0DE1     		b	.L125
 2672              	.L126:
 816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 62


 817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       else
 819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2673              		.loc 1 820 14
 2674 026c FB69     		ldr	r3, [r7, #28]
 2675 026e 03F50063 		add	r3, r3, #2048
 2676              		.loc 1 820 25
 2677 0272 9B68     		ldr	r3, [r3, #8]
 2678              		.loc 1 820 32
 2679 0274 03F48073 		and	r3, r3, #256
 2680              		.loc 1 820 12
 2681 0278 002B     		cmp	r3, #0
 2682 027a 10D1     		bne	.L127
 821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
 822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2683              		.loc 1 822 37
 2684 027c BB69     		ldr	r3, [r7, #24]
 2685 027e 5A01     		lsls	r2, r3, #5
 2686 0280 FB69     		ldr	r3, [r7, #28]
 2687 0282 1344     		add	r3, r3, r2
 2688 0284 03F51063 		add	r3, r3, #2304
 2689 0288 1B68     		ldr	r3, [r3]
 2690 028a BA69     		ldr	r2, [r7, #24]
 2691 028c 5101     		lsls	r1, r2, #5
 2692 028e FA69     		ldr	r2, [r7, #28]
 2693 0290 0A44     		add	r2, r2, r1
 2694 0292 02F51062 		add	r2, r2, #2304
 2695 0296 43F00053 		orr	r3, r3, #536870912
 2696 029a 1360     		str	r3, [r2]
 2697 029c 0FE0     		b	.L128
 2698              	.L127:
 823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
 824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         else
 825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
 826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2699              		.loc 1 826 37
 2700 029e BB69     		ldr	r3, [r7, #24]
 2701 02a0 5A01     		lsls	r2, r3, #5
 2702 02a2 FB69     		ldr	r3, [r7, #28]
 2703 02a4 1344     		add	r3, r3, r2
 2704 02a6 03F51063 		add	r3, r3, #2304
 2705 02aa 1B68     		ldr	r3, [r3]
 2706 02ac BA69     		ldr	r2, [r7, #24]
 2707 02ae 5101     		lsls	r1, r2, #5
 2708 02b0 FA69     		ldr	r2, [r7, #28]
 2709 02b2 0A44     		add	r2, r2, r1
 2710 02b4 02F51062 		add	r2, r2, #2304
 2711 02b8 43F08053 		orr	r3, r3, #268435456
 2712 02bc 1360     		str	r3, [r2]
 2713              	.L128:
 827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
 828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         (void)USB_WritePacket(USBx, ep->xfer_buff, ep->num, (uint16_t)ep->xfer_len, dma);
 2714              		.loc 1 829 15
 2715 02be BB68     		ldr	r3, [r7, #8]
 2716 02c0 1969     		ldr	r1, [r3, #16]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 63


 2717 02c2 BB68     		ldr	r3, [r7, #8]
 2718 02c4 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2719              		.loc 1 829 73
 2720 02c6 BB68     		ldr	r3, [r7, #8]
 2721 02c8 9B69     		ldr	r3, [r3, #24]
 2722              		.loc 1 829 15
 2723 02ca 98B2     		uxth	r0, r3
 2724 02cc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2725 02ce 0093     		str	r3, [sp]
 2726 02d0 0346     		mov	r3, r0
 2727 02d2 F868     		ldr	r0, [r7, #12]
 2728 02d4 FFF7FEFF 		bl	USB_WritePacket
 2729 02d8 D6E0     		b	.L125
 2730              	.L136:
 2731 02da 00BF     		.align	2
 2732              	.L135:
 2733 02dc FFFF07E0 		.word	-536346625
 2734 02e0 0000F8FF 		.word	-524288
 2735 02e4 0000F81F 		.word	536346624
 2736              	.L118:
 830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else /* OUT endpoint */
 834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     * pktcnt = N
 837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     * xfersize = N * maxpacket
 838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     */
 839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2737              		.loc 1 839 33
 2738 02e8 BB69     		ldr	r3, [r7, #24]
 2739 02ea 5A01     		lsls	r2, r3, #5
 2740 02ec FB69     		ldr	r3, [r7, #28]
 2741 02ee 1344     		add	r3, r3, r2
 2742 02f0 03F53063 		add	r3, r3, #2816
 2743 02f4 1A69     		ldr	r2, [r3, #16]
 2744 02f6 BB69     		ldr	r3, [r7, #24]
 2745 02f8 5901     		lsls	r1, r3, #5
 2746 02fa FB69     		ldr	r3, [r7, #28]
 2747 02fc 0B44     		add	r3, r3, r1
 2748 02fe 03F53063 		add	r3, r3, #2816
 2749 0302 1946     		mov	r1, r3
 2750 0304 634B     		ldr	r3, .L137
 2751 0306 1340     		ands	r3, r3, r2
 2752 0308 0B61     		str	r3, [r1, #16]
 840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2753              		.loc 1 840 33
 2754 030a BB69     		ldr	r3, [r7, #24]
 2755 030c 5A01     		lsls	r2, r3, #5
 2756 030e FB69     		ldr	r3, [r7, #28]
 2757 0310 1344     		add	r3, r3, r2
 2758 0312 03F53063 		add	r3, r3, #2816
 2759 0316 1A69     		ldr	r2, [r3, #16]
 2760 0318 BB69     		ldr	r3, [r7, #24]
 2761 031a 5901     		lsls	r1, r3, #5
 2762 031c FB69     		ldr	r3, [r7, #28]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 64


 2763 031e 0B44     		add	r3, r3, r1
 2764 0320 03F53063 		add	r3, r3, #2816
 2765 0324 1946     		mov	r1, r3
 2766 0326 5C4B     		ldr	r3, .L137+4
 2767 0328 1340     		ands	r3, r3, r2
 2768 032a 0B61     		str	r3, [r1, #16]
 841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2769              		.loc 1 842 11
 2770 032c BB68     		ldr	r3, [r7, #8]
 2771 032e 9B69     		ldr	r3, [r3, #24]
 2772              		.loc 1 842 8
 2773 0330 002B     		cmp	r3, #0
 2774 0332 23D1     		bne	.L129
 843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 2775              		.loc 1 844 35
 2776 0334 BB69     		ldr	r3, [r7, #24]
 2777 0336 5A01     		lsls	r2, r3, #5
 2778 0338 FB69     		ldr	r3, [r7, #28]
 2779 033a 1344     		add	r3, r3, r2
 2780 033c 03F53063 		add	r3, r3, #2816
 2781 0340 1A69     		ldr	r2, [r3, #16]
 2782              		.loc 1 844 67
 2783 0342 BB68     		ldr	r3, [r7, #8]
 2784 0344 DB68     		ldr	r3, [r3, #12]
 2785              		.loc 1 844 63
 2786 0346 C3F31203 		ubfx	r3, r3, #0, #19
 2787              		.loc 1 844 35
 2788 034a B969     		ldr	r1, [r7, #24]
 2789 034c 4801     		lsls	r0, r1, #5
 2790 034e F969     		ldr	r1, [r7, #28]
 2791 0350 0144     		add	r1, r1, r0
 2792 0352 01F53061 		add	r1, r1, #2816
 2793 0356 1343     		orrs	r3, r3, r2
 2794 0358 0B61     		str	r3, [r1, #16]
 845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 2795              		.loc 1 845 35
 2796 035a BB69     		ldr	r3, [r7, #24]
 2797 035c 5A01     		lsls	r2, r3, #5
 2798 035e FB69     		ldr	r3, [r7, #28]
 2799 0360 1344     		add	r3, r3, r2
 2800 0362 03F53063 		add	r3, r3, #2816
 2801 0366 1B69     		ldr	r3, [r3, #16]
 2802 0368 BA69     		ldr	r2, [r7, #24]
 2803 036a 5101     		lsls	r1, r2, #5
 2804 036c FA69     		ldr	r2, [r7, #28]
 2805 036e 0A44     		add	r2, r2, r1
 2806 0370 02F53062 		add	r2, r2, #2816
 2807 0374 43F40023 		orr	r3, r3, #524288
 2808 0378 1361     		str	r3, [r2, #16]
 2809 037a 37E0     		b	.L130
 2810              	.L129:
 846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else
 848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       pktcnt = (uint16_t)((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket);
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 65


 2811              		.loc 1 849 30
 2812 037c BB68     		ldr	r3, [r7, #8]
 2813 037e 9A69     		ldr	r2, [r3, #24]
 2814              		.loc 1 849 45
 2815 0380 BB68     		ldr	r3, [r7, #8]
 2816 0382 DB68     		ldr	r3, [r3, #12]
 2817              		.loc 1 849 41
 2818 0384 1344     		add	r3, r3, r2
 2819              		.loc 1 849 57
 2820 0386 5A1E     		subs	r2, r3, #1
 2821              		.loc 1 849 67
 2822 0388 BB68     		ldr	r3, [r7, #8]
 2823 038a DB68     		ldr	r3, [r3, #12]
 2824              		.loc 1 849 63
 2825 038c B2FBF3F3 		udiv	r3, r2, r3
 2826              		.loc 1 849 14
 2827 0390 FB82     		strh	r3, [r7, #22]	@ movhi
 850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       ep->xfer_size = ep->maxpacket * pktcnt;
 2828              		.loc 1 850 25
 2829 0392 BB68     		ldr	r3, [r7, #8]
 2830 0394 DB68     		ldr	r3, [r3, #12]
 2831              		.loc 1 850 37
 2832 0396 FA8A     		ldrh	r2, [r7, #22]
 2833 0398 03FB02F2 		mul	r2, r3, r2
 2834              		.loc 1 850 21
 2835 039c BB68     		ldr	r3, [r7, #8]
 2836 039e DA61     		str	r2, [r3, #28]
 851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_PKTCNT & ((uint32_t)pktcnt << 19);
 2837              		.loc 1 852 35
 2838 03a0 BB69     		ldr	r3, [r7, #24]
 2839 03a2 5A01     		lsls	r2, r3, #5
 2840 03a4 FB69     		ldr	r3, [r7, #28]
 2841 03a6 1344     		add	r3, r3, r2
 2842 03a8 03F53063 		add	r3, r3, #2816
 2843 03ac 1A69     		ldr	r2, [r3, #16]
 2844              		.loc 1 852 65
 2845 03ae FB8A     		ldrh	r3, [r7, #22]
 2846              		.loc 1 852 82
 2847 03b0 D904     		lsls	r1, r3, #19
 2848              		.loc 1 852 62
 2849 03b2 3A4B     		ldr	r3, .L137+8
 2850 03b4 0B40     		ands	r3, r3, r1
 2851              		.loc 1 852 35
 2852 03b6 B969     		ldr	r1, [r7, #24]
 2853 03b8 4801     		lsls	r0, r1, #5
 2854 03ba F969     		ldr	r1, [r7, #28]
 2855 03bc 0144     		add	r1, r1, r0
 2856 03be 01F53061 		add	r1, r1, #2816
 2857 03c2 1343     		orrs	r3, r3, r2
 2858 03c4 0B61     		str	r3, [r1, #16]
 853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size;
 2859              		.loc 1 853 35
 2860 03c6 BB69     		ldr	r3, [r7, #24]
 2861 03c8 5A01     		lsls	r2, r3, #5
 2862 03ca FB69     		ldr	r3, [r7, #28]
 2863 03cc 1344     		add	r3, r3, r2
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 66


 2864 03ce 03F53063 		add	r3, r3, #2816
 2865 03d2 1A69     		ldr	r2, [r3, #16]
 2866              		.loc 1 853 66
 2867 03d4 BB68     		ldr	r3, [r7, #8]
 2868 03d6 DB69     		ldr	r3, [r3, #28]
 2869              		.loc 1 853 62
 2870 03d8 C3F31203 		ubfx	r3, r3, #0, #19
 2871              		.loc 1 853 35
 2872 03dc B969     		ldr	r1, [r7, #24]
 2873 03de 4801     		lsls	r0, r1, #5
 2874 03e0 F969     		ldr	r1, [r7, #28]
 2875 03e2 0144     		add	r1, r1, r0
 2876 03e4 01F53061 		add	r1, r1, #2816
 2877 03e8 1343     		orrs	r3, r3, r2
 2878 03ea 0B61     		str	r3, [r1, #16]
 2879              	.L130:
 854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (dma == 1U)
 2880              		.loc 1 856 8
 2881 03ec FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2882 03ee 012B     		cmp	r3, #1
 2883 03f0 0DD1     		bne	.L131
 857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 2884              		.loc 1 858 23
 2885 03f2 BB68     		ldr	r3, [r7, #8]
 2886 03f4 1B69     		ldr	r3, [r3, #16]
 2887              		.loc 1 858 10
 2888 03f6 002B     		cmp	r3, #0
 2889 03f8 09D0     		beq	.L131
 859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 2890              		.loc 1 860 51
 2891 03fa BB68     		ldr	r3, [r7, #8]
 2892 03fc 1969     		ldr	r1, [r3, #16]
 2893              		.loc 1 860 9
 2894 03fe BB69     		ldr	r3, [r7, #24]
 2895 0400 5A01     		lsls	r2, r3, #5
 2896 0402 FB69     		ldr	r3, [r7, #28]
 2897 0404 1344     		add	r3, r3, r2
 2898 0406 03F53063 		add	r3, r3, #2816
 2899              		.loc 1 860 38
 2900 040a 0A46     		mov	r2, r1
 2901              		.loc 1 860 36
 2902 040c 5A61     		str	r2, [r3, #20]
 2903              	.L131:
 861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2904              		.loc 1 864 11
 2905 040e BB68     		ldr	r3, [r7, #8]
 2906 0410 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2907              		.loc 1 864 8
 2908 0412 012B     		cmp	r3, #1
 2909 0414 28D1     		bne	.L132
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 67


 865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2910              		.loc 1 866 12
 2911 0416 FB69     		ldr	r3, [r7, #28]
 2912 0418 03F50063 		add	r3, r3, #2048
 2913              		.loc 1 866 23
 2914 041c 9B68     		ldr	r3, [r3, #8]
 2915              		.loc 1 866 30
 2916 041e 03F48073 		and	r3, r3, #256
 2917              		.loc 1 866 10
 2918 0422 002B     		cmp	r3, #0
 2919 0424 10D1     		bne	.L133
 867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 2920              		.loc 1 868 36
 2921 0426 BB69     		ldr	r3, [r7, #24]
 2922 0428 5A01     		lsls	r2, r3, #5
 2923 042a FB69     		ldr	r3, [r7, #28]
 2924 042c 1344     		add	r3, r3, r2
 2925 042e 03F53063 		add	r3, r3, #2816
 2926 0432 1B68     		ldr	r3, [r3]
 2927 0434 BA69     		ldr	r2, [r7, #24]
 2928 0436 5101     		lsls	r1, r2, #5
 2929 0438 FA69     		ldr	r2, [r7, #28]
 2930 043a 0A44     		add	r2, r2, r1
 2931 043c 02F53062 		add	r2, r2, #2816
 2932 0440 43F00053 		orr	r3, r3, #536870912
 2933 0444 1360     		str	r3, [r2]
 2934 0446 0FE0     		b	.L132
 2935              	.L133:
 869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       else
 871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 2936              		.loc 1 872 36
 2937 0448 BB69     		ldr	r3, [r7, #24]
 2938 044a 5A01     		lsls	r2, r3, #5
 2939 044c FB69     		ldr	r3, [r7, #28]
 2940 044e 1344     		add	r3, r3, r2
 2941 0450 03F53063 		add	r3, r3, #2816
 2942 0454 1B68     		ldr	r3, [r3]
 2943 0456 BA69     		ldr	r2, [r7, #24]
 2944 0458 5101     		lsls	r1, r2, #5
 2945 045a FA69     		ldr	r2, [r7, #28]
 2946 045c 0A44     		add	r2, r2, r1
 2947 045e 02F53062 		add	r2, r2, #2816
 2948 0462 43F08053 		orr	r3, r3, #268435456
 2949 0466 1360     		str	r3, [r2]
 2950              	.L132:
 873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* EP enable */
 876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2951              		.loc 1 876 32
 2952 0468 BB69     		ldr	r3, [r7, #24]
 2953 046a 5A01     		lsls	r2, r3, #5
 2954 046c FB69     		ldr	r3, [r7, #28]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 68


 2955 046e 1344     		add	r3, r3, r2
 2956 0470 03F53063 		add	r3, r3, #2816
 2957 0474 1B68     		ldr	r3, [r3]
 2958 0476 BA69     		ldr	r2, [r7, #24]
 2959 0478 5101     		lsls	r1, r2, #5
 2960 047a FA69     		ldr	r2, [r7, #28]
 2961 047c 0A44     		add	r2, r2, r1
 2962 047e 02F53062 		add	r2, r2, #2816
 2963 0482 43F00443 		orr	r3, r3, #-2080374784
 2964 0486 1360     		str	r3, [r2]
 2965              	.L125:
 877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 2966              		.loc 1 879 10
 2967 0488 0023     		movs	r3, #0
 880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 2968              		.loc 1 880 1
 2969 048a 1846     		mov	r0, r3
 2970 048c 2037     		adds	r7, r7, #32
 2971              	.LCFI90:
 2972              		.cfi_def_cfa_offset 8
 2973 048e BD46     		mov	sp, r7
 2974              	.LCFI91:
 2975              		.cfi_def_cfa_register 13
 2976              		@ sp needed
 2977 0490 80BD     		pop	{r7, pc}
 2978              	.L138:
 2979 0492 00BF     		.align	2
 2980              	.L137:
 2981 0494 0000F8FF 		.word	-524288
 2982 0498 FFFF07E0 		.word	-536346625
 2983 049c 0000F81F 		.word	536346624
 2984              		.cfi_endproc
 2985              	.LFE158:
 2987              		.section	.text.USB_EP0StartXfer,"ax",%progbits
 2988              		.align	1
 2989              		.global	USB_EP0StartXfer
 2990              		.syntax unified
 2991              		.thumb
 2992              		.thumb_func
 2994              	USB_EP0StartXfer:
 2995              	.LFB159:
 881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
 885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
 888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           0 : DMA feature not used
 889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           1 : DMA feature used
 890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
 891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
 892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 2996              		.loc 1 893 1
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 69


 2997              		.cfi_startproc
 2998              		@ args = 0, pretend = 0, frame = 24
 2999              		@ frame_needed = 1, uses_anonymous_args = 0
 3000              		@ link register save eliminated.
 3001 0000 80B4     		push	{r7}
 3002              	.LCFI92:
 3003              		.cfi_def_cfa_offset 4
 3004              		.cfi_offset 7, -4
 3005 0002 87B0     		sub	sp, sp, #28
 3006              	.LCFI93:
 3007              		.cfi_def_cfa_offset 32
 3008 0004 00AF     		add	r7, sp, #0
 3009              	.LCFI94:
 3010              		.cfi_def_cfa_register 7
 3011 0006 F860     		str	r0, [r7, #12]
 3012 0008 B960     		str	r1, [r7, #8]
 3013 000a 1346     		mov	r3, r2
 3014 000c FB71     		strb	r3, [r7, #7]
 894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3015              		.loc 1 894 12
 3016 000e FB68     		ldr	r3, [r7, #12]
 3017 0010 7B61     		str	r3, [r7, #20]
 895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3018              		.loc 1 895 32
 3019 0012 BB68     		ldr	r3, [r7, #8]
 3020 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3021              		.loc 1 895 12
 3022 0016 3B61     		str	r3, [r7, #16]
 896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* IN endpoint */
 898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ep->is_in == 1U)
 3023              		.loc 1 898 9
 3024 0018 BB68     		ldr	r3, [r7, #8]
 3025 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3026              		.loc 1 898 6
 3027 001c 012B     		cmp	r3, #1
 3028 001e 40F0CE80 		bne	.L140
 899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Zero Length Packet? */
 901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 3029              		.loc 1 901 11
 3030 0022 BB68     		ldr	r3, [r7, #8]
 3031 0024 9B69     		ldr	r3, [r3, #24]
 3032              		.loc 1 901 8
 3033 0026 002B     		cmp	r3, #0
 3034 0028 32D1     		bne	.L141
 902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 3035              		.loc 1 903 34
 3036 002a 3B69     		ldr	r3, [r7, #16]
 3037 002c 5A01     		lsls	r2, r3, #5
 3038 002e 7B69     		ldr	r3, [r7, #20]
 3039 0030 1344     		add	r3, r3, r2
 3040 0032 03F51063 		add	r3, r3, #2304
 3041 0036 1A69     		ldr	r2, [r3, #16]
 3042 0038 3B69     		ldr	r3, [r7, #16]
 3043 003a 5901     		lsls	r1, r3, #5
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 70


 3044 003c 7B69     		ldr	r3, [r7, #20]
 3045 003e 0B44     		add	r3, r3, r1
 3046 0040 03F51063 		add	r3, r3, #2304
 3047 0044 1946     		mov	r1, r3
 3048 0046 9A4B     		ldr	r3, .L150
 3049 0048 1340     		ands	r3, r3, r2
 3050 004a 0B61     		str	r3, [r1, #16]
 904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 3051              		.loc 1 904 34
 3052 004c 3B69     		ldr	r3, [r7, #16]
 3053 004e 5A01     		lsls	r2, r3, #5
 3054 0050 7B69     		ldr	r3, [r7, #20]
 3055 0052 1344     		add	r3, r3, r2
 3056 0054 03F51063 		add	r3, r3, #2304
 3057 0058 1B69     		ldr	r3, [r3, #16]
 3058 005a 3A69     		ldr	r2, [r7, #16]
 3059 005c 5101     		lsls	r1, r2, #5
 3060 005e 7A69     		ldr	r2, [r7, #20]
 3061 0060 0A44     		add	r2, r2, r1
 3062 0062 02F51062 		add	r2, r2, #2304
 3063 0066 43F40023 		orr	r3, r3, #524288
 3064 006a 1361     		str	r3, [r2, #16]
 905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 3065              		.loc 1 905 34
 3066 006c 3B69     		ldr	r3, [r7, #16]
 3067 006e 5A01     		lsls	r2, r3, #5
 3068 0070 7B69     		ldr	r3, [r7, #20]
 3069 0072 1344     		add	r3, r3, r2
 3070 0074 03F51063 		add	r3, r3, #2304
 3071 0078 1A69     		ldr	r2, [r3, #16]
 3072 007a 3B69     		ldr	r3, [r7, #16]
 3073 007c 5901     		lsls	r1, r3, #5
 3074 007e 7B69     		ldr	r3, [r7, #20]
 3075 0080 0B44     		add	r3, r3, r1
 3076 0082 03F51063 		add	r3, r3, #2304
 3077 0086 1946     		mov	r1, r3
 3078 0088 8A4B     		ldr	r3, .L150+4
 3079 008a 1340     		ands	r3, r3, r2
 3080 008c 0B61     		str	r3, [r1, #16]
 3081 008e 4EE0     		b	.L142
 3082              	.L141:
 906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else
 908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* Program the transfer size and packet count
 910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       * exist ? 1 : 0)
 913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       */
 914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 3083              		.loc 1 914 34
 3084 0090 3B69     		ldr	r3, [r7, #16]
 3085 0092 5A01     		lsls	r2, r3, #5
 3086 0094 7B69     		ldr	r3, [r7, #20]
 3087 0096 1344     		add	r3, r3, r2
 3088 0098 03F51063 		add	r3, r3, #2304
 3089 009c 1A69     		ldr	r2, [r3, #16]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 71


 3090 009e 3B69     		ldr	r3, [r7, #16]
 3091 00a0 5901     		lsls	r1, r3, #5
 3092 00a2 7B69     		ldr	r3, [r7, #20]
 3093 00a4 0B44     		add	r3, r3, r1
 3094 00a6 03F51063 		add	r3, r3, #2304
 3095 00aa 1946     		mov	r1, r3
 3096 00ac 814B     		ldr	r3, .L150+4
 3097 00ae 1340     		ands	r3, r3, r2
 3098 00b0 0B61     		str	r3, [r1, #16]
 915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 3099              		.loc 1 915 34
 3100 00b2 3B69     		ldr	r3, [r7, #16]
 3101 00b4 5A01     		lsls	r2, r3, #5
 3102 00b6 7B69     		ldr	r3, [r7, #20]
 3103 00b8 1344     		add	r3, r3, r2
 3104 00ba 03F51063 		add	r3, r3, #2304
 3105 00be 1A69     		ldr	r2, [r3, #16]
 3106 00c0 3B69     		ldr	r3, [r7, #16]
 3107 00c2 5901     		lsls	r1, r3, #5
 3108 00c4 7B69     		ldr	r3, [r7, #20]
 3109 00c6 0B44     		add	r3, r3, r1
 3110 00c8 03F51063 		add	r3, r3, #2304
 3111 00cc 1946     		mov	r1, r3
 3112 00ce 784B     		ldr	r3, .L150
 3113 00d0 1340     		ands	r3, r3, r2
 3114 00d2 0B61     		str	r3, [r1, #16]
 916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if (ep->xfer_len > ep->maxpacket)
 3115              		.loc 1 917 13
 3116 00d4 BB68     		ldr	r3, [r7, #8]
 3117 00d6 9A69     		ldr	r2, [r3, #24]
 3118              		.loc 1 917 28
 3119 00d8 BB68     		ldr	r3, [r7, #8]
 3120 00da DB68     		ldr	r3, [r3, #12]
 3121              		.loc 1 917 10
 3122 00dc 9A42     		cmp	r2, r3
 3123 00de 03D9     		bls	.L143
 918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 3124              		.loc 1 919 26
 3125 00e0 BB68     		ldr	r3, [r7, #8]
 3126 00e2 DA68     		ldr	r2, [r3, #12]
 3127              		.loc 1 919 22
 3128 00e4 BB68     		ldr	r3, [r7, #8]
 3129 00e6 9A61     		str	r2, [r3, #24]
 3130              	.L143:
 920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 3131              		.loc 1 921 34
 3132 00e8 3B69     		ldr	r3, [r7, #16]
 3133 00ea 5A01     		lsls	r2, r3, #5
 3134 00ec 7B69     		ldr	r3, [r7, #20]
 3135 00ee 1344     		add	r3, r3, r2
 3136 00f0 03F51063 		add	r3, r3, #2304
 3137 00f4 1B69     		ldr	r3, [r3, #16]
 3138 00f6 3A69     		ldr	r2, [r7, #16]
 3139 00f8 5101     		lsls	r1, r2, #5
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 72


 3140 00fa 7A69     		ldr	r2, [r7, #20]
 3141 00fc 0A44     		add	r2, r2, r1
 3142 00fe 02F51062 		add	r2, r2, #2304
 3143 0102 43F40023 		orr	r3, r3, #524288
 3144 0106 1361     		str	r3, [r2, #16]
 922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 3145              		.loc 1 922 34
 3146 0108 3B69     		ldr	r3, [r7, #16]
 3147 010a 5A01     		lsls	r2, r3, #5
 3148 010c 7B69     		ldr	r3, [r7, #20]
 3149 010e 1344     		add	r3, r3, r2
 3150 0110 03F51063 		add	r3, r3, #2304
 3151 0114 1A69     		ldr	r2, [r3, #16]
 3152              		.loc 1 922 66
 3153 0116 BB68     		ldr	r3, [r7, #8]
 3154 0118 9B69     		ldr	r3, [r3, #24]
 3155              		.loc 1 922 62
 3156 011a C3F31203 		ubfx	r3, r3, #0, #19
 3157              		.loc 1 922 34
 3158 011e 3969     		ldr	r1, [r7, #16]
 3159 0120 4801     		lsls	r0, r1, #5
 3160 0122 7969     		ldr	r1, [r7, #20]
 3161 0124 0144     		add	r1, r1, r0
 3162 0126 01F51061 		add	r1, r1, #2304
 3163 012a 1343     		orrs	r3, r3, r2
 3164 012c 0B61     		str	r3, [r1, #16]
 3165              	.L142:
 923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (dma == 1U)
 3166              		.loc 1 925 8
 3167 012e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3168 0130 012B     		cmp	r3, #1
 3169 0132 1ED1     		bne	.L144
 926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 3170              		.loc 1 927 23
 3171 0134 BB68     		ldr	r3, [r7, #8]
 3172 0136 5B69     		ldr	r3, [r3, #20]
 3173              		.loc 1 927 10
 3174 0138 002B     		cmp	r3, #0
 3175 013a 09D0     		beq	.L145
 928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 3176              		.loc 1 929 9
 3177 013c 3B69     		ldr	r3, [r7, #16]
 3178 013e 5A01     		lsls	r2, r3, #5
 3179 0140 7B69     		ldr	r3, [r7, #20]
 3180 0142 1344     		add	r3, r3, r2
 3181 0144 03F51063 		add	r3, r3, #2304
 3182 0148 1A46     		mov	r2, r3
 3183              		.loc 1 929 50
 3184 014a BB68     		ldr	r3, [r7, #8]
 3185 014c 5B69     		ldr	r3, [r3, #20]
 3186              		.loc 1 929 35
 3187 014e 5361     		str	r3, [r2, #20]
 3188              	.L145:
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 73


 930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 3189              		.loc 1 933 33
 3190 0150 3B69     		ldr	r3, [r7, #16]
 3191 0152 5A01     		lsls	r2, r3, #5
 3192 0154 7B69     		ldr	r3, [r7, #20]
 3193 0156 1344     		add	r3, r3, r2
 3194 0158 03F51063 		add	r3, r3, #2304
 3195 015c 1B68     		ldr	r3, [r3]
 3196 015e 3A69     		ldr	r2, [r7, #16]
 3197 0160 5101     		lsls	r1, r2, #5
 3198 0162 7A69     		ldr	r2, [r7, #20]
 3199 0164 0A44     		add	r2, r2, r1
 3200 0166 02F51062 		add	r2, r2, #2304
 3201 016a 43F00443 		orr	r3, r3, #-2080374784
 3202 016e 1360     		str	r3, [r2]
 3203 0170 97E0     		b	.L146
 3204              	.L144:
 934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else
 936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 3205              		.loc 1 938 33
 3206 0172 3B69     		ldr	r3, [r7, #16]
 3207 0174 5A01     		lsls	r2, r3, #5
 3208 0176 7B69     		ldr	r3, [r7, #20]
 3209 0178 1344     		add	r3, r3, r2
 3210 017a 03F51063 		add	r3, r3, #2304
 3211 017e 1B68     		ldr	r3, [r3]
 3212 0180 3A69     		ldr	r2, [r7, #16]
 3213 0182 5101     		lsls	r1, r2, #5
 3214 0184 7A69     		ldr	r2, [r7, #20]
 3215 0186 0A44     		add	r2, r2, r1
 3216 0188 02F51062 		add	r2, r2, #2304
 3217 018c 43F00443 		orr	r3, r3, #-2080374784
 3218 0190 1360     		str	r3, [r2]
 939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 3219              		.loc 1 941 13
 3220 0192 BB68     		ldr	r3, [r7, #8]
 3221 0194 9B69     		ldr	r3, [r3, #24]
 3222              		.loc 1 941 10
 3223 0196 002B     		cmp	r3, #0
 3224 0198 00F08380 		beq	.L146
 942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 3225              		.loc 1 943 33
 3226 019c 7B69     		ldr	r3, [r7, #20]
 3227 019e 03F50063 		add	r3, r3, #2048
 3228 01a2 5A6B     		ldr	r2, [r3, #52]
 3229              		.loc 1 943 46
 3230 01a4 BB68     		ldr	r3, [r7, #8]
 3231 01a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 74


 3232              		.loc 1 943 52
 3233 01a8 03F00F03 		and	r3, r3, #15
 3234              		.loc 1 943 40
 3235 01ac 0121     		movs	r1, #1
 3236 01ae 01FA03F3 		lsl	r3, r1, r3
 3237              		.loc 1 943 33
 3238 01b2 7969     		ldr	r1, [r7, #20]
 3239 01b4 01F50061 		add	r1, r1, #2048
 3240 01b8 1343     		orrs	r3, r3, r2
 3241 01ba 4B63     		str	r3, [r1, #52]
 3242 01bc 71E0     		b	.L146
 3243              	.L140:
 944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else /* OUT endpoint */
 948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     * pktcnt = N
 951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     * xfersize = N * maxpacket
 952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     */
 953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 3244              		.loc 1 953 33
 3245 01be 3B69     		ldr	r3, [r7, #16]
 3246 01c0 5A01     		lsls	r2, r3, #5
 3247 01c2 7B69     		ldr	r3, [r7, #20]
 3248 01c4 1344     		add	r3, r3, r2
 3249 01c6 03F53063 		add	r3, r3, #2816
 3250 01ca 1A69     		ldr	r2, [r3, #16]
 3251 01cc 3B69     		ldr	r3, [r7, #16]
 3252 01ce 5901     		lsls	r1, r3, #5
 3253 01d0 7B69     		ldr	r3, [r7, #20]
 3254 01d2 0B44     		add	r3, r3, r1
 3255 01d4 03F53063 		add	r3, r3, #2816
 3256 01d8 1946     		mov	r1, r3
 3257 01da 364B     		ldr	r3, .L150+4
 3258 01dc 1340     		ands	r3, r3, r2
 3259 01de 0B61     		str	r3, [r1, #16]
 954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 3260              		.loc 1 954 33
 3261 01e0 3B69     		ldr	r3, [r7, #16]
 3262 01e2 5A01     		lsls	r2, r3, #5
 3263 01e4 7B69     		ldr	r3, [r7, #20]
 3264 01e6 1344     		add	r3, r3, r2
 3265 01e8 03F53063 		add	r3, r3, #2816
 3266 01ec 1A69     		ldr	r2, [r3, #16]
 3267 01ee 3B69     		ldr	r3, [r7, #16]
 3268 01f0 5901     		lsls	r1, r3, #5
 3269 01f2 7B69     		ldr	r3, [r7, #20]
 3270 01f4 0B44     		add	r3, r3, r1
 3271 01f6 03F53063 		add	r3, r3, #2816
 3272 01fa 1946     		mov	r1, r3
 3273 01fc 2C4B     		ldr	r3, .L150
 3274 01fe 1340     		ands	r3, r3, r2
 3275 0200 0B61     		str	r3, [r1, #16]
 955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (ep->xfer_len > 0U)
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 75


 3276              		.loc 1 956 11
 3277 0202 BB68     		ldr	r3, [r7, #8]
 3278 0204 9B69     		ldr	r3, [r3, #24]
 3279              		.loc 1 956 8
 3280 0206 002B     		cmp	r3, #0
 3281 0208 03D0     		beq	.L147
 957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 3282              		.loc 1 958 24
 3283 020a BB68     		ldr	r3, [r7, #8]
 3284 020c DA68     		ldr	r2, [r3, #12]
 3285              		.loc 1 958 20
 3286 020e BB68     		ldr	r3, [r7, #8]
 3287 0210 9A61     		str	r2, [r3, #24]
 3288              	.L147:
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Store transfer size, for EP0 this is equal to endpoint max packet size */
 962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     ep->xfer_size = ep->maxpacket;
 3289              		.loc 1 962 23
 3290 0212 BB68     		ldr	r3, [r7, #8]
 3291 0214 DA68     		ldr	r2, [r3, #12]
 3292              		.loc 1 962 19
 3293 0216 BB68     		ldr	r3, [r7, #8]
 3294 0218 DA61     		str	r2, [r3, #28]
 963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 3295              		.loc 1 964 33
 3296 021a 3B69     		ldr	r3, [r7, #16]
 3297 021c 5A01     		lsls	r2, r3, #5
 3298 021e 7B69     		ldr	r3, [r7, #20]
 3299 0220 1344     		add	r3, r3, r2
 3300 0222 03F53063 		add	r3, r3, #2816
 3301 0226 1B69     		ldr	r3, [r3, #16]
 3302 0228 3A69     		ldr	r2, [r7, #16]
 3303 022a 5101     		lsls	r1, r2, #5
 3304 022c 7A69     		ldr	r2, [r7, #20]
 3305 022e 0A44     		add	r2, r2, r1
 3306 0230 02F53062 		add	r2, r2, #2816
 3307 0234 43F40023 		orr	r3, r3, #524288
 3308 0238 1361     		str	r3, [r2, #16]
 965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size);
 3309              		.loc 1 965 33
 3310 023a 3B69     		ldr	r3, [r7, #16]
 3311 023c 5A01     		lsls	r2, r3, #5
 3312 023e 7B69     		ldr	r3, [r7, #20]
 3313 0240 1344     		add	r3, r3, r2
 3314 0242 03F53063 		add	r3, r3, #2816
 3315 0246 1A69     		ldr	r2, [r3, #16]
 3316              		.loc 1 965 65
 3317 0248 BB68     		ldr	r3, [r7, #8]
 3318 024a DB69     		ldr	r3, [r3, #28]
 3319              		.loc 1 965 61
 3320 024c C3F31203 		ubfx	r3, r3, #0, #19
 3321              		.loc 1 965 33
 3322 0250 3969     		ldr	r1, [r7, #16]
 3323 0252 4801     		lsls	r0, r1, #5
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 76


 3324 0254 7969     		ldr	r1, [r7, #20]
 3325 0256 0144     		add	r1, r1, r0
 3326 0258 01F53061 		add	r1, r1, #2816
 3327 025c 1343     		orrs	r3, r3, r2
 3328 025e 0B61     		str	r3, [r1, #16]
 966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (dma == 1U)
 3329              		.loc 1 967 8
 3330 0260 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3331 0262 012B     		cmp	r3, #1
 3332 0264 0DD1     		bne	.L148
 968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 3333              		.loc 1 969 23
 3334 0266 BB68     		ldr	r3, [r7, #8]
 3335 0268 1B69     		ldr	r3, [r3, #16]
 3336              		.loc 1 969 10
 3337 026a 002B     		cmp	r3, #0
 3338 026c 09D0     		beq	.L148
 970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
 971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 3339              		.loc 1 971 51
 3340 026e BB68     		ldr	r3, [r7, #8]
 3341 0270 1969     		ldr	r1, [r3, #16]
 3342              		.loc 1 971 9
 3343 0272 3B69     		ldr	r3, [r7, #16]
 3344 0274 5A01     		lsls	r2, r3, #5
 3345 0276 7B69     		ldr	r3, [r7, #20]
 3346 0278 1344     		add	r3, r3, r2
 3347 027a 03F53063 		add	r3, r3, #2816
 3348              		.loc 1 971 38
 3349 027e 0A46     		mov	r2, r1
 3350              		.loc 1 971 36
 3351 0280 5A61     		str	r2, [r3, #20]
 3352              	.L148:
 972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
 974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* EP enable */
 976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 3353              		.loc 1 976 32
 3354 0282 3B69     		ldr	r3, [r7, #16]
 3355 0284 5A01     		lsls	r2, r3, #5
 3356 0286 7B69     		ldr	r3, [r7, #20]
 3357 0288 1344     		add	r3, r3, r2
 3358 028a 03F53063 		add	r3, r3, #2816
 3359 028e 1B68     		ldr	r3, [r3]
 3360 0290 3A69     		ldr	r2, [r7, #16]
 3361 0292 5101     		lsls	r1, r2, #5
 3362 0294 7A69     		ldr	r2, [r7, #20]
 3363 0296 0A44     		add	r2, r2, r1
 3364 0298 02F53062 		add	r2, r2, #2816
 3365 029c 43F00443 		orr	r3, r3, #-2080374784
 3366 02a0 1360     		str	r3, [r2]
 3367              	.L146:
 977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
 978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 77


 979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 3368              		.loc 1 979 10
 3369 02a2 0023     		movs	r3, #0
 980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 3370              		.loc 1 980 1
 3371 02a4 1846     		mov	r0, r3
 3372 02a6 1C37     		adds	r7, r7, #28
 3373              	.LCFI95:
 3374              		.cfi_def_cfa_offset 4
 3375 02a8 BD46     		mov	sp, r7
 3376              	.LCFI96:
 3377              		.cfi_def_cfa_register 13
 3378              		@ sp needed
 3379 02aa 5DF8047B 		ldr	r7, [sp], #4
 3380              	.LCFI97:
 3381              		.cfi_restore 7
 3382              		.cfi_def_cfa_offset 0
 3383 02ae 7047     		bx	lr
 3384              	.L151:
 3385              		.align	2
 3386              	.L150:
 3387 02b0 FFFF07E0 		.word	-536346625
 3388 02b4 0000F8FF 		.word	-524288
 3389              		.cfi_endproc
 3390              	.LFE159:
 3392              		.section	.text.USB_EPStopXfer,"ax",%progbits
 3393              		.align	1
 3394              		.global	USB_EPStopXfer
 3395              		.syntax unified
 3396              		.thumb
 3397              		.thumb_func
 3399              	USB_EPStopXfer:
 3400              	.LFB160:
 981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
 984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****    * @brief  USB_EPStoptXfer  Stop transfer on an EP
 985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****    * @param  USBx  usb device instance
 986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****    * @param  ep pointer to endpoint structure
 987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****    * @retval HAL status
 988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****    */
 989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStopXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 3401              		.loc 1 990 1
 3402              		.cfi_startproc
 3403              		@ args = 0, pretend = 0, frame = 24
 3404              		@ frame_needed = 1, uses_anonymous_args = 0
 3405              		@ link register save eliminated.
 3406 0000 80B4     		push	{r7}
 3407              	.LCFI98:
 3408              		.cfi_def_cfa_offset 4
 3409              		.cfi_offset 7, -4
 3410 0002 87B0     		sub	sp, sp, #28
 3411              	.LCFI99:
 3412              		.cfi_def_cfa_offset 32
 3413 0004 00AF     		add	r7, sp, #0
 3414              	.LCFI100:
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 78


 3415              		.cfi_def_cfa_register 7
 3416 0006 7860     		str	r0, [r7, #4]
 3417 0008 3960     		str	r1, [r7]
 991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   __IO uint32_t count = 0U;
 3418              		.loc 1 991 17
 3419 000a 0023     		movs	r3, #0
 3420 000c FB60     		str	r3, [r7, #12]
 992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 3421              		.loc 1 992 21
 3422 000e 0023     		movs	r3, #0
 3423 0010 FB75     		strb	r3, [r7, #23]
 993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3424              		.loc 1 993 12
 3425 0012 7B68     		ldr	r3, [r7, #4]
 3426 0014 3B61     		str	r3, [r7, #16]
 994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* IN endpoint */
 996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ep->is_in == 1U)
 3427              		.loc 1 996 9
 3428 0016 3B68     		ldr	r3, [r7]
 3429 0018 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3430              		.loc 1 996 6
 3431 001a 012B     		cmp	r3, #1
 3432 001c 4AD1     		bne	.L153
 997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 3433              		.loc 1 999 11
 3434 001e 3B68     		ldr	r3, [r7]
 3435 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3436 0022 5A01     		lsls	r2, r3, #5
 3437 0024 3B69     		ldr	r3, [r7, #16]
 3438 0026 1344     		add	r3, r3, r2
 3439 0028 03F51063 		add	r3, r3, #2304
 3440              		.loc 1 999 29
 3441 002c 1B68     		ldr	r3, [r3]
 3442              		.loc 1 999 40
 3443 002e 03F00043 		and	r3, r3, #-2147483648
 3444              		.loc 1 999 8
 3445 0032 B3F1004F 		cmp	r3, #-2147483648
 3446 0036 40F08680 		bne	.L157
1000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_SNAK);
 3447              		.loc 1 1001 7
 3448 003a 3B68     		ldr	r3, [r7]
 3449 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3450              		.loc 1 1001 35
 3451 003e 5A01     		lsls	r2, r3, #5
 3452 0040 3B69     		ldr	r3, [r7, #16]
 3453 0042 1344     		add	r3, r3, r2
 3454 0044 03F51063 		add	r3, r3, #2304
 3455 0048 1B68     		ldr	r3, [r3]
 3456              		.loc 1 1001 7
 3457 004a 3A68     		ldr	r2, [r7]
 3458 004c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3459              		.loc 1 1001 35
 3460 004e 5101     		lsls	r1, r2, #5
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 79


 3461 0050 3A69     		ldr	r2, [r7, #16]
 3462 0052 0A44     		add	r2, r2, r1
 3463 0054 02F51062 		add	r2, r2, #2304
 3464 0058 43F00063 		orr	r3, r3, #134217728
 3465 005c 1360     		str	r3, [r2]
1002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_EPDIS);
 3466              		.loc 1 1002 7
 3467 005e 3B68     		ldr	r3, [r7]
 3468 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3469              		.loc 1 1002 35
 3470 0062 5A01     		lsls	r2, r3, #5
 3471 0064 3B69     		ldr	r3, [r7, #16]
 3472 0066 1344     		add	r3, r3, r2
 3473 0068 03F51063 		add	r3, r3, #2304
 3474 006c 1B68     		ldr	r3, [r3]
 3475              		.loc 1 1002 7
 3476 006e 3A68     		ldr	r2, [r7]
 3477 0070 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3478              		.loc 1 1002 35
 3479 0072 5101     		lsls	r1, r2, #5
 3480 0074 3A69     		ldr	r2, [r7, #16]
 3481 0076 0A44     		add	r2, r2, r1
 3482 0078 02F51062 		add	r2, r2, #2304
 3483 007c 43F08043 		orr	r3, r3, #1073741824
 3484 0080 1360     		str	r3, [r2]
 3485              	.L156:
1003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       do
1005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
1006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         count++;
 3486              		.loc 1 1006 14
 3487 0082 FB68     		ldr	r3, [r7, #12]
 3488 0084 0133     		adds	r3, r3, #1
 3489 0086 FB60     		str	r3, [r7, #12]
1007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         if (count > 10000U)
 3490              		.loc 1 1008 19
 3491 0088 FB68     		ldr	r3, [r7, #12]
 3492              		.loc 1 1008 12
 3493 008a 42F21072 		movw	r2, #10000
 3494 008e 9342     		cmp	r3, r2
 3495 0090 02D9     		bls	.L155
1009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
1010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           ret = HAL_ERROR;
 3496              		.loc 1 1010 15
 3497 0092 0123     		movs	r3, #1
 3498 0094 FB75     		strb	r3, [r7, #23]
1011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           break;
 3499              		.loc 1 1011 11
 3500 0096 56E0     		b	.L157
 3501              	.L155:
1012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
1013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       } while (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) ==  USB_OTG_DIEPCTL_EPENA);
 3502              		.loc 1 1013 18
 3503 0098 3B68     		ldr	r3, [r7]
 3504 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3505 009c 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 80


 3506 009e 3B69     		ldr	r3, [r7, #16]
 3507 00a0 1344     		add	r3, r3, r2
 3508 00a2 03F51063 		add	r3, r3, #2304
 3509              		.loc 1 1013 36
 3510 00a6 1B68     		ldr	r3, [r3]
 3511              		.loc 1 1013 47
 3512 00a8 03F00043 		and	r3, r3, #-2147483648
 3513              		.loc 1 1013 7
 3514 00ac B3F1004F 		cmp	r3, #-2147483648
 3515 00b0 E7D0     		beq	.L156
 3516 00b2 48E0     		b	.L157
 3517              	.L153:
1014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else /* OUT endpoint */
1017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 3518              		.loc 1 1018 11
 3519 00b4 3B68     		ldr	r3, [r7]
 3520 00b6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3521 00b8 5A01     		lsls	r2, r3, #5
 3522 00ba 3B69     		ldr	r3, [r7, #16]
 3523 00bc 1344     		add	r3, r3, r2
 3524 00be 03F53063 		add	r3, r3, #2816
 3525              		.loc 1 1018 30
 3526 00c2 1B68     		ldr	r3, [r3]
 3527              		.loc 1 1018 41
 3528 00c4 03F00043 		and	r3, r3, #-2147483648
 3529              		.loc 1 1018 8
 3530 00c8 B3F1004F 		cmp	r3, #-2147483648
 3531 00cc 3BD1     		bne	.L157
1019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_SNAK);
 3532              		.loc 1 1020 7
 3533 00ce 3B68     		ldr	r3, [r7]
 3534 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3535              		.loc 1 1020 36
 3536 00d2 5A01     		lsls	r2, r3, #5
 3537 00d4 3B69     		ldr	r3, [r7, #16]
 3538 00d6 1344     		add	r3, r3, r2
 3539 00d8 03F53063 		add	r3, r3, #2816
 3540 00dc 1B68     		ldr	r3, [r3]
 3541              		.loc 1 1020 7
 3542 00de 3A68     		ldr	r2, [r7]
 3543 00e0 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3544              		.loc 1 1020 36
 3545 00e2 5101     		lsls	r1, r2, #5
 3546 00e4 3A69     		ldr	r2, [r7, #16]
 3547 00e6 0A44     		add	r2, r2, r1
 3548 00e8 02F53062 		add	r2, r2, #2816
 3549 00ec 43F00063 		orr	r3, r3, #134217728
 3550 00f0 1360     		str	r3, [r2]
1021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_EPDIS);
 3551              		.loc 1 1021 7
 3552 00f2 3B68     		ldr	r3, [r7]
 3553 00f4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3554              		.loc 1 1021 36
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 81


 3555 00f6 5A01     		lsls	r2, r3, #5
 3556 00f8 3B69     		ldr	r3, [r7, #16]
 3557 00fa 1344     		add	r3, r3, r2
 3558 00fc 03F53063 		add	r3, r3, #2816
 3559 0100 1B68     		ldr	r3, [r3]
 3560              		.loc 1 1021 7
 3561 0102 3A68     		ldr	r2, [r7]
 3562 0104 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3563              		.loc 1 1021 36
 3564 0106 5101     		lsls	r1, r2, #5
 3565 0108 3A69     		ldr	r2, [r7, #16]
 3566 010a 0A44     		add	r2, r2, r1
 3567 010c 02F53062 		add	r2, r2, #2816
 3568 0110 43F08043 		orr	r3, r3, #1073741824
 3569 0114 1360     		str	r3, [r2]
 3570              	.L159:
1022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       do
1024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
1025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         count++;
 3571              		.loc 1 1025 14
 3572 0116 FB68     		ldr	r3, [r7, #12]
 3573 0118 0133     		adds	r3, r3, #1
 3574 011a FB60     		str	r3, [r7, #12]
1026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         if (count > 10000U)
 3575              		.loc 1 1027 19
 3576 011c FB68     		ldr	r3, [r7, #12]
 3577              		.loc 1 1027 12
 3578 011e 42F21072 		movw	r2, #10000
 3579 0122 9342     		cmp	r3, r2
 3580 0124 02D9     		bls	.L158
1028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
1029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           ret = HAL_ERROR;
 3581              		.loc 1 1029 15
 3582 0126 0123     		movs	r3, #1
 3583 0128 FB75     		strb	r3, [r7, #23]
1030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           break;
 3584              		.loc 1 1030 11
 3585 012a 0CE0     		b	.L157
 3586              	.L158:
1031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
1032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       } while (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) ==  USB_OTG_DOEPCTL_EPENA);
 3587              		.loc 1 1032 18
 3588 012c 3B68     		ldr	r3, [r7]
 3589 012e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3590 0130 5A01     		lsls	r2, r3, #5
 3591 0132 3B69     		ldr	r3, [r7, #16]
 3592 0134 1344     		add	r3, r3, r2
 3593 0136 03F53063 		add	r3, r3, #2816
 3594              		.loc 1 1032 37
 3595 013a 1B68     		ldr	r3, [r3]
 3596              		.loc 1 1032 48
 3597 013c 03F00043 		and	r3, r3, #-2147483648
 3598              		.loc 1 1032 7
 3599 0140 B3F1004F 		cmp	r3, #-2147483648
 3600 0144 E7D0     		beq	.L159
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 82


 3601              	.L157:
1033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ret;
 3602              		.loc 1 1036 10
 3603 0146 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 3604              		.loc 1 1037 1
 3605 0148 1846     		mov	r0, r3
 3606 014a 1C37     		adds	r7, r7, #28
 3607              	.LCFI101:
 3608              		.cfi_def_cfa_offset 4
 3609 014c BD46     		mov	sp, r7
 3610              	.LCFI102:
 3611              		.cfi_def_cfa_register 13
 3612              		@ sp needed
 3613 014e 5DF8047B 		ldr	r7, [sp], #4
 3614              	.LCFI103:
 3615              		.cfi_restore 7
 3616              		.cfi_def_cfa_offset 0
 3617 0152 7047     		bx	lr
 3618              		.cfi_endproc
 3619              	.LFE160:
 3621              		.section	.text.USB_WritePacket,"ax",%progbits
 3622              		.align	1
 3623              		.global	USB_WritePacket
 3624              		.syntax unified
 3625              		.thumb
 3626              		.thumb_func
 3628              	USB_WritePacket:
 3629              	.LFB161:
1038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated
1042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         with the EP/channel
1043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  src   pointer to source buffer
1045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
1046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  len  Number of bytes to write
1047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
1049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           0 : DMA feature not used
1050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           1 : DMA feature used
1051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src,
1054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                   uint8_t ch_ep_num, uint16_t len, uint8_t dma)
1055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 3630              		.loc 1 1055 1
 3631              		.cfi_startproc
 3632              		@ args = 4, pretend = 0, frame = 32
 3633              		@ frame_needed = 1, uses_anonymous_args = 0
 3634              		@ link register save eliminated.
 3635 0000 80B4     		push	{r7}
 3636              	.LCFI104:
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 83


 3637              		.cfi_def_cfa_offset 4
 3638              		.cfi_offset 7, -4
 3639 0002 89B0     		sub	sp, sp, #36
 3640              	.LCFI105:
 3641              		.cfi_def_cfa_offset 40
 3642 0004 00AF     		add	r7, sp, #0
 3643              	.LCFI106:
 3644              		.cfi_def_cfa_register 7
 3645 0006 F860     		str	r0, [r7, #12]
 3646 0008 B960     		str	r1, [r7, #8]
 3647 000a 1146     		mov	r1, r2
 3648 000c 1A46     		mov	r2, r3
 3649 000e 0B46     		mov	r3, r1
 3650 0010 FB71     		strb	r3, [r7, #7]
 3651 0012 1346     		mov	r3, r2	@ movhi
 3652 0014 BB80     		strh	r3, [r7, #4]	@ movhi
1056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3653              		.loc 1 1056 12
 3654 0016 FB68     		ldr	r3, [r7, #12]
 3655 0018 7B61     		str	r3, [r7, #20]
1057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint8_t *pSrc = src;
 3656              		.loc 1 1057 12
 3657 001a BB68     		ldr	r3, [r7, #8]
 3658 001c FB61     		str	r3, [r7, #28]
1058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t count32b;
1059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t i;
1060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (dma == 0U)
 3659              		.loc 1 1061 6
 3660 001e 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 3661 0022 002B     		cmp	r3, #0
 3662 0024 23D1     		bne	.L162
1062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     count32b = ((uint32_t)len + 3U) / 4U;
 3663              		.loc 1 1063 17
 3664 0026 BB88     		ldrh	r3, [r7, #4]
 3665              		.loc 1 1063 31
 3666 0028 0333     		adds	r3, r3, #3
 3667              		.loc 1 1063 14
 3668 002a 9B08     		lsrs	r3, r3, #2
 3669 002c 3B61     		str	r3, [r7, #16]
1064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 3670              		.loc 1 1064 12
 3671 002e 0023     		movs	r3, #0
 3672 0030 BB61     		str	r3, [r7, #24]
 3673              		.loc 1 1064 5
 3674 0032 18E0     		b	.L163
 3675              	.L164:
1065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_DFIFO((uint32_t)ch_ep_num) = __UNALIGNED_UINT32_READ(pSrc);
 3676              		.loc 1 1066 7 discriminator 3
 3677 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3678 0036 1A03     		lsls	r2, r3, #12
 3679 0038 7B69     		ldr	r3, [r7, #20]
 3680 003a 1344     		add	r3, r3, r2
 3681 003c 03F58053 		add	r3, r3, #4096
 3682 0040 1A46     		mov	r2, r3
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 84


 3683              		.loc 1 1066 41 discriminator 3
 3684 0042 FB69     		ldr	r3, [r7, #28]
 3685 0044 1B68     		ldr	r3, [r3]	@ unaligned
 3686              		.loc 1 1066 39 discriminator 3
 3687 0046 1360     		str	r3, [r2]
1067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       pSrc++;
 3688              		.loc 1 1067 11 discriminator 3
 3689 0048 FB69     		ldr	r3, [r7, #28]
 3690 004a 0133     		adds	r3, r3, #1
 3691 004c FB61     		str	r3, [r7, #28]
1068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       pSrc++;
 3692              		.loc 1 1068 11 discriminator 3
 3693 004e FB69     		ldr	r3, [r7, #28]
 3694 0050 0133     		adds	r3, r3, #1
 3695 0052 FB61     		str	r3, [r7, #28]
1069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       pSrc++;
 3696              		.loc 1 1069 11 discriminator 3
 3697 0054 FB69     		ldr	r3, [r7, #28]
 3698 0056 0133     		adds	r3, r3, #1
 3699 0058 FB61     		str	r3, [r7, #28]
1070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       pSrc++;
 3700              		.loc 1 1070 11 discriminator 3
 3701 005a FB69     		ldr	r3, [r7, #28]
 3702 005c 0133     		adds	r3, r3, #1
 3703 005e FB61     		str	r3, [r7, #28]
1064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 3704              		.loc 1 1064 33 discriminator 3
 3705 0060 BB69     		ldr	r3, [r7, #24]
 3706 0062 0133     		adds	r3, r3, #1
 3707 0064 BB61     		str	r3, [r7, #24]
 3708              	.L163:
1064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 3709              		.loc 1 1064 5 discriminator 1
 3710 0066 BA69     		ldr	r2, [r7, #24]
 3711 0068 3B69     		ldr	r3, [r7, #16]
 3712 006a 9A42     		cmp	r2, r3
 3713 006c E2D3     		bcc	.L164
 3714              	.L162:
1071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 3715              		.loc 1 1074 10
 3716 006e 0023     		movs	r3, #0
1075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 3717              		.loc 1 1075 1
 3718 0070 1846     		mov	r0, r3
 3719 0072 2437     		adds	r7, r7, #36
 3720              	.LCFI107:
 3721              		.cfi_def_cfa_offset 4
 3722 0074 BD46     		mov	sp, r7
 3723              	.LCFI108:
 3724              		.cfi_def_cfa_register 13
 3725              		@ sp needed
 3726 0076 5DF8047B 		ldr	r7, [sp], #4
 3727              	.LCFI109:
 3728              		.cfi_restore 7
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 85


 3729              		.cfi_def_cfa_offset 0
 3730 007a 7047     		bx	lr
 3731              		.cfi_endproc
 3732              	.LFE161:
 3734              		.section	.text.USB_ReadPacket,"ax",%progbits
 3735              		.align	1
 3736              		.global	USB_ReadPacket
 3737              		.syntax unified
 3738              		.thumb
 3739              		.thumb_func
 3741              	USB_ReadPacket:
 3742              	.LFB162:
1076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the RX FIFO
1079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  dest  source pointer
1081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  len  Number of bytes to read
1082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval pointer to destination buffer
1083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
1085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 3743              		.loc 1 1085 1
 3744              		.cfi_startproc
 3745              		@ args = 0, pretend = 0, frame = 40
 3746              		@ frame_needed = 1, uses_anonymous_args = 0
 3747              		@ link register save eliminated.
 3748 0000 80B4     		push	{r7}
 3749              	.LCFI110:
 3750              		.cfi_def_cfa_offset 4
 3751              		.cfi_offset 7, -4
 3752 0002 8BB0     		sub	sp, sp, #44
 3753              	.LCFI111:
 3754              		.cfi_def_cfa_offset 48
 3755 0004 00AF     		add	r7, sp, #0
 3756              	.LCFI112:
 3757              		.cfi_def_cfa_register 7
 3758 0006 F860     		str	r0, [r7, #12]
 3759 0008 B960     		str	r1, [r7, #8]
 3760 000a 1346     		mov	r3, r2
 3761 000c FB80     		strh	r3, [r7, #6]	@ movhi
1086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3762              		.loc 1 1086 12
 3763 000e FB68     		ldr	r3, [r7, #12]
 3764 0010 BB61     		str	r3, [r7, #24]
1087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint8_t *pDest = dest;
 3765              		.loc 1 1087 12
 3766 0012 BB68     		ldr	r3, [r7, #8]
 3767 0014 7B62     		str	r3, [r7, #36]
1088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t pData;
1089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t i;
1090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t count32b = (uint32_t)len >> 2U;
 3768              		.loc 1 1090 37
 3769 0016 FB88     		ldrh	r3, [r7, #6]
 3770 0018 9B08     		lsrs	r3, r3, #2
 3771 001a 9BB2     		uxth	r3, r3
 3772              		.loc 1 1090 12
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 86


 3773 001c 7B61     		str	r3, [r7, #20]
1091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint16_t remaining_bytes = len % 4U;
 3774              		.loc 1 1091 12
 3775 001e FB88     		ldrh	r3, [r7, #6]	@ movhi
 3776 0020 03F00303 		and	r3, r3, #3
 3777 0024 FB83     		strh	r3, [r7, #30]	@ movhi
1092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 3778              		.loc 1 1093 10
 3779 0026 0023     		movs	r3, #0
 3780 0028 3B62     		str	r3, [r7, #32]
 3781              		.loc 1 1093 3
 3782 002a 14E0     		b	.L167
 3783              	.L168:
1094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(pDest, USBx_DFIFO(0U));
 3784              		.loc 1 1095 5 discriminator 3
 3785 002c BB69     		ldr	r3, [r7, #24]
 3786 002e 03F58053 		add	r3, r3, #4096
 3787 0032 1A68     		ldr	r2, [r3]
 3788 0034 7B6A     		ldr	r3, [r7, #36]
 3789 0036 1A60     		str	r2, [r3]	@ unaligned
1096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     pDest++;
 3790              		.loc 1 1096 10 discriminator 3
 3791 0038 7B6A     		ldr	r3, [r7, #36]
 3792 003a 0133     		adds	r3, r3, #1
 3793 003c 7B62     		str	r3, [r7, #36]
1097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     pDest++;
 3794              		.loc 1 1097 10 discriminator 3
 3795 003e 7B6A     		ldr	r3, [r7, #36]
 3796 0040 0133     		adds	r3, r3, #1
 3797 0042 7B62     		str	r3, [r7, #36]
1098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     pDest++;
 3798              		.loc 1 1098 10 discriminator 3
 3799 0044 7B6A     		ldr	r3, [r7, #36]
 3800 0046 0133     		adds	r3, r3, #1
 3801 0048 7B62     		str	r3, [r7, #36]
1099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     pDest++;
 3802              		.loc 1 1099 10 discriminator 3
 3803 004a 7B6A     		ldr	r3, [r7, #36]
 3804 004c 0133     		adds	r3, r3, #1
 3805 004e 7B62     		str	r3, [r7, #36]
1093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 3806              		.loc 1 1093 31 discriminator 3
 3807 0050 3B6A     		ldr	r3, [r7, #32]
 3808 0052 0133     		adds	r3, r3, #1
 3809 0054 3B62     		str	r3, [r7, #32]
 3810              	.L167:
1093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 3811              		.loc 1 1093 3 discriminator 1
 3812 0056 3A6A     		ldr	r2, [r7, #32]
 3813 0058 7B69     		ldr	r3, [r7, #20]
 3814 005a 9A42     		cmp	r2, r3
 3815 005c E6D3     		bcc	.L168
1100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* When Number of data is not word aligned, read the remaining byte */
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 87


1103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (remaining_bytes != 0U)
 3816              		.loc 1 1103 6
 3817 005e FB8B     		ldrh	r3, [r7, #30]
 3818 0060 002B     		cmp	r3, #0
 3819 0062 1ED0     		beq	.L169
1104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     i = 0U;
 3820              		.loc 1 1105 7
 3821 0064 0023     		movs	r3, #0
 3822 0066 3B62     		str	r3, [r7, #32]
1106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(&pData, USBx_DFIFO(0U));
 3823              		.loc 1 1106 5
 3824 0068 BB69     		ldr	r3, [r7, #24]
 3825 006a 03F58053 		add	r3, r3, #4096
 3826 006e 1A46     		mov	r2, r3
 3827 0070 07F11003 		add	r3, r7, #16
 3828 0074 1268     		ldr	r2, [r2]
 3829 0076 1A60     		str	r2, [r3]	@ unaligned
 3830              	.L170:
1107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     do
1109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       *(uint8_t *)pDest = (uint8_t)(pData >> (8U * (uint8_t)(i)));
 3831              		.loc 1 1110 43 discriminator 1
 3832 0078 3A69     		ldr	r2, [r7, #16]
 3833              		.loc 1 1110 52 discriminator 1
 3834 007a 3B6A     		ldr	r3, [r7, #32]
 3835 007c DBB2     		uxtb	r3, r3
 3836              		.loc 1 1110 50 discriminator 1
 3837 007e DB00     		lsls	r3, r3, #3
 3838              		.loc 1 1110 43 discriminator 1
 3839 0080 22FA03F3 		lsr	r3, r2, r3
 3840              		.loc 1 1110 27 discriminator 1
 3841 0084 DAB2     		uxtb	r2, r3
 3842              		.loc 1 1110 25 discriminator 1
 3843 0086 7B6A     		ldr	r3, [r7, #36]
 3844 0088 1A70     		strb	r2, [r3]
1111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       i++;
 3845              		.loc 1 1111 8 discriminator 1
 3846 008a 3B6A     		ldr	r3, [r7, #32]
 3847 008c 0133     		adds	r3, r3, #1
 3848 008e 3B62     		str	r3, [r7, #32]
1112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       pDest++;
 3849              		.loc 1 1112 12 discriminator 1
 3850 0090 7B6A     		ldr	r3, [r7, #36]
 3851 0092 0133     		adds	r3, r3, #1
 3852 0094 7B62     		str	r3, [r7, #36]
1113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       remaining_bytes--;
 3853              		.loc 1 1113 22 discriminator 1
 3854 0096 FB8B     		ldrh	r3, [r7, #30]
 3855 0098 013B     		subs	r3, r3, #1
 3856 009a FB83     		strh	r3, [r7, #30]	@ movhi
1114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     } while (remaining_bytes != 0U);
 3857              		.loc 1 1114 5 discriminator 1
 3858 009c FB8B     		ldrh	r3, [r7, #30]
 3859 009e 002B     		cmp	r3, #0
 3860 00a0 EAD1     		bne	.L170
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 88


 3861              	.L169:
1115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ((void *)pDest);
 3862              		.loc 1 1117 11
 3863 00a2 7B6A     		ldr	r3, [r7, #36]
1118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 3864              		.loc 1 1118 1
 3865 00a4 1846     		mov	r0, r3
 3866 00a6 2C37     		adds	r7, r7, #44
 3867              	.LCFI113:
 3868              		.cfi_def_cfa_offset 4
 3869 00a8 BD46     		mov	sp, r7
 3870              	.LCFI114:
 3871              		.cfi_def_cfa_register 13
 3872              		@ sp needed
 3873 00aa 5DF8047B 		ldr	r7, [sp], #4
 3874              	.LCFI115:
 3875              		.cfi_restore 7
 3876              		.cfi_def_cfa_offset 0
 3877 00ae 7047     		bx	lr
 3878              		.cfi_endproc
 3879              	.LFE162:
 3881              		.section	.text.USB_EPSetStall,"ax",%progbits
 3882              		.align	1
 3883              		.global	USB_EPSetStall
 3884              		.syntax unified
 3885              		.thumb
 3886              		.thumb_func
 3888              	USB_EPSetStall:
 3889              	.LFB163:
1119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
1122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 3890              		.loc 1 1127 1
 3891              		.cfi_startproc
 3892              		@ args = 0, pretend = 0, frame = 16
 3893              		@ frame_needed = 1, uses_anonymous_args = 0
 3894              		@ link register save eliminated.
 3895 0000 80B4     		push	{r7}
 3896              	.LCFI116:
 3897              		.cfi_def_cfa_offset 4
 3898              		.cfi_offset 7, -4
 3899 0002 85B0     		sub	sp, sp, #20
 3900              	.LCFI117:
 3901              		.cfi_def_cfa_offset 24
 3902 0004 00AF     		add	r7, sp, #0
 3903              	.LCFI118:
 3904              		.cfi_def_cfa_register 7
 3905 0006 7860     		str	r0, [r7, #4]
 3906 0008 3960     		str	r1, [r7]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 89


1128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3907              		.loc 1 1128 12
 3908 000a 7B68     		ldr	r3, [r7, #4]
 3909 000c FB60     		str	r3, [r7, #12]
1129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3910              		.loc 1 1129 32
 3911 000e 3B68     		ldr	r3, [r7]
 3912 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3913              		.loc 1 1129 12
 3914 0012 BB60     		str	r3, [r7, #8]
1130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ep->is_in == 1U)
 3915              		.loc 1 1131 9
 3916 0014 3B68     		ldr	r3, [r7]
 3917 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3918              		.loc 1 1131 6
 3919 0018 012B     		cmp	r3, #1
 3920 001a 2CD1     		bne	.L173
1132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == 0U) && (epnum != 0U))
 3921              		.loc 1 1133 11
 3922 001c BB68     		ldr	r3, [r7, #8]
 3923 001e 5A01     		lsls	r2, r3, #5
 3924 0020 FB68     		ldr	r3, [r7, #12]
 3925 0022 1344     		add	r3, r3, r2
 3926 0024 03F51063 		add	r3, r3, #2304
 3927              		.loc 1 1133 27
 3928 0028 1B68     		ldr	r3, [r3]
 3929              		.loc 1 1133 8
 3930 002a 002B     		cmp	r3, #0
 3931 002c 12DB     		blt	.L174
 3932              		.loc 1 1133 69 discriminator 1
 3933 002e BB68     		ldr	r3, [r7, #8]
 3934 0030 002B     		cmp	r3, #0
 3935 0032 0FD0     		beq	.L174
1134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS);
 3936              		.loc 1 1135 33
 3937 0034 BB68     		ldr	r3, [r7, #8]
 3938 0036 5A01     		lsls	r2, r3, #5
 3939 0038 FB68     		ldr	r3, [r7, #12]
 3940 003a 1344     		add	r3, r3, r2
 3941 003c 03F51063 		add	r3, r3, #2304
 3942 0040 1B68     		ldr	r3, [r3]
 3943 0042 BA68     		ldr	r2, [r7, #8]
 3944 0044 5101     		lsls	r1, r2, #5
 3945 0046 FA68     		ldr	r2, [r7, #12]
 3946 0048 0A44     		add	r2, r2, r1
 3947 004a 02F51062 		add	r2, r2, #2304
 3948 004e 23F08043 		bic	r3, r3, #1073741824
 3949 0052 1360     		str	r3, [r2]
 3950              	.L174:
1136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 3951              		.loc 1 1137 31
 3952 0054 BB68     		ldr	r3, [r7, #8]
 3953 0056 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 90


 3954 0058 FB68     		ldr	r3, [r7, #12]
 3955 005a 1344     		add	r3, r3, r2
 3956 005c 03F51063 		add	r3, r3, #2304
 3957 0060 1B68     		ldr	r3, [r3]
 3958 0062 BA68     		ldr	r2, [r7, #8]
 3959 0064 5101     		lsls	r1, r2, #5
 3960 0066 FA68     		ldr	r2, [r7, #12]
 3961 0068 0A44     		add	r2, r2, r1
 3962 006a 02F51062 		add	r2, r2, #2304
 3963 006e 43F40013 		orr	r3, r3, #2097152
 3964 0072 1360     		str	r3, [r2]
 3965 0074 2BE0     		b	.L175
 3966              	.L173:
1138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
1140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == 0U) && (epnum != 0U))
 3967              		.loc 1 1141 11
 3968 0076 BB68     		ldr	r3, [r7, #8]
 3969 0078 5A01     		lsls	r2, r3, #5
 3970 007a FB68     		ldr	r3, [r7, #12]
 3971 007c 1344     		add	r3, r3, r2
 3972 007e 03F53063 		add	r3, r3, #2816
 3973              		.loc 1 1141 28
 3974 0082 1B68     		ldr	r3, [r3]
 3975              		.loc 1 1141 8
 3976 0084 002B     		cmp	r3, #0
 3977 0086 12DB     		blt	.L176
 3978              		.loc 1 1141 70 discriminator 1
 3979 0088 BB68     		ldr	r3, [r7, #8]
 3980 008a 002B     		cmp	r3, #0
 3981 008c 0FD0     		beq	.L176
1142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS);
 3982              		.loc 1 1143 34
 3983 008e BB68     		ldr	r3, [r7, #8]
 3984 0090 5A01     		lsls	r2, r3, #5
 3985 0092 FB68     		ldr	r3, [r7, #12]
 3986 0094 1344     		add	r3, r3, r2
 3987 0096 03F53063 		add	r3, r3, #2816
 3988 009a 1B68     		ldr	r3, [r3]
 3989 009c BA68     		ldr	r2, [r7, #8]
 3990 009e 5101     		lsls	r1, r2, #5
 3991 00a0 FA68     		ldr	r2, [r7, #12]
 3992 00a2 0A44     		add	r2, r2, r1
 3993 00a4 02F53062 		add	r2, r2, #2816
 3994 00a8 23F08043 		bic	r3, r3, #1073741824
 3995 00ac 1360     		str	r3, [r2]
 3996              	.L176:
1144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 3997              		.loc 1 1145 32
 3998 00ae BB68     		ldr	r3, [r7, #8]
 3999 00b0 5A01     		lsls	r2, r3, #5
 4000 00b2 FB68     		ldr	r3, [r7, #12]
 4001 00b4 1344     		add	r3, r3, r2
 4002 00b6 03F53063 		add	r3, r3, #2816
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 91


 4003 00ba 1B68     		ldr	r3, [r3]
 4004 00bc BA68     		ldr	r2, [r7, #8]
 4005 00be 5101     		lsls	r1, r2, #5
 4006 00c0 FA68     		ldr	r2, [r7, #12]
 4007 00c2 0A44     		add	r2, r2, r1
 4008 00c4 02F53062 		add	r2, r2, #2816
 4009 00c8 43F40013 		orr	r3, r3, #2097152
 4010 00cc 1360     		str	r3, [r2]
 4011              	.L175:
1146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 4012              		.loc 1 1148 10
 4013 00ce 0023     		movs	r3, #0
1149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4014              		.loc 1 1149 1
 4015 00d0 1846     		mov	r0, r3
 4016 00d2 1437     		adds	r7, r7, #20
 4017              	.LCFI119:
 4018              		.cfi_def_cfa_offset 4
 4019 00d4 BD46     		mov	sp, r7
 4020              	.LCFI120:
 4021              		.cfi_def_cfa_register 13
 4022              		@ sp needed
 4023 00d6 5DF8047B 		ldr	r7, [sp], #4
 4024              	.LCFI121:
 4025              		.cfi_restore 7
 4026              		.cfi_def_cfa_offset 0
 4027 00da 7047     		bx	lr
 4028              		.cfi_endproc
 4029              	.LFE163:
 4031              		.section	.text.USB_EPClearStall,"ax",%progbits
 4032              		.align	1
 4033              		.global	USB_EPClearStall
 4034              		.syntax unified
 4035              		.thumb
 4036              		.thumb_func
 4038              	USB_EPClearStall:
 4039              	.LFB164:
1150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
1153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4040              		.loc 1 1158 1
 4041              		.cfi_startproc
 4042              		@ args = 0, pretend = 0, frame = 16
 4043              		@ frame_needed = 1, uses_anonymous_args = 0
 4044              		@ link register save eliminated.
 4045 0000 80B4     		push	{r7}
 4046              	.LCFI122:
 4047              		.cfi_def_cfa_offset 4
 4048              		.cfi_offset 7, -4
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 92


 4049 0002 85B0     		sub	sp, sp, #20
 4050              	.LCFI123:
 4051              		.cfi_def_cfa_offset 24
 4052 0004 00AF     		add	r7, sp, #0
 4053              	.LCFI124:
 4054              		.cfi_def_cfa_register 7
 4055 0006 7860     		str	r0, [r7, #4]
 4056 0008 3960     		str	r1, [r7]
1159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4057              		.loc 1 1159 12
 4058 000a 7B68     		ldr	r3, [r7, #4]
 4059 000c FB60     		str	r3, [r7, #12]
1160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 4060              		.loc 1 1160 32
 4061 000e 3B68     		ldr	r3, [r7]
 4062 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4063              		.loc 1 1160 12
 4064 0012 BB60     		str	r3, [r7, #8]
1161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ep->is_in == 1U)
 4065              		.loc 1 1162 9
 4066 0014 3B68     		ldr	r3, [r7]
 4067 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4068              		.loc 1 1162 6
 4069 0018 012B     		cmp	r3, #1
 4070 001a 28D1     		bne	.L179
1163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 4071              		.loc 1 1164 31
 4072 001c BB68     		ldr	r3, [r7, #8]
 4073 001e 5A01     		lsls	r2, r3, #5
 4074 0020 FB68     		ldr	r3, [r7, #12]
 4075 0022 1344     		add	r3, r3, r2
 4076 0024 03F51063 		add	r3, r3, #2304
 4077 0028 1B68     		ldr	r3, [r3]
 4078 002a BA68     		ldr	r2, [r7, #8]
 4079 002c 5101     		lsls	r1, r2, #5
 4080 002e FA68     		ldr	r2, [r7, #12]
 4081 0030 0A44     		add	r2, r2, r1
 4082 0032 02F51062 		add	r2, r2, #2304
 4083 0036 23F40013 		bic	r3, r3, #2097152
 4084 003a 1360     		str	r3, [r2]
1165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 4085              		.loc 1 1165 12
 4086 003c 3B68     		ldr	r3, [r7]
 4087 003e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4088              		.loc 1 1165 8
 4089 0040 032B     		cmp	r3, #3
 4090 0042 03D0     		beq	.L180
 4091              		.loc 1 1165 42 discriminator 1
 4092 0044 3B68     		ldr	r3, [r7]
 4093 0046 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4094              		.loc 1 1165 36 discriminator 1
 4095 0048 022B     		cmp	r3, #2
 4096 004a 38D1     		bne	.L181
 4097              	.L180:
1166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 93


1167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 4098              		.loc 1 1167 33
 4099 004c BB68     		ldr	r3, [r7, #8]
 4100 004e 5A01     		lsls	r2, r3, #5
 4101 0050 FB68     		ldr	r3, [r7, #12]
 4102 0052 1344     		add	r3, r3, r2
 4103 0054 03F51063 		add	r3, r3, #2304
 4104 0058 1B68     		ldr	r3, [r3]
 4105 005a BA68     		ldr	r2, [r7, #8]
 4106 005c 5101     		lsls	r1, r2, #5
 4107 005e FA68     		ldr	r2, [r7, #12]
 4108 0060 0A44     		add	r2, r2, r1
 4109 0062 02F51062 		add	r2, r2, #2304
 4110 0066 43F08053 		orr	r3, r3, #268435456
 4111 006a 1360     		str	r3, [r2]
 4112 006c 27E0     		b	.L181
 4113              	.L179:
1168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
1171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 4114              		.loc 1 1172 32
 4115 006e BB68     		ldr	r3, [r7, #8]
 4116 0070 5A01     		lsls	r2, r3, #5
 4117 0072 FB68     		ldr	r3, [r7, #12]
 4118 0074 1344     		add	r3, r3, r2
 4119 0076 03F53063 		add	r3, r3, #2816
 4120 007a 1B68     		ldr	r3, [r3]
 4121 007c BA68     		ldr	r2, [r7, #8]
 4122 007e 5101     		lsls	r1, r2, #5
 4123 0080 FA68     		ldr	r2, [r7, #12]
 4124 0082 0A44     		add	r2, r2, r1
 4125 0084 02F53062 		add	r2, r2, #2816
 4126 0088 23F40013 		bic	r3, r3, #2097152
 4127 008c 1360     		str	r3, [r2]
1173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 4128              		.loc 1 1173 12
 4129 008e 3B68     		ldr	r3, [r7]
 4130 0090 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4131              		.loc 1 1173 8
 4132 0092 032B     		cmp	r3, #3
 4133 0094 03D0     		beq	.L182
 4134              		.loc 1 1173 42 discriminator 1
 4135 0096 3B68     		ldr	r3, [r7]
 4136 0098 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 4137              		.loc 1 1173 36 discriminator 1
 4138 009a 022B     		cmp	r3, #2
 4139 009c 0FD1     		bne	.L181
 4140              	.L182:
1174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 4141              		.loc 1 1175 34
 4142 009e BB68     		ldr	r3, [r7, #8]
 4143 00a0 5A01     		lsls	r2, r3, #5
 4144 00a2 FB68     		ldr	r3, [r7, #12]
 4145 00a4 1344     		add	r3, r3, r2
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 94


 4146 00a6 03F53063 		add	r3, r3, #2816
 4147 00aa 1B68     		ldr	r3, [r3]
 4148 00ac BA68     		ldr	r2, [r7, #8]
 4149 00ae 5101     		lsls	r1, r2, #5
 4150 00b0 FA68     		ldr	r2, [r7, #12]
 4151 00b2 0A44     		add	r2, r2, r1
 4152 00b4 02F53062 		add	r2, r2, #2816
 4153 00b8 43F08053 		orr	r3, r3, #268435456
 4154 00bc 1360     		str	r3, [r2]
 4155              	.L181:
1176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 4156              		.loc 1 1178 10
 4157 00be 0023     		movs	r3, #0
1179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4158              		.loc 1 1179 1
 4159 00c0 1846     		mov	r0, r3
 4160 00c2 1437     		adds	r7, r7, #20
 4161              	.LCFI125:
 4162              		.cfi_def_cfa_offset 4
 4163 00c4 BD46     		mov	sp, r7
 4164              	.LCFI126:
 4165              		.cfi_def_cfa_register 13
 4166              		@ sp needed
 4167 00c6 5DF8047B 		ldr	r7, [sp], #4
 4168              	.LCFI127:
 4169              		.cfi_restore 7
 4170              		.cfi_def_cfa_offset 0
 4171 00ca 7047     		bx	lr
 4172              		.cfi_endproc
 4173              	.LFE164:
 4175              		.section	.text.USB_StopDevice,"ax",%progbits
 4176              		.align	1
 4177              		.global	USB_StopDevice
 4178              		.syntax unified
 4179              		.thumb
 4180              		.thumb_func
 4182              	USB_StopDevice:
 4183              	.LFB165:
1180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
1183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
1187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4184              		.loc 1 1187 1
 4185              		.cfi_startproc
 4186              		@ args = 0, pretend = 0, frame = 24
 4187              		@ frame_needed = 1, uses_anonymous_args = 0
 4188 0000 80B5     		push	{r7, lr}
 4189              	.LCFI128:
 4190              		.cfi_def_cfa_offset 8
 4191              		.cfi_offset 7, -8
 4192              		.cfi_offset 14, -4
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 95


 4193 0002 86B0     		sub	sp, sp, #24
 4194              	.LCFI129:
 4195              		.cfi_def_cfa_offset 32
 4196 0004 00AF     		add	r7, sp, #0
 4197              	.LCFI130:
 4198              		.cfi_def_cfa_register 7
 4199 0006 7860     		str	r0, [r7, #4]
1188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   HAL_StatusTypeDef ret;
1189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4200              		.loc 1 1189 12
 4201 0008 7B68     		ldr	r3, [r7, #4]
 4202 000a 3B61     		str	r3, [r7, #16]
1190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t i;
1191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Clear Pending interrupt */
1193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 4203              		.loc 1 1193 10
 4204 000c 0023     		movs	r3, #0
 4205 000e 7B61     		str	r3, [r7, #20]
 4206              		.loc 1 1193 3
 4207 0010 16E0     		b	.L185
 4208              	.L186:
1194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT = 0xFB7FU;
 4209              		.loc 1 1195 5 discriminator 3
 4210 0012 7B69     		ldr	r3, [r7, #20]
 4211 0014 5A01     		lsls	r2, r3, #5
 4212 0016 3B69     		ldr	r3, [r7, #16]
 4213 0018 1344     		add	r3, r3, r2
 4214 001a 03F51063 		add	r3, r3, #2304
 4215 001e 1A46     		mov	r2, r3
 4216              		.loc 1 1195 27 discriminator 3
 4217 0020 4FF67F33 		movw	r3, #64383
 4218 0024 9360     		str	r3, [r2, #8]
1196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT = 0xFB7FU;
 4219              		.loc 1 1196 5 discriminator 3
 4220 0026 7B69     		ldr	r3, [r7, #20]
 4221 0028 5A01     		lsls	r2, r3, #5
 4222 002a 3B69     		ldr	r3, [r7, #16]
 4223 002c 1344     		add	r3, r3, r2
 4224 002e 03F53063 		add	r3, r3, #2816
 4225 0032 1A46     		mov	r2, r3
 4226              		.loc 1 1196 28 discriminator 3
 4227 0034 4FF67F33 		movw	r3, #64383
 4228 0038 9360     		str	r3, [r2, #8]
1193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 4229              		.loc 1 1193 26 discriminator 3
 4230 003a 7B69     		ldr	r3, [r7, #20]
 4231 003c 0133     		adds	r3, r3, #1
 4232 003e 7B61     		str	r3, [r7, #20]
 4233              	.L185:
1193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 4234              		.loc 1 1193 3 discriminator 1
 4235 0040 7B69     		ldr	r3, [r7, #20]
 4236 0042 0E2B     		cmp	r3, #14
 4237 0044 E5D9     		bls	.L186
1197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 96


1198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Clear interrupt masks */
1200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 4238              		.loc 1 1200 3
 4239 0046 3B69     		ldr	r3, [r7, #16]
 4240 0048 03F50063 		add	r3, r3, #2048
 4241 004c 1A46     		mov	r2, r3
 4242              		.loc 1 1200 25
 4243 004e 0023     		movs	r3, #0
 4244 0050 1361     		str	r3, [r2, #16]
1201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 4245              		.loc 1 1201 3
 4246 0052 3B69     		ldr	r3, [r7, #16]
 4247 0054 03F50063 		add	r3, r3, #2048
 4248 0058 1A46     		mov	r2, r3
 4249              		.loc 1 1201 25
 4250 005a 0023     		movs	r3, #0
 4251 005c 5361     		str	r3, [r2, #20]
1202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 4252              		.loc 1 1202 3
 4253 005e 3B69     		ldr	r3, [r7, #16]
 4254 0060 03F50063 		add	r3, r3, #2048
 4255 0064 1A46     		mov	r2, r3
 4256              		.loc 1 1202 25
 4257 0066 0023     		movs	r3, #0
 4258 0068 D361     		str	r3, [r2, #28]
1203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Flush the FIFO */
1205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   ret = USB_FlushRxFifo(USBx);
 4259              		.loc 1 1205 9
 4260 006a 7868     		ldr	r0, [r7, #4]
 4261 006c FFF7FEFF 		bl	USB_FlushRxFifo
 4262 0070 0346     		mov	r3, r0
 4263 0072 FB73     		strb	r3, [r7, #15]
1206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ret != HAL_OK)
 4264              		.loc 1 1206 6
 4265 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4266 0076 002B     		cmp	r3, #0
 4267 0078 01D0     		beq	.L187
1207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     return ret;
 4268              		.loc 1 1208 12
 4269 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4270 007c 0BE0     		b	.L188
 4271              	.L187:
1209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   ret = USB_FlushTxFifo(USBx,  0x10U);
 4272              		.loc 1 1211 9
 4273 007e 1021     		movs	r1, #16
 4274 0080 7868     		ldr	r0, [r7, #4]
 4275 0082 FFF7FEFF 		bl	USB_FlushTxFifo
 4276 0086 0346     		mov	r3, r0
 4277 0088 FB73     		strb	r3, [r7, #15]
1212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (ret != HAL_OK)
 4278              		.loc 1 1212 6
 4279 008a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 97


 4280 008c 002B     		cmp	r3, #0
 4281 008e 01D0     		beq	.L189
1213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     return ret;
 4282              		.loc 1 1214 12
 4283 0090 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4284 0092 00E0     		b	.L188
 4285              	.L189:
1215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ret;
 4286              		.loc 1 1217 10
 4287 0094 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 4288              	.L188:
1218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4289              		.loc 1 1218 1
 4290 0096 1846     		mov	r0, r3
 4291 0098 1837     		adds	r7, r7, #24
 4292              	.LCFI131:
 4293              		.cfi_def_cfa_offset 8
 4294 009a BD46     		mov	sp, r7
 4295              	.LCFI132:
 4296              		.cfi_def_cfa_register 13
 4297              		@ sp needed
 4298 009c 80BD     		pop	{r7, pc}
 4299              		.cfi_endproc
 4300              	.LFE165:
 4302              		.section	.text.USB_SetDevAddress,"ax",%progbits
 4303              		.align	1
 4304              		.global	USB_SetDevAddress
 4305              		.syntax unified
 4306              		.thumb
 4307              		.thumb_func
 4309              	USB_SetDevAddress:
 4310              	.LFB166:
1219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  address  new device address to be assigned
1224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress(USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4311              		.loc 1 1228 1
 4312              		.cfi_startproc
 4313              		@ args = 0, pretend = 0, frame = 16
 4314              		@ frame_needed = 1, uses_anonymous_args = 0
 4315              		@ link register save eliminated.
 4316 0000 80B4     		push	{r7}
 4317              	.LCFI133:
 4318              		.cfi_def_cfa_offset 4
 4319              		.cfi_offset 7, -4
 4320 0002 85B0     		sub	sp, sp, #20
 4321              	.LCFI134:
 4322              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 98


 4323 0004 00AF     		add	r7, sp, #0
 4324              	.LCFI135:
 4325              		.cfi_def_cfa_register 7
 4326 0006 7860     		str	r0, [r7, #4]
 4327 0008 0B46     		mov	r3, r1
 4328 000a FB70     		strb	r3, [r7, #3]
1229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4329              		.loc 1 1229 12
 4330 000c 7B68     		ldr	r3, [r7, #4]
 4331 000e FB60     		str	r3, [r7, #12]
1230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~(USB_OTG_DCFG_DAD);
 4332              		.loc 1 1231 21
 4333 0010 FB68     		ldr	r3, [r7, #12]
 4334 0012 03F50063 		add	r3, r3, #2048
 4335 0016 1B68     		ldr	r3, [r3]
 4336 0018 FA68     		ldr	r2, [r7, #12]
 4337 001a 02F50062 		add	r2, r2, #2048
 4338 001e 23F4FE63 		bic	r3, r3, #2032
 4339 0022 1360     		str	r3, [r2]
1232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DCFG |= ((uint32_t)address << 4) & USB_OTG_DCFG_DAD;
 4340              		.loc 1 1232 21
 4341 0024 FB68     		ldr	r3, [r7, #12]
 4342 0026 03F50063 		add	r3, r3, #2048
 4343 002a 1A68     		ldr	r2, [r3]
 4344              		.loc 1 1232 25
 4345 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4346              		.loc 1 1232 43
 4347 002e 1B01     		lsls	r3, r3, #4
 4348              		.loc 1 1232 49
 4349 0030 03F4FE63 		and	r3, r3, #2032
 4350              		.loc 1 1232 21
 4351 0034 F968     		ldr	r1, [r7, #12]
 4352 0036 01F50061 		add	r1, r1, #2048
 4353 003a 1343     		orrs	r3, r3, r2
 4354 003c 0B60     		str	r3, [r1]
1233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 4355              		.loc 1 1234 10
 4356 003e 0023     		movs	r3, #0
1235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4357              		.loc 1 1235 1
 4358 0040 1846     		mov	r0, r3
 4359 0042 1437     		adds	r7, r7, #20
 4360              	.LCFI136:
 4361              		.cfi_def_cfa_offset 4
 4362 0044 BD46     		mov	sp, r7
 4363              	.LCFI137:
 4364              		.cfi_def_cfa_register 13
 4365              		@ sp needed
 4366 0046 5DF8047B 		ldr	r7, [sp], #4
 4367              	.LCFI138:
 4368              		.cfi_restore 7
 4369              		.cfi_def_cfa_offset 0
 4370 004a 7047     		bx	lr
 4371              		.cfi_endproc
 4372              	.LFE166:
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 99


 4374              		.section	.text.USB_DevConnect,"ax",%progbits
 4375              		.align	1
 4376              		.global	USB_DevConnect
 4377              		.syntax unified
 4378              		.thumb
 4379              		.thumb_func
 4381              	USB_DevConnect:
 4382              	.LFB167:
1236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling Rpu
1239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect(USB_OTG_GlobalTypeDef *USBx)
1243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4383              		.loc 1 1243 1
 4384              		.cfi_startproc
 4385              		@ args = 0, pretend = 0, frame = 16
 4386              		@ frame_needed = 1, uses_anonymous_args = 0
 4387              		@ link register save eliminated.
 4388 0000 80B4     		push	{r7}
 4389              	.LCFI139:
 4390              		.cfi_def_cfa_offset 4
 4391              		.cfi_offset 7, -4
 4392 0002 85B0     		sub	sp, sp, #20
 4393              	.LCFI140:
 4394              		.cfi_def_cfa_offset 24
 4395 0004 00AF     		add	r7, sp, #0
 4396              	.LCFI141:
 4397              		.cfi_def_cfa_register 7
 4398 0006 7860     		str	r0, [r7, #4]
1244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4399              		.loc 1 1244 12
 4400 0008 7B68     		ldr	r3, [r7, #4]
 4401 000a FB60     		str	r3, [r7, #12]
1245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
 4402              		.loc 1 1247 16
 4403 000c FB68     		ldr	r3, [r7, #12]
 4404 000e 03F56063 		add	r3, r3, #3584
 4405 0012 1B68     		ldr	r3, [r3]
 4406 0014 FA68     		ldr	r2, [r7, #12]
 4407 0016 02F56062 		add	r2, r2, #3584
 4408 001a 23F00303 		bic	r3, r3, #3
 4409 001e 1360     		str	r3, [r2]
1248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS;
 4410              		.loc 1 1249 21
 4411 0020 FB68     		ldr	r3, [r7, #12]
 4412 0022 03F50063 		add	r3, r3, #2048
 4413 0026 5B68     		ldr	r3, [r3, #4]
 4414 0028 FA68     		ldr	r2, [r7, #12]
 4415 002a 02F50062 		add	r2, r2, #2048
 4416 002e 23F00203 		bic	r3, r3, #2
 4417 0032 5360     		str	r3, [r2, #4]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 100


1250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 4418              		.loc 1 1251 10
 4419 0034 0023     		movs	r3, #0
1252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4420              		.loc 1 1252 1
 4421 0036 1846     		mov	r0, r3
 4422 0038 1437     		adds	r7, r7, #20
 4423              	.LCFI142:
 4424              		.cfi_def_cfa_offset 4
 4425 003a BD46     		mov	sp, r7
 4426              	.LCFI143:
 4427              		.cfi_def_cfa_register 13
 4428              		@ sp needed
 4429 003c 5DF8047B 		ldr	r7, [sp], #4
 4430              	.LCFI144:
 4431              		.cfi_restore 7
 4432              		.cfi_def_cfa_offset 0
 4433 0040 7047     		bx	lr
 4434              		.cfi_endproc
 4435              	.LFE167:
 4437              		.section	.text.USB_DevDisconnect,"ax",%progbits
 4438              		.align	1
 4439              		.global	USB_DevDisconnect
 4440              		.syntax unified
 4441              		.thumb
 4442              		.thumb_func
 4444              	USB_DevDisconnect:
 4445              	.LFB168:
1253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling Rpu
1256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect(USB_OTG_GlobalTypeDef *USBx)
1260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4446              		.loc 1 1260 1
 4447              		.cfi_startproc
 4448              		@ args = 0, pretend = 0, frame = 16
 4449              		@ frame_needed = 1, uses_anonymous_args = 0
 4450              		@ link register save eliminated.
 4451 0000 80B4     		push	{r7}
 4452              	.LCFI145:
 4453              		.cfi_def_cfa_offset 4
 4454              		.cfi_offset 7, -4
 4455 0002 85B0     		sub	sp, sp, #20
 4456              	.LCFI146:
 4457              		.cfi_def_cfa_offset 24
 4458 0004 00AF     		add	r7, sp, #0
 4459              	.LCFI147:
 4460              		.cfi_def_cfa_register 7
 4461 0006 7860     		str	r0, [r7, #4]
1261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4462              		.loc 1 1261 12
 4463 0008 7B68     		ldr	r3, [r7, #4]
 4464 000a FB60     		str	r3, [r7, #12]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 101


1262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
 4465              		.loc 1 1264 16
 4466 000c FB68     		ldr	r3, [r7, #12]
 4467 000e 03F56063 		add	r3, r3, #3584
 4468 0012 1B68     		ldr	r3, [r3]
 4469 0014 FA68     		ldr	r2, [r7, #12]
 4470 0016 02F56062 		add	r2, r2, #3584
 4471 001a 23F00303 		bic	r3, r3, #3
 4472 001e 1360     		str	r3, [r2]
1265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 4473              		.loc 1 1266 21
 4474 0020 FB68     		ldr	r3, [r7, #12]
 4475 0022 03F50063 		add	r3, r3, #2048
 4476 0026 5B68     		ldr	r3, [r3, #4]
 4477 0028 FA68     		ldr	r2, [r7, #12]
 4478 002a 02F50062 		add	r2, r2, #2048
 4479 002e 43F00203 		orr	r3, r3, #2
 4480 0032 5360     		str	r3, [r2, #4]
1267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 4481              		.loc 1 1268 10
 4482 0034 0023     		movs	r3, #0
1269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4483              		.loc 1 1269 1
 4484 0036 1846     		mov	r0, r3
 4485 0038 1437     		adds	r7, r7, #20
 4486              	.LCFI148:
 4487              		.cfi_def_cfa_offset 4
 4488 003a BD46     		mov	sp, r7
 4489              	.LCFI149:
 4490              		.cfi_def_cfa_register 13
 4491              		@ sp needed
 4492 003c 5DF8047B 		ldr	r7, [sp], #4
 4493              	.LCFI150:
 4494              		.cfi_restore 7
 4495              		.cfi_def_cfa_offset 0
 4496 0040 7047     		bx	lr
 4497              		.cfi_endproc
 4498              	.LFE168:
 4500              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 4501              		.align	1
 4502              		.global	USB_ReadInterrupts
 4503              		.syntax unified
 4504              		.thumb
 4505              		.thumb_func
 4507              	USB_ReadInterrupts:
 4508              	.LFB169:
1270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** uint32_t  USB_ReadInterrupts(USB_OTG_GlobalTypeDef *USBx)
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 102


1277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4509              		.loc 1 1277 1
 4510              		.cfi_startproc
 4511              		@ args = 0, pretend = 0, frame = 16
 4512              		@ frame_needed = 1, uses_anonymous_args = 0
 4513              		@ link register save eliminated.
 4514 0000 80B4     		push	{r7}
 4515              	.LCFI151:
 4516              		.cfi_def_cfa_offset 4
 4517              		.cfi_offset 7, -4
 4518 0002 85B0     		sub	sp, sp, #20
 4519              	.LCFI152:
 4520              		.cfi_def_cfa_offset 24
 4521 0004 00AF     		add	r7, sp, #0
 4522              	.LCFI153:
 4523              		.cfi_def_cfa_register 7
 4524 0006 7860     		str	r0, [r7, #4]
1278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t tmpreg;
1279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg = USBx->GINTSTS;
 4525              		.loc 1 1280 10
 4526 0008 7B68     		ldr	r3, [r7, #4]
 4527 000a 5B69     		ldr	r3, [r3, #20]
 4528 000c FB60     		str	r3, [r7, #12]
1281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg &= USBx->GINTMSK;
 4529              		.loc 1 1281 17
 4530 000e 7B68     		ldr	r3, [r7, #4]
 4531 0010 9B69     		ldr	r3, [r3, #24]
 4532              		.loc 1 1281 10
 4533 0012 FA68     		ldr	r2, [r7, #12]
 4534 0014 1340     		ands	r3, r3, r2
 4535 0016 FB60     		str	r3, [r7, #12]
1282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return tmpreg;
 4536              		.loc 1 1283 10
 4537 0018 FB68     		ldr	r3, [r7, #12]
1284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4538              		.loc 1 1284 1
 4539 001a 1846     		mov	r0, r3
 4540 001c 1437     		adds	r7, r7, #20
 4541              	.LCFI154:
 4542              		.cfi_def_cfa_offset 4
 4543 001e BD46     		mov	sp, r7
 4544              	.LCFI155:
 4545              		.cfi_def_cfa_register 13
 4546              		@ sp needed
 4547 0020 5DF8047B 		ldr	r7, [sp], #4
 4548              	.LCFI156:
 4549              		.cfi_restore 7
 4550              		.cfi_def_cfa_offset 0
 4551 0024 7047     		bx	lr
 4552              		.cfi_endproc
 4553              	.LFE169:
 4555              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 4556              		.align	1
 4557              		.global	USB_ReadDevAllOutEpInterrupt
 4558              		.syntax unified
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 103


 4559              		.thumb
 4560              		.thumb_func
 4562              	USB_ReadDevAllOutEpInterrupt:
 4563              	.LFB170:
1285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4564              		.loc 1 1292 1
 4565              		.cfi_startproc
 4566              		@ args = 0, pretend = 0, frame = 16
 4567              		@ frame_needed = 1, uses_anonymous_args = 0
 4568              		@ link register save eliminated.
 4569 0000 80B4     		push	{r7}
 4570              	.LCFI157:
 4571              		.cfi_def_cfa_offset 4
 4572              		.cfi_offset 7, -4
 4573 0002 85B0     		sub	sp, sp, #20
 4574              	.LCFI158:
 4575              		.cfi_def_cfa_offset 24
 4576 0004 00AF     		add	r7, sp, #0
 4577              	.LCFI159:
 4578              		.cfi_def_cfa_register 7
 4579 0006 7860     		str	r0, [r7, #4]
1293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4580              		.loc 1 1293 12
 4581 0008 7B68     		ldr	r3, [r7, #4]
 4582 000a FB60     		str	r3, [r7, #12]
1294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t tmpreg;
1295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4583              		.loc 1 1296 13
 4584 000c FB68     		ldr	r3, [r7, #12]
 4585 000e 03F50063 		add	r3, r3, #2048
 4586              		.loc 1 1296 11
 4587 0012 9B69     		ldr	r3, [r3, #24]
 4588 0014 BB60     		str	r3, [r7, #8]
1297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4589              		.loc 1 1297 13
 4590 0016 FB68     		ldr	r3, [r7, #12]
 4591 0018 03F50063 		add	r3, r3, #2048
 4592              		.loc 1 1297 24
 4593 001c DB69     		ldr	r3, [r3, #28]
 4594              		.loc 1 1297 10
 4595 001e BA68     		ldr	r2, [r7, #8]
 4596 0020 1340     		ands	r3, r3, r2
 4597 0022 BB60     		str	r3, [r7, #8]
1298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ((tmpreg & 0xffff0000U) >> 16);
 4598              		.loc 1 1299 34
 4599 0024 BB68     		ldr	r3, [r7, #8]
 4600 0026 1B0C     		lsrs	r3, r3, #16
1300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 104


 4601              		.loc 1 1300 1
 4602 0028 1846     		mov	r0, r3
 4603 002a 1437     		adds	r7, r7, #20
 4604              	.LCFI160:
 4605              		.cfi_def_cfa_offset 4
 4606 002c BD46     		mov	sp, r7
 4607              	.LCFI161:
 4608              		.cfi_def_cfa_register 13
 4609              		@ sp needed
 4610 002e 5DF8047B 		ldr	r7, [sp], #4
 4611              	.LCFI162:
 4612              		.cfi_restore 7
 4613              		.cfi_def_cfa_offset 0
 4614 0032 7047     		bx	lr
 4615              		.cfi_endproc
 4616              	.LFE170:
 4618              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 4619              		.align	1
 4620              		.global	USB_ReadDevAllInEpInterrupt
 4621              		.syntax unified
 4622              		.thumb
 4623              		.thumb_func
 4625              	USB_ReadDevAllInEpInterrupt:
 4626              	.LFB171:
1301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
1304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4627              		.loc 1 1308 1
 4628              		.cfi_startproc
 4629              		@ args = 0, pretend = 0, frame = 16
 4630              		@ frame_needed = 1, uses_anonymous_args = 0
 4631              		@ link register save eliminated.
 4632 0000 80B4     		push	{r7}
 4633              	.LCFI163:
 4634              		.cfi_def_cfa_offset 4
 4635              		.cfi_offset 7, -4
 4636 0002 85B0     		sub	sp, sp, #20
 4637              	.LCFI164:
 4638              		.cfi_def_cfa_offset 24
 4639 0004 00AF     		add	r7, sp, #0
 4640              	.LCFI165:
 4641              		.cfi_def_cfa_register 7
 4642 0006 7860     		str	r0, [r7, #4]
1309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4643              		.loc 1 1309 12
 4644 0008 7B68     		ldr	r3, [r7, #4]
 4645 000a FB60     		str	r3, [r7, #12]
1310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t tmpreg;
1311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4646              		.loc 1 1312 13
 4647 000c FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 105


 4648 000e 03F50063 		add	r3, r3, #2048
 4649              		.loc 1 1312 11
 4650 0012 9B69     		ldr	r3, [r3, #24]
 4651 0014 BB60     		str	r3, [r7, #8]
1313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4652              		.loc 1 1313 13
 4653 0016 FB68     		ldr	r3, [r7, #12]
 4654 0018 03F50063 		add	r3, r3, #2048
 4655              		.loc 1 1313 24
 4656 001c DB69     		ldr	r3, [r3, #28]
 4657              		.loc 1 1313 10
 4658 001e BA68     		ldr	r2, [r7, #8]
 4659 0020 1340     		ands	r3, r3, r2
 4660 0022 BB60     		str	r3, [r7, #8]
1314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ((tmpreg & 0xFFFFU));
 4661              		.loc 1 1315 19
 4662 0024 BB68     		ldr	r3, [r7, #8]
 4663 0026 9BB2     		uxth	r3, r3
1316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4664              		.loc 1 1316 1
 4665 0028 1846     		mov	r0, r3
 4666 002a 1437     		adds	r7, r7, #20
 4667              	.LCFI166:
 4668              		.cfi_def_cfa_offset 4
 4669 002c BD46     		mov	sp, r7
 4670              	.LCFI167:
 4671              		.cfi_def_cfa_register 13
 4672              		@ sp needed
 4673 002e 5DF8047B 		ldr	r7, [sp], #4
 4674              	.LCFI168:
 4675              		.cfi_restore 7
 4676              		.cfi_def_cfa_offset 0
 4677 0032 7047     		bx	lr
 4678              		.cfi_endproc
 4679              	.LFE171:
 4681              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 4682              		.align	1
 4683              		.global	USB_ReadDevOutEPInterrupt
 4684              		.syntax unified
 4685              		.thumb
 4686              		.thumb_func
 4688              	USB_ReadDevOutEPInterrupt:
 4689              	.LFB172:
1317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  epnum  endpoint number
1322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4690              		.loc 1 1326 1
 4691              		.cfi_startproc
 4692              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 106


 4693              		@ frame_needed = 1, uses_anonymous_args = 0
 4694              		@ link register save eliminated.
 4695 0000 80B4     		push	{r7}
 4696              	.LCFI169:
 4697              		.cfi_def_cfa_offset 4
 4698              		.cfi_offset 7, -4
 4699 0002 85B0     		sub	sp, sp, #20
 4700              	.LCFI170:
 4701              		.cfi_def_cfa_offset 24
 4702 0004 00AF     		add	r7, sp, #0
 4703              	.LCFI171:
 4704              		.cfi_def_cfa_register 7
 4705 0006 7860     		str	r0, [r7, #4]
 4706 0008 0B46     		mov	r3, r1
 4707 000a FB70     		strb	r3, [r7, #3]
1327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4708              		.loc 1 1327 12
 4709 000c 7B68     		ldr	r3, [r7, #4]
 4710 000e FB60     		str	r3, [r7, #12]
1328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t tmpreg;
1329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg  = USBx_OUTEP((uint32_t)epnum)->DOEPINT;
 4711              		.loc 1 1330 13
 4712 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4713 0012 5A01     		lsls	r2, r3, #5
 4714 0014 FB68     		ldr	r3, [r7, #12]
 4715 0016 1344     		add	r3, r3, r2
 4716 0018 03F53063 		add	r3, r3, #2816
 4717              		.loc 1 1330 11
 4718 001c 9B68     		ldr	r3, [r3, #8]
 4719 001e BB60     		str	r3, [r7, #8]
1331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DOEPMSK;
 4720              		.loc 1 1331 13
 4721 0020 FB68     		ldr	r3, [r7, #12]
 4722 0022 03F50063 		add	r3, r3, #2048
 4723              		.loc 1 1331 24
 4724 0026 5B69     		ldr	r3, [r3, #20]
 4725              		.loc 1 1331 10
 4726 0028 BA68     		ldr	r2, [r7, #8]
 4727 002a 1340     		ands	r3, r3, r2
 4728 002c BB60     		str	r3, [r7, #8]
1332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return tmpreg;
 4729              		.loc 1 1333 10
 4730 002e BB68     		ldr	r3, [r7, #8]
1334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4731              		.loc 1 1334 1
 4732 0030 1846     		mov	r0, r3
 4733 0032 1437     		adds	r7, r7, #20
 4734              	.LCFI172:
 4735              		.cfi_def_cfa_offset 4
 4736 0034 BD46     		mov	sp, r7
 4737              	.LCFI173:
 4738              		.cfi_def_cfa_register 13
 4739              		@ sp needed
 4740 0036 5DF8047B 		ldr	r7, [sp], #4
 4741              	.LCFI174:
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 107


 4742              		.cfi_restore 7
 4743              		.cfi_def_cfa_offset 0
 4744 003a 7047     		bx	lr
 4745              		.cfi_endproc
 4746              	.LFE172:
 4748              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 4749              		.align	1
 4750              		.global	USB_ReadDevInEPInterrupt
 4751              		.syntax unified
 4752              		.thumb
 4753              		.thumb_func
 4755              	USB_ReadDevInEPInterrupt:
 4756              	.LFB173:
1335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  epnum  endpoint number
1340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4757              		.loc 1 1344 1
 4758              		.cfi_startproc
 4759              		@ args = 0, pretend = 0, frame = 24
 4760              		@ frame_needed = 1, uses_anonymous_args = 0
 4761              		@ link register save eliminated.
 4762 0000 80B4     		push	{r7}
 4763              	.LCFI175:
 4764              		.cfi_def_cfa_offset 4
 4765              		.cfi_offset 7, -4
 4766 0002 87B0     		sub	sp, sp, #28
 4767              	.LCFI176:
 4768              		.cfi_def_cfa_offset 32
 4769 0004 00AF     		add	r7, sp, #0
 4770              	.LCFI177:
 4771              		.cfi_def_cfa_register 7
 4772 0006 7860     		str	r0, [r7, #4]
 4773 0008 0B46     		mov	r3, r1
 4774 000a FB70     		strb	r3, [r7, #3]
1345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4775              		.loc 1 1345 12
 4776 000c 7B68     		ldr	r3, [r7, #4]
 4777 000e 7B61     		str	r3, [r7, #20]
1346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t tmpreg;
1347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t msk;
1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t emp;
1349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 4778              		.loc 1 1350 9
 4779 0010 7B69     		ldr	r3, [r7, #20]
 4780 0012 03F50063 		add	r3, r3, #2048
 4781              		.loc 1 1350 7
 4782 0016 1B69     		ldr	r3, [r3, #16]
 4783 0018 3B61     		str	r3, [r7, #16]
1351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 108


 4784              		.loc 1 1351 9
 4785 001a 7B69     		ldr	r3, [r7, #20]
 4786 001c 03F50063 		add	r3, r3, #2048
 4787              		.loc 1 1351 7
 4788 0020 5B6B     		ldr	r3, [r3, #52]
 4789 0022 FB60     		str	r3, [r7, #12]
1352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   msk |= ((emp >> (epnum & EP_ADDR_MSK)) & 0x1U) << 7;
 4790              		.loc 1 1352 26
 4791 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4792 0026 03F00F03 		and	r3, r3, #15
 4793              		.loc 1 1352 16
 4794 002a FA68     		ldr	r2, [r7, #12]
 4795 002c 22FA03F3 		lsr	r3, r2, r3
 4796              		.loc 1 1352 50
 4797 0030 DB01     		lsls	r3, r3, #7
 4798 0032 DBB2     		uxtb	r3, r3
 4799              		.loc 1 1352 7
 4800 0034 3A69     		ldr	r2, [r7, #16]
 4801 0036 1343     		orrs	r3, r3, r2
 4802 0038 3B61     		str	r3, [r7, #16]
1353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg = USBx_INEP((uint32_t)epnum)->DIEPINT & msk;
 4803              		.loc 1 1353 12
 4804 003a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4805 003c 5A01     		lsls	r2, r3, #5
 4806 003e 7B69     		ldr	r3, [r7, #20]
 4807 0040 1344     		add	r3, r3, r2
 4808 0042 03F51063 		add	r3, r3, #2304
 4809              		.loc 1 1353 38
 4810 0046 9B68     		ldr	r3, [r3, #8]
 4811              		.loc 1 1353 10
 4812 0048 3A69     		ldr	r2, [r7, #16]
 4813 004a 1340     		ands	r3, r3, r2
 4814 004c BB60     		str	r3, [r7, #8]
1354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return tmpreg;
 4815              		.loc 1 1355 10
 4816 004e BB68     		ldr	r3, [r7, #8]
1356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4817              		.loc 1 1356 1
 4818 0050 1846     		mov	r0, r3
 4819 0052 1C37     		adds	r7, r7, #28
 4820              	.LCFI178:
 4821              		.cfi_def_cfa_offset 4
 4822 0054 BD46     		mov	sp, r7
 4823              	.LCFI179:
 4824              		.cfi_def_cfa_register 13
 4825              		@ sp needed
 4826 0056 5DF8047B 		ldr	r7, [sp], #4
 4827              	.LCFI180:
 4828              		.cfi_restore 7
 4829              		.cfi_def_cfa_offset 0
 4830 005a 7047     		bx	lr
 4831              		.cfi_endproc
 4832              	.LFE173:
 4834              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 4835              		.align	1
 4836              		.global	USB_ClearInterrupts
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 109


 4837              		.syntax unified
 4838              		.thumb
 4839              		.thumb_func
 4841              	USB_ClearInterrupts:
 4842              	.LFB174:
1357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  interrupt  flag
1362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval None
1363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** void  USB_ClearInterrupts(USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4843              		.loc 1 1365 1
 4844              		.cfi_startproc
 4845              		@ args = 0, pretend = 0, frame = 8
 4846              		@ frame_needed = 1, uses_anonymous_args = 0
 4847              		@ link register save eliminated.
 4848 0000 80B4     		push	{r7}
 4849              	.LCFI181:
 4850              		.cfi_def_cfa_offset 4
 4851              		.cfi_offset 7, -4
 4852 0002 83B0     		sub	sp, sp, #12
 4853              	.LCFI182:
 4854              		.cfi_def_cfa_offset 16
 4855 0004 00AF     		add	r7, sp, #0
 4856              	.LCFI183:
 4857              		.cfi_def_cfa_register 7
 4858 0006 7860     		str	r0, [r7, #4]
 4859 0008 3960     		str	r1, [r7]
1366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GINTSTS |= interrupt;
 4860              		.loc 1 1366 17
 4861 000a 7B68     		ldr	r3, [r7, #4]
 4862 000c 5A69     		ldr	r2, [r3, #20]
 4863 000e 3B68     		ldr	r3, [r7]
 4864 0010 1A43     		orrs	r2, r2, r3
 4865 0012 7B68     		ldr	r3, [r7, #4]
 4866 0014 5A61     		str	r2, [r3, #20]
1367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4867              		.loc 1 1367 1
 4868 0016 00BF     		nop
 4869 0018 0C37     		adds	r7, r7, #12
 4870              	.LCFI184:
 4871              		.cfi_def_cfa_offset 4
 4872 001a BD46     		mov	sp, r7
 4873              	.LCFI185:
 4874              		.cfi_def_cfa_register 13
 4875              		@ sp needed
 4876 001c 5DF8047B 		ldr	r7, [sp], #4
 4877              	.LCFI186:
 4878              		.cfi_restore 7
 4879              		.cfi_def_cfa_offset 0
 4880 0020 7047     		bx	lr
 4881              		.cfi_endproc
 4882              	.LFE174:
 4884              		.section	.text.USB_GetMode,"ax",%progbits
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 110


 4885              		.align	1
 4886              		.global	USB_GetMode
 4887              		.syntax unified
 4888              		.thumb
 4889              		.thumb_func
 4891              	USB_GetMode:
 4892              	.LFB175:
1368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Returns USB core mode
1371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval return core mode : Host or Device
1373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
1374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           0 : Host
1375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           1 : Device
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4893              		.loc 1 1378 1
 4894              		.cfi_startproc
 4895              		@ args = 0, pretend = 0, frame = 8
 4896              		@ frame_needed = 1, uses_anonymous_args = 0
 4897              		@ link register save eliminated.
 4898 0000 80B4     		push	{r7}
 4899              	.LCFI187:
 4900              		.cfi_def_cfa_offset 4
 4901              		.cfi_offset 7, -4
 4902 0002 83B0     		sub	sp, sp, #12
 4903              	.LCFI188:
 4904              		.cfi_def_cfa_offset 16
 4905 0004 00AF     		add	r7, sp, #0
 4906              	.LCFI189:
 4907              		.cfi_def_cfa_register 7
 4908 0006 7860     		str	r0, [r7, #4]
1379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ((USBx->GINTSTS) & 0x1U);
 4909              		.loc 1 1379 16
 4910 0008 7B68     		ldr	r3, [r7, #4]
 4911 000a 5B69     		ldr	r3, [r3, #20]
 4912              		.loc 1 1379 27
 4913 000c 03F00103 		and	r3, r3, #1
1380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4914              		.loc 1 1380 1
 4915 0010 1846     		mov	r0, r3
 4916 0012 0C37     		adds	r7, r7, #12
 4917              	.LCFI190:
 4918              		.cfi_def_cfa_offset 4
 4919 0014 BD46     		mov	sp, r7
 4920              	.LCFI191:
 4921              		.cfi_def_cfa_register 13
 4922              		@ sp needed
 4923 0016 5DF8047B 		ldr	r7, [sp], #4
 4924              	.LCFI192:
 4925              		.cfi_restore 7
 4926              		.cfi_def_cfa_offset 0
 4927 001a 7047     		bx	lr
 4928              		.cfi_endproc
 4929              	.LFE175:
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 111


 4931              		.section	.text.USB_ActivateSetup,"ax",%progbits
 4932              		.align	1
 4933              		.global	USB_ActivateSetup
 4934              		.syntax unified
 4935              		.thumb
 4936              		.thumb_func
 4938              	USB_ActivateSetup:
 4939              	.LFB176:
1381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup(USB_OTG_GlobalTypeDef *USBx)
1388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 4940              		.loc 1 1388 1
 4941              		.cfi_startproc
 4942              		@ args = 0, pretend = 0, frame = 16
 4943              		@ frame_needed = 1, uses_anonymous_args = 0
 4944              		@ link register save eliminated.
 4945 0000 80B4     		push	{r7}
 4946              	.LCFI193:
 4947              		.cfi_def_cfa_offset 4
 4948              		.cfi_offset 7, -4
 4949 0002 85B0     		sub	sp, sp, #20
 4950              	.LCFI194:
 4951              		.cfi_def_cfa_offset 24
 4952 0004 00AF     		add	r7, sp, #0
 4953              	.LCFI195:
 4954              		.cfi_def_cfa_register 7
 4955 0006 7860     		str	r0, [r7, #4]
1389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4956              		.loc 1 1389 12
 4957 0008 7B68     		ldr	r3, [r7, #4]
 4958 000a FB60     		str	r3, [r7, #12]
1390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Set the MPS of the IN EP0 to 64 bytes */
1392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 4959              		.loc 1 1392 26
 4960 000c FB68     		ldr	r3, [r7, #12]
 4961 000e 03F51063 		add	r3, r3, #2304
 4962 0012 1A68     		ldr	r2, [r3]
 4963 0014 FB68     		ldr	r3, [r7, #12]
 4964 0016 03F51063 		add	r3, r3, #2304
 4965 001a 1946     		mov	r1, r3
 4966 001c 094B     		ldr	r3, .L211
 4967 001e 1340     		ands	r3, r3, r2
 4968 0020 0B60     		str	r3, [r1]
1393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 4969              		.loc 1 1394 21
 4970 0022 FB68     		ldr	r3, [r7, #12]
 4971 0024 03F50063 		add	r3, r3, #2048
 4972 0028 5B68     		ldr	r3, [r3, #4]
 4973 002a FA68     		ldr	r2, [r7, #12]
 4974 002c 02F50062 		add	r2, r2, #2048
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 112


 4975 0030 43F48073 		orr	r3, r3, #256
 4976 0034 5360     		str	r3, [r2, #4]
1395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 4977              		.loc 1 1396 10
 4978 0036 0023     		movs	r3, #0
1397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 4979              		.loc 1 1397 1
 4980 0038 1846     		mov	r0, r3
 4981 003a 1437     		adds	r7, r7, #20
 4982              	.LCFI196:
 4983              		.cfi_def_cfa_offset 4
 4984 003c BD46     		mov	sp, r7
 4985              	.LCFI197:
 4986              		.cfi_def_cfa_register 13
 4987              		@ sp needed
 4988 003e 5DF8047B 		ldr	r7, [sp], #4
 4989              	.LCFI198:
 4990              		.cfi_restore 7
 4991              		.cfi_def_cfa_offset 0
 4992 0042 7047     		bx	lr
 4993              	.L212:
 4994              		.align	2
 4995              	.L211:
 4996 0044 00F8FFFF 		.word	-2048
 4997              		.cfi_endproc
 4998              	.LFE176:
 5000              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 5001              		.align	1
 5002              		.global	USB_EP0_OutStart
 5003              		.syntax unified
 5004              		.thumb
 5005              		.thumb_func
 5007              	USB_EP0_OutStart:
 5008              	.LFB177:
1398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
1401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
1404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           0 : DMA feature not used
1405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           1 : DMA feature used
1406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t dma, uint8_t *psetup)
1410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 5009              		.loc 1 1410 1
 5010              		.cfi_startproc
 5011              		@ args = 0, pretend = 0, frame = 24
 5012              		@ frame_needed = 1, uses_anonymous_args = 0
 5013              		@ link register save eliminated.
 5014 0000 80B4     		push	{r7}
 5015              	.LCFI199:
 5016              		.cfi_def_cfa_offset 4
 5017              		.cfi_offset 7, -4
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 113


 5018 0002 87B0     		sub	sp, sp, #28
 5019              	.LCFI200:
 5020              		.cfi_def_cfa_offset 32
 5021 0004 00AF     		add	r7, sp, #0
 5022              	.LCFI201:
 5023              		.cfi_def_cfa_register 7
 5024 0006 F860     		str	r0, [r7, #12]
 5025 0008 0B46     		mov	r3, r1
 5026 000a 7A60     		str	r2, [r7, #4]
 5027 000c FB72     		strb	r3, [r7, #11]
1411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5028              		.loc 1 1411 12
 5029 000e FB68     		ldr	r3, [r7, #12]
 5030 0010 7B61     		str	r3, [r7, #20]
1412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t gSNPSiD = *(__IO uint32_t *)(&USBx->CID + 0x1U);
 5031              		.loc 1 1412 41
 5032 0012 FB68     		ldr	r3, [r7, #12]
 5033 0014 3C33     		adds	r3, r3, #60
 5034              		.loc 1 1412 23
 5035 0016 0433     		adds	r3, r3, #4
 5036              		.loc 1 1412 12
 5037 0018 1B68     		ldr	r3, [r3]
 5038 001a 3B61     		str	r3, [r7, #16]
1413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (gSNPSiD > USB_OTG_CORE_ID_300A)
 5039              		.loc 1 1414 6
 5040 001c 3B69     		ldr	r3, [r7, #16]
 5041 001e 264A     		ldr	r2, .L217
 5042 0020 9342     		cmp	r3, r2
 5043 0022 0AD9     		bls	.L214
1415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((USBx_OUTEP(0U)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 5044              		.loc 1 1416 10
 5045 0024 7B69     		ldr	r3, [r7, #20]
 5046 0026 03F53063 		add	r3, r3, #2816
 5047              		.loc 1 1416 24
 5048 002a 1B68     		ldr	r3, [r3]
 5049              		.loc 1 1416 34
 5050 002c 03F00043 		and	r3, r3, #-2147483648
 5051              		.loc 1 1416 8
 5052 0030 B3F1004F 		cmp	r3, #-2147483648
 5053 0034 01D1     		bne	.L214
1417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       return HAL_OK;
 5054              		.loc 1 1418 14
 5055 0036 0023     		movs	r3, #0
 5056 0038 37E0     		b	.L215
 5057              	.L214:
1419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 5058              		.loc 1 1422 3
 5059 003a 7B69     		ldr	r3, [r7, #20]
 5060 003c 03F53063 		add	r3, r3, #2816
 5061 0040 1A46     		mov	r2, r3
 5062              		.loc 1 1422 28
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 114


 5063 0042 0023     		movs	r3, #0
 5064 0044 1361     		str	r3, [r2, #16]
1423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 5065              		.loc 1 1423 28
 5066 0046 7B69     		ldr	r3, [r7, #20]
 5067 0048 03F53063 		add	r3, r3, #2816
 5068 004c 1B69     		ldr	r3, [r3, #16]
 5069 004e 7A69     		ldr	r2, [r7, #20]
 5070 0050 02F53062 		add	r2, r2, #2816
 5071 0054 43F40023 		orr	r3, r3, #524288
 5072 0058 1361     		str	r3, [r2, #16]
1424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 5073              		.loc 1 1424 28
 5074 005a 7B69     		ldr	r3, [r7, #20]
 5075 005c 03F53063 		add	r3, r3, #2816
 5076 0060 1B69     		ldr	r3, [r3, #16]
 5077 0062 7A69     		ldr	r2, [r7, #20]
 5078 0064 02F53062 		add	r2, r2, #2816
 5079 0068 43F01803 		orr	r3, r3, #24
 5080 006c 1361     		str	r3, [r2, #16]
1425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;
 5081              		.loc 1 1425 28
 5082 006e 7B69     		ldr	r3, [r7, #20]
 5083 0070 03F53063 		add	r3, r3, #2816
 5084 0074 1B69     		ldr	r3, [r3, #16]
 5085 0076 7A69     		ldr	r2, [r7, #20]
 5086 0078 02F53062 		add	r2, r2, #2816
 5087 007c 43F0C043 		orr	r3, r3, #1610612736
 5088 0080 1361     		str	r3, [r2, #16]
1426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (dma == 1U)
 5089              		.loc 1 1427 6
 5090 0082 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 5091 0084 012B     		cmp	r3, #1
 5092 0086 0FD1     		bne	.L216
1428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPDMA = (uint32_t)psetup;
 5093              		.loc 1 1429 5
 5094 0088 7B69     		ldr	r3, [r7, #20]
 5095 008a 03F53063 		add	r3, r3, #2816
 5096 008e 1A46     		mov	r2, r3
 5097              		.loc 1 1429 31
 5098 0090 7B68     		ldr	r3, [r7, #4]
 5099              		.loc 1 1429 29
 5100 0092 5361     		str	r3, [r2, #20]
1430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* EP enable */
1431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPCTL |= USB_OTG_DOEPCTL_EPENA | USB_OTG_DOEPCTL_USBAEP;
 5101              		.loc 1 1431 29
 5102 0094 7B69     		ldr	r3, [r7, #20]
 5103 0096 03F53063 		add	r3, r3, #2816
 5104 009a 1B68     		ldr	r3, [r3]
 5105 009c 7A69     		ldr	r2, [r7, #20]
 5106 009e 02F53062 		add	r2, r2, #2816
 5107 00a2 43F08023 		orr	r3, r3, #-2147450880
 5108 00a6 1360     		str	r3, [r2]
 5109              	.L216:
1432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 115


1433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 5110              		.loc 1 1434 10
 5111 00a8 0023     		movs	r3, #0
 5112              	.L215:
1435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 5113              		.loc 1 1435 1
 5114 00aa 1846     		mov	r0, r3
 5115 00ac 1C37     		adds	r7, r7, #28
 5116              	.LCFI202:
 5117              		.cfi_def_cfa_offset 4
 5118 00ae BD46     		mov	sp, r7
 5119              	.LCFI203:
 5120              		.cfi_def_cfa_register 13
 5121              		@ sp needed
 5122 00b0 5DF8047B 		ldr	r7, [sp], #4
 5123              	.LCFI204:
 5124              		.cfi_restore 7
 5125              		.cfi_def_cfa_offset 0
 5126 00b4 7047     		bx	lr
 5127              	.L218:
 5128 00b6 00BF     		.align	2
 5129              	.L217:
 5130 00b8 0A30544F 		.word	1330917386
 5131              		.cfi_endproc
 5132              	.LFE177:
 5134              		.section	.text.USB_CoreReset,"ax",%progbits
 5135              		.align	1
 5136              		.syntax unified
 5137              		.thumb
 5138              		.thumb_func
 5140              	USB_CoreReset:
 5141              	.LFB178:
1436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 5142              		.loc 1 1443 1
 5143              		.cfi_startproc
 5144              		@ args = 0, pretend = 0, frame = 16
 5145              		@ frame_needed = 1, uses_anonymous_args = 0
 5146              		@ link register save eliminated.
 5147 0000 80B4     		push	{r7}
 5148              	.LCFI205:
 5149              		.cfi_def_cfa_offset 4
 5150              		.cfi_offset 7, -4
 5151 0002 85B0     		sub	sp, sp, #20
 5152              	.LCFI206:
 5153              		.cfi_def_cfa_offset 24
 5154 0004 00AF     		add	r7, sp, #0
 5155              	.LCFI207:
 5156              		.cfi_def_cfa_register 7
 5157 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 116


1444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   __IO uint32_t count = 0U;
 5158              		.loc 1 1444 17
 5159 0008 0023     		movs	r3, #0
 5160 000a FB60     		str	r3, [r7, #12]
 5161              	.L222:
1445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   do
1448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     count++;
 5162              		.loc 1 1449 10
 5163 000c FB68     		ldr	r3, [r7, #12]
 5164 000e 0133     		adds	r3, r3, #1
 5165 0010 FB60     		str	r3, [r7, #12]
1450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (count > 200000U)
 5166              		.loc 1 1451 15
 5167 0012 FB68     		ldr	r3, [r7, #12]
 5168              		.loc 1 1451 8
 5169 0014 134A     		ldr	r2, .L225
 5170 0016 9342     		cmp	r3, r2
 5171 0018 01D9     		bls	.L220
1452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       return HAL_TIMEOUT;
 5172              		.loc 1 1453 14
 5173 001a 0323     		movs	r3, #3
 5174 001c 1BE0     		b	.L221
 5175              	.L220:
1454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 5176              		.loc 1 1455 17
 5177 001e 7B68     		ldr	r3, [r7, #4]
 5178 0020 1B69     		ldr	r3, [r3, #16]
 5179              		.loc 1 1455 3
 5180 0022 002B     		cmp	r3, #0
 5181 0024 F2DA     		bge	.L222
1456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Core Soft Reset */
1458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   count = 0U;
 5182              		.loc 1 1458 9
 5183 0026 0023     		movs	r3, #0
 5184 0028 FB60     		str	r3, [r7, #12]
1459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 5185              		.loc 1 1459 17
 5186 002a 7B68     		ldr	r3, [r7, #4]
 5187 002c 1B69     		ldr	r3, [r3, #16]
 5188 002e 43F00102 		orr	r2, r3, #1
 5189 0032 7B68     		ldr	r3, [r7, #4]
 5190 0034 1A61     		str	r2, [r3, #16]
 5191              	.L224:
1460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   do
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     count++;
 5192              		.loc 1 1463 10
 5193 0036 FB68     		ldr	r3, [r7, #12]
 5194 0038 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 117


 5195 003a FB60     		str	r3, [r7, #12]
1464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (count > 200000U)
 5196              		.loc 1 1465 15
 5197 003c FB68     		ldr	r3, [r7, #12]
 5198              		.loc 1 1465 8
 5199 003e 094A     		ldr	r2, .L225
 5200 0040 9342     		cmp	r3, r2
 5201 0042 01D9     		bls	.L223
1466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       return HAL_TIMEOUT;
 5202              		.loc 1 1467 14
 5203 0044 0323     		movs	r3, #3
 5204 0046 06E0     		b	.L221
 5205              	.L223:
1468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
 5206              		.loc 1 1469 17
 5207 0048 7B68     		ldr	r3, [r7, #4]
 5208 004a 1B69     		ldr	r3, [r3, #16]
 5209              		.loc 1 1469 27
 5210 004c 03F00103 		and	r3, r3, #1
 5211              		.loc 1 1469 3
 5212 0050 012B     		cmp	r3, #1
 5213 0052 F0D0     		beq	.L224
1470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 5214              		.loc 1 1471 10
 5215 0054 0023     		movs	r3, #0
 5216              	.L221:
1472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 5217              		.loc 1 1472 1
 5218 0056 1846     		mov	r0, r3
 5219 0058 1437     		adds	r7, r7, #20
 5220              	.LCFI208:
 5221              		.cfi_def_cfa_offset 4
 5222 005a BD46     		mov	sp, r7
 5223              	.LCFI209:
 5224              		.cfi_def_cfa_register 13
 5225              		@ sp needed
 5226 005c 5DF8047B 		ldr	r7, [sp], #4
 5227              	.LCFI210:
 5228              		.cfi_restore 7
 5229              		.cfi_def_cfa_offset 0
 5230 0060 7047     		bx	lr
 5231              	.L226:
 5232 0062 00BF     		.align	2
 5233              	.L225:
 5234 0064 400D0300 		.word	200000
 5235              		.cfi_endproc
 5236              	.LFE178:
 5238              		.section	.text.USB_HostInit,"ax",%progbits
 5239              		.align	1
 5240              		.global	USB_HostInit
 5241              		.syntax unified
 5242              		.thumb
 5243              		.thumb_func
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 118


 5245              	USB_HostInit:
 5246              	.LFB179:
1473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers
1476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         for Host mode
1477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 5247              		.loc 1 1483 1
 5248              		.cfi_startproc
 5249              		@ args = 56, pretend = 16, frame = 24
 5250              		@ frame_needed = 1, uses_anonymous_args = 0
 5251 0000 84B0     		sub	sp, sp, #16
 5252              	.LCFI211:
 5253              		.cfi_def_cfa_offset 16
 5254 0002 80B5     		push	{r7, lr}
 5255              	.LCFI212:
 5256              		.cfi_def_cfa_offset 24
 5257              		.cfi_offset 7, -24
 5258              		.cfi_offset 14, -20
 5259 0004 86B0     		sub	sp, sp, #24
 5260              	.LCFI213:
 5261              		.cfi_def_cfa_offset 48
 5262 0006 00AF     		add	r7, sp, #0
 5263              	.LCFI214:
 5264              		.cfi_def_cfa_register 7
 5265 0008 7860     		str	r0, [r7, #4]
 5266 000a 07F12400 		add	r0, r7, #36
 5267 000e 80E80E00 		stm	r0, {r1, r2, r3}
1484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 5268              		.loc 1 1484 21
 5269 0012 0023     		movs	r3, #0
 5270 0014 FB75     		strb	r3, [r7, #23]
1485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5271              		.loc 1 1485 12
 5272 0016 7B68     		ldr	r3, [r7, #4]
 5273 0018 FB60     		str	r3, [r7, #12]
1486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t i;
1487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Restart the Phy Clock */
1489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 5274              		.loc 1 1489 3
 5275 001a FB68     		ldr	r3, [r7, #12]
 5276 001c 03F56063 		add	r3, r3, #3584
 5277 0020 1A46     		mov	r2, r3
 5278              		.loc 1 1489 16
 5279 0022 0023     		movs	r3, #0
 5280 0024 1360     		str	r3, [r2]
1490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Disable VBUS sensing */
1492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_VBDEN);
 5281              		.loc 1 1492 15
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 119


 5282 0026 7B68     		ldr	r3, [r7, #4]
 5283 0028 9B6B     		ldr	r3, [r3, #56]
 5284 002a 23F40012 		bic	r2, r3, #2097152
 5285 002e 7B68     		ldr	r3, [r7, #4]
 5286 0030 9A63     		str	r2, [r3, #56]
1493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Disable Battery chargin detector */
1495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_BCDEN);
 5287              		.loc 1 1495 15
 5288 0032 7B68     		ldr	r3, [r7, #4]
 5289 0034 9B6B     		ldr	r3, [r3, #56]
 5290 0036 23F40032 		bic	r2, r3, #131072
 5291 003a 7B68     		ldr	r3, [r7, #4]
 5292 003c 9A63     		str	r2, [r3, #56]
1496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 5293              		.loc 1 1498 12
 5294 003e 7B68     		ldr	r3, [r7, #4]
 5295 0040 DB6B     		ldr	r3, [r3, #60]
 5296              		.loc 1 1498 18
 5297 0042 03F48073 		and	r3, r3, #256
 5298              		.loc 1 1498 6
 5299 0046 002B     		cmp	r3, #0
 5300 0048 18D0     		beq	.L228
1499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (cfg.speed == USBH_FSLS_SPEED)
 5301              		.loc 1 1500 12
 5302 004a FB6A     		ldr	r3, [r7, #44]
 5303              		.loc 1 1500 8
 5304 004c 012B     		cmp	r3, #1
 5305 004e 0AD1     		bne	.L229
1501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* Force Device Enumeration to FS/LS mode only */
1503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_HOST->HCFG |= USB_OTG_HCFG_FSLSS;
 5306              		.loc 1 1503 23
 5307 0050 FB68     		ldr	r3, [r7, #12]
 5308 0052 03F58063 		add	r3, r3, #1024
 5309 0056 1B68     		ldr	r3, [r3]
 5310 0058 FA68     		ldr	r2, [r7, #12]
 5311 005a 02F58062 		add	r2, r2, #1024
 5312 005e 43F00403 		orr	r3, r3, #4
 5313 0062 1360     		str	r3, [r2]
 5314 0064 14E0     		b	.L230
 5315              	.L229:
1504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else
1506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* Set default Max speed support */
1508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 5316              		.loc 1 1508 23
 5317 0066 FB68     		ldr	r3, [r7, #12]
 5318 0068 03F58063 		add	r3, r3, #1024
 5319 006c 1B68     		ldr	r3, [r3]
 5320 006e FA68     		ldr	r2, [r7, #12]
 5321 0070 02F58062 		add	r2, r2, #1024
 5322 0074 23F00403 		bic	r3, r3, #4
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 120


 5323 0078 1360     		str	r3, [r2]
 5324 007a 09E0     		b	.L230
 5325              	.L228:
1509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
1512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Set default Max speed support */
1514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 5326              		.loc 1 1514 21
 5327 007c FB68     		ldr	r3, [r7, #12]
 5328 007e 03F58063 		add	r3, r3, #1024
 5329 0082 1B68     		ldr	r3, [r3]
 5330 0084 FA68     		ldr	r2, [r7, #12]
 5331 0086 02F58062 		add	r2, r2, #1024
 5332 008a 23F00403 		bic	r3, r3, #4
 5333 008e 1360     		str	r3, [r2]
 5334              	.L230:
1515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 5335              		.loc 1 1518 7
 5336 0090 1021     		movs	r1, #16
 5337 0092 7868     		ldr	r0, [r7, #4]
 5338 0094 FFF7FEFF 		bl	USB_FlushTxFifo
 5339 0098 0346     		mov	r3, r0
 5340              		.loc 1 1518 6
 5341 009a 002B     		cmp	r3, #0
 5342 009c 01D0     		beq	.L231
1519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     ret = HAL_ERROR;
 5343              		.loc 1 1520 9
 5344 009e 0123     		movs	r3, #1
 5345 00a0 FB75     		strb	r3, [r7, #23]
 5346              	.L231:
1521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 5347              		.loc 1 1523 7
 5348 00a2 7868     		ldr	r0, [r7, #4]
 5349 00a4 FFF7FEFF 		bl	USB_FlushRxFifo
 5350 00a8 0346     		mov	r3, r0
 5351              		.loc 1 1523 6
 5352 00aa 002B     		cmp	r3, #0
 5353 00ac 01D0     		beq	.L232
1524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     ret = HAL_ERROR;
 5354              		.loc 1 1525 9
 5355 00ae 0123     		movs	r3, #1
 5356 00b0 FB75     		strb	r3, [r7, #23]
 5357              	.L232:
1526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
 5358              		.loc 1 1529 10
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 121


 5359 00b2 0023     		movs	r3, #0
 5360 00b4 3B61     		str	r3, [r7, #16]
 5361              		.loc 1 1529 3
 5362 00b6 15E0     		b	.L233
 5363              	.L234:
1530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
 5364              		.loc 1 1531 5 discriminator 3
 5365 00b8 3B69     		ldr	r3, [r7, #16]
 5366 00ba 5A01     		lsls	r2, r3, #5
 5367 00bc FB68     		ldr	r3, [r7, #12]
 5368 00be 1344     		add	r3, r3, r2
 5369 00c0 03F5A063 		add	r3, r3, #1280
 5370 00c4 1A46     		mov	r2, r3
 5371              		.loc 1 1531 23 discriminator 3
 5372 00c6 4FF0FF33 		mov	r3, #-1
 5373 00ca 9360     		str	r3, [r2, #8]
1532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 5374              		.loc 1 1532 5 discriminator 3
 5375 00cc 3B69     		ldr	r3, [r7, #16]
 5376 00ce 5A01     		lsls	r2, r3, #5
 5377 00d0 FB68     		ldr	r3, [r7, #12]
 5378 00d2 1344     		add	r3, r3, r2
 5379 00d4 03F5A063 		add	r3, r3, #1280
 5380 00d8 1A46     		mov	r2, r3
 5381              		.loc 1 1532 26 discriminator 3
 5382 00da 0023     		movs	r3, #0
 5383 00dc D360     		str	r3, [r2, #12]
1529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 5384              		.loc 1 1529 40 discriminator 3
 5385 00de 3B69     		ldr	r3, [r7, #16]
 5386 00e0 0133     		adds	r3, r3, #1
 5387 00e2 3B61     		str	r3, [r7, #16]
 5388              	.L233:
1529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 5389              		.loc 1 1529 23 discriminator 1
 5390 00e4 BB6A     		ldr	r3, [r7, #40]
1529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 5391              		.loc 1 1529 3 discriminator 1
 5392 00e6 3A69     		ldr	r2, [r7, #16]
 5393 00e8 9A42     		cmp	r2, r3
 5394 00ea E5D3     		bcc	.L234
1533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Disable all interrupts. */
1536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 5395              		.loc 1 1536 17
 5396 00ec 7B68     		ldr	r3, [r7, #4]
 5397 00ee 0022     		movs	r2, #0
 5398 00f0 9A61     		str	r2, [r3, #24]
1537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Clear any pending interrupts */
1539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 5399              		.loc 1 1539 17
 5400 00f2 7B68     		ldr	r3, [r7, #4]
 5401 00f4 4FF0FF32 		mov	r2, #-1
 5402 00f8 5A61     		str	r2, [r3, #20]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 122


1540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 5403              		.loc 1 1541 12
 5404 00fa 7B68     		ldr	r3, [r7, #4]
 5405 00fc DB6B     		ldr	r3, [r3, #60]
 5406              		.loc 1 1541 18
 5407 00fe 03F48073 		and	r3, r3, #256
 5408              		.loc 1 1541 6
 5409 0102 002B     		cmp	r3, #0
 5410 0104 0BD0     		beq	.L235
1542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* set Rx FIFO size */
1544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x200U;
 5411              		.loc 1 1544 20
 5412 0106 7B68     		ldr	r3, [r7, #4]
 5413 0108 4FF40072 		mov	r2, #512
 5414 010c 5A62     		str	r2, [r3, #36]
1545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x100U << 16) & USB_OTG_NPTXFD) | 0x200U);
 5415              		.loc 1 1545 30
 5416 010e 7B68     		ldr	r3, [r7, #4]
 5417 0110 134A     		ldr	r2, .L239
 5418 0112 9A62     		str	r2, [r3, #40]
1546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0xE0U << 16) & USB_OTG_HPTXFSIZ_PTXFD) | 0x300U);
 5419              		.loc 1 1546 20
 5420 0114 7B68     		ldr	r3, [r7, #4]
 5421 0116 134A     		ldr	r2, .L239+4
 5422 0118 C3F80021 		str	r2, [r3, #256]
 5423 011c 09E0     		b	.L236
 5424              	.L235:
1547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
1549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* set Rx FIFO size */
1551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x80U;
 5425              		.loc 1 1551 20
 5426 011e 7B68     		ldr	r3, [r7, #4]
 5427 0120 8022     		movs	r2, #128
 5428 0122 5A62     		str	r2, [r3, #36]
1552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x60U << 16) & USB_OTG_NPTXFD) | 0x80U);
 5429              		.loc 1 1552 30
 5430 0124 7B68     		ldr	r3, [r7, #4]
 5431 0126 104A     		ldr	r2, .L239+8
 5432 0128 9A62     		str	r2, [r3, #40]
1553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0x40U << 16)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 5433              		.loc 1 1553 20
 5434 012a 7B68     		ldr	r3, [r7, #4]
 5435 012c 0F4A     		ldr	r2, .L239+12
 5436 012e C3F80021 		str	r2, [r3, #256]
 5437              	.L236:
1554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Enable the common interrupts */
1557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 5438              		.loc 1 1557 10
 5439 0132 3B6B     		ldr	r3, [r7, #48]
 5440              		.loc 1 1557 6
 5441 0134 002B     		cmp	r3, #0
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 123


 5442 0136 05D1     		bne	.L237
1558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 5443              		.loc 1 1559 19
 5444 0138 7B68     		ldr	r3, [r7, #4]
 5445 013a 9B69     		ldr	r3, [r3, #24]
 5446 013c 43F01002 		orr	r2, r3, #16
 5447 0140 7B68     		ldr	r3, [r7, #4]
 5448 0142 9A61     		str	r2, [r3, #24]
 5449              	.L237:
1560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM | \
 5450              		.loc 1 1563 17
 5451 0144 7B68     		ldr	r3, [r7, #4]
 5452 0146 9A69     		ldr	r2, [r3, #24]
 5453 0148 094B     		ldr	r3, .L239+16
 5454 014a 1343     		orrs	r3, r3, r2
 5455 014c 7A68     		ldr	r2, [r7, #4]
 5456 014e 9361     		str	r3, [r2, #24]
1564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             | USB_OTG_GINTSTS_DISCINT | \
1565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ret;
 5457              		.loc 1 1567 10
 5458 0150 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 5459              		.loc 1 1568 1
 5460 0152 1846     		mov	r0, r3
 5461 0154 1837     		adds	r7, r7, #24
 5462              	.LCFI215:
 5463              		.cfi_def_cfa_offset 24
 5464 0156 BD46     		mov	sp, r7
 5465              	.LCFI216:
 5466              		.cfi_def_cfa_register 13
 5467              		@ sp needed
 5468 0158 BDE88040 		pop	{r7, lr}
 5469              	.LCFI217:
 5470              		.cfi_restore 14
 5471              		.cfi_restore 7
 5472              		.cfi_def_cfa_offset 16
 5473 015c 04B0     		add	sp, sp, #16
 5474              	.LCFI218:
 5475              		.cfi_def_cfa_offset 0
 5476 015e 7047     		bx	lr
 5477              	.L240:
 5478              		.align	2
 5479              	.L239:
 5480 0160 00020001 		.word	16777728
 5481 0164 0003E000 		.word	14680832
 5482 0168 80006000 		.word	6291584
 5483 016c E0004000 		.word	4194528
 5484 0170 080020A3 		.word	-1558183928
 5485              		.cfi_endproc
 5486              	.LFE179:
 5488              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 124


 5489              		.align	1
 5490              		.global	USB_InitFSLSPClkSel
 5491              		.syntax unified
 5492              		.thumb
 5493              		.thumb_func
 5495              	USB_InitFSLSPClkSel:
 5496              	.LFB180:
1569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the
1572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  freq  clock frequency
1575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
1576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock
1577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock
1578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx, uint8_t freq)
1581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 5497              		.loc 1 1581 1
 5498              		.cfi_startproc
 5499              		@ args = 0, pretend = 0, frame = 16
 5500              		@ frame_needed = 1, uses_anonymous_args = 0
 5501              		@ link register save eliminated.
 5502 0000 80B4     		push	{r7}
 5503              	.LCFI219:
 5504              		.cfi_def_cfa_offset 4
 5505              		.cfi_offset 7, -4
 5506 0002 85B0     		sub	sp, sp, #20
 5507              	.LCFI220:
 5508              		.cfi_def_cfa_offset 24
 5509 0004 00AF     		add	r7, sp, #0
 5510              	.LCFI221:
 5511              		.cfi_def_cfa_register 7
 5512 0006 7860     		str	r0, [r7, #4]
 5513 0008 0B46     		mov	r3, r1
 5514 000a FB70     		strb	r3, [r7, #3]
1582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5515              		.loc 1 1582 12
 5516 000c 7B68     		ldr	r3, [r7, #4]
 5517 000e FB60     		str	r3, [r7, #12]
1583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
 5518              		.loc 1 1584 19
 5519 0010 FB68     		ldr	r3, [r7, #12]
 5520 0012 03F58063 		add	r3, r3, #1024
 5521 0016 1B68     		ldr	r3, [r3]
 5522 0018 FA68     		ldr	r2, [r7, #12]
 5523 001a 02F58062 		add	r2, r2, #1024
 5524 001e 23F00303 		bic	r3, r3, #3
 5525 0022 1360     		str	r3, [r2]
1585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HOST->HCFG |= (uint32_t)freq & USB_OTG_HCFG_FSLSPCS;
 5526              		.loc 1 1585 19
 5527 0024 FB68     		ldr	r3, [r7, #12]
 5528 0026 03F58063 		add	r3, r3, #1024
 5529 002a 1A68     		ldr	r2, [r3]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 125


 5530              		.loc 1 1585 37
 5531 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5532 002e 03F00303 		and	r3, r3, #3
 5533              		.loc 1 1585 19
 5534 0032 F968     		ldr	r1, [r7, #12]
 5535 0034 01F58061 		add	r1, r1, #1024
 5536 0038 1343     		orrs	r3, r3, r2
 5537 003a 0B60     		str	r3, [r1]
1586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (freq == HCFG_48_MHZ)
 5538              		.loc 1 1587 6
 5539 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5540 003e 012B     		cmp	r3, #1
 5541 0040 07D1     		bne	.L242
1588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HOST->HFIR = 48000U;
 5542              		.loc 1 1589 5
 5543 0042 FB68     		ldr	r3, [r7, #12]
 5544 0044 03F58063 		add	r3, r3, #1024
 5545 0048 1A46     		mov	r2, r3
 5546              		.loc 1 1589 21
 5547 004a 4BF68033 		movw	r3, #48000
 5548 004e 5360     		str	r3, [r2, #4]
 5549 0050 09E0     		b	.L243
 5550              	.L242:
1590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else if (freq == HCFG_6_MHZ)
 5551              		.loc 1 1591 11
 5552 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5553 0054 022B     		cmp	r3, #2
 5554 0056 06D1     		bne	.L243
1592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HOST->HFIR = 6000U;
 5555              		.loc 1 1593 5
 5556 0058 FB68     		ldr	r3, [r7, #12]
 5557 005a 03F58063 		add	r3, r3, #1024
 5558 005e 1A46     		mov	r2, r3
 5559              		.loc 1 1593 21
 5560 0060 41F27073 		movw	r3, #6000
 5561 0064 5360     		str	r3, [r2, #4]
 5562              	.L243:
1594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
1596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* ... */
1598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 5563              		.loc 1 1600 10
 5564 0066 0023     		movs	r3, #0
1601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 5565              		.loc 1 1601 1
 5566 0068 1846     		mov	r0, r3
 5567 006a 1437     		adds	r7, r7, #20
 5568              	.LCFI222:
 5569              		.cfi_def_cfa_offset 4
 5570 006c BD46     		mov	sp, r7
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 126


 5571              	.LCFI223:
 5572              		.cfi_def_cfa_register 13
 5573              		@ sp needed
 5574 006e 5DF8047B 		ldr	r7, [sp], #4
 5575              	.LCFI224:
 5576              		.cfi_restore 7
 5577              		.cfi_def_cfa_offset 0
 5578 0072 7047     		bx	lr
 5579              		.cfi_endproc
 5580              	.LFE180:
 5582              		.section	.text.USB_ResetPort,"ax",%progbits
 5583              		.align	1
 5584              		.global	USB_ResetPort
 5585              		.syntax unified
 5586              		.thumb
 5587              		.thumb_func
 5589              	USB_ResetPort:
 5590              	.LFB181:
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_OTG_ResetPort : Reset Host Port
1605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @note (1)The application must wait at least 10 ms
1608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *   before clearing the reset bit.
1609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 5591              		.loc 1 1611 1
 5592              		.cfi_startproc
 5593              		@ args = 0, pretend = 0, frame = 16
 5594              		@ frame_needed = 1, uses_anonymous_args = 0
 5595 0000 80B5     		push	{r7, lr}
 5596              	.LCFI225:
 5597              		.cfi_def_cfa_offset 8
 5598              		.cfi_offset 7, -8
 5599              		.cfi_offset 14, -4
 5600 0002 84B0     		sub	sp, sp, #16
 5601              	.LCFI226:
 5602              		.cfi_def_cfa_offset 24
 5603 0004 00AF     		add	r7, sp, #0
 5604              	.LCFI227:
 5605              		.cfi_def_cfa_register 7
 5606 0006 7860     		str	r0, [r7, #4]
1612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5607              		.loc 1 1612 12
 5608 0008 7B68     		ldr	r3, [r7, #4]
 5609 000a FB60     		str	r3, [r7, #12]
1613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5610              		.loc 1 1614 17
 5611 000c 0023     		movs	r3, #0
 5612 000e BB60     		str	r3, [r7, #8]
1615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5613              		.loc 1 1616 11
 5614 0010 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 127


 5615 0012 03F58863 		add	r3, r3, #1088
 5616 0016 1B68     		ldr	r3, [r3]
 5617              		.loc 1 1616 9
 5618 0018 BB60     		str	r3, [r7, #8]
1617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5619              		.loc 1 1618 9
 5620 001a BB68     		ldr	r3, [r7, #8]
 5621 001c 23F02E03 		bic	r3, r3, #46
 5622 0020 BB60     		str	r3, [r7, #8]
1619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);
 5623              		.loc 1 1621 35
 5624 0022 BB68     		ldr	r3, [r7, #8]
 5625              		.loc 1 1621 3
 5626 0024 FA68     		ldr	r2, [r7, #12]
 5627 0026 02F58862 		add	r2, r2, #1088
 5628              		.loc 1 1621 35
 5629 002a 43F48073 		orr	r3, r3, #256
 5630              		.loc 1 1621 14
 5631 002e 1360     		str	r3, [r2]
1622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   HAL_Delay(100U);                                 /* See Note #1 */
 5632              		.loc 1 1622 3
 5633 0030 6420     		movs	r0, #100
 5634 0032 FFF7FEFF 		bl	HAL_Delay
1623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0);
 5635              		.loc 1 1623 38
 5636 0036 BB68     		ldr	r3, [r7, #8]
 5637              		.loc 1 1623 3
 5638 0038 FA68     		ldr	r2, [r7, #12]
 5639 003a 02F58862 		add	r2, r2, #1088
 5640              		.loc 1 1623 38
 5641 003e 23F48073 		bic	r3, r3, #256
 5642              		.loc 1 1623 14
 5643 0042 1360     		str	r3, [r2]
1624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   HAL_Delay(10U);
 5644              		.loc 1 1624 3
 5645 0044 0A20     		movs	r0, #10
 5646 0046 FFF7FEFF 		bl	HAL_Delay
1625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 5647              		.loc 1 1626 10
 5648 004a 0023     		movs	r3, #0
1627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 5649              		.loc 1 1627 1
 5650 004c 1846     		mov	r0, r3
 5651 004e 1037     		adds	r7, r7, #16
 5652              	.LCFI228:
 5653              		.cfi_def_cfa_offset 8
 5654 0050 BD46     		mov	sp, r7
 5655              	.LCFI229:
 5656              		.cfi_def_cfa_register 13
 5657              		@ sp needed
 5658 0052 80BD     		pop	{r7, pc}
 5659              		.cfi_endproc
 5660              	.LFE181:
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 128


 5662              		.section	.text.USB_DriveVbus,"ax",%progbits
 5663              		.align	1
 5664              		.global	USB_DriveVbus
 5665              		.syntax unified
 5666              		.thumb
 5667              		.thumb_func
 5669              	USB_DriveVbus:
 5670              	.LFB182:
1628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  state  VBUS state
1632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
1633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           0 : Deactivate VBUS
1634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           1 : Activate VBUS
1635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
1636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus(USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 5671              		.loc 1 1638 1
 5672              		.cfi_startproc
 5673              		@ args = 0, pretend = 0, frame = 16
 5674              		@ frame_needed = 1, uses_anonymous_args = 0
 5675              		@ link register save eliminated.
 5676 0000 80B4     		push	{r7}
 5677              	.LCFI230:
 5678              		.cfi_def_cfa_offset 4
 5679              		.cfi_offset 7, -4
 5680 0002 85B0     		sub	sp, sp, #20
 5681              	.LCFI231:
 5682              		.cfi_def_cfa_offset 24
 5683 0004 00AF     		add	r7, sp, #0
 5684              	.LCFI232:
 5685              		.cfi_def_cfa_register 7
 5686 0006 7860     		str	r0, [r7, #4]
 5687 0008 0B46     		mov	r3, r1
 5688 000a FB70     		strb	r3, [r7, #3]
1639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5689              		.loc 1 1639 12
 5690 000c 7B68     		ldr	r3, [r7, #4]
 5691 000e FB60     		str	r3, [r7, #12]
1640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5692              		.loc 1 1640 17
 5693 0010 0023     		movs	r3, #0
 5694 0012 BB60     		str	r3, [r7, #8]
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5695              		.loc 1 1642 11
 5696 0014 FB68     		ldr	r3, [r7, #12]
 5697 0016 03F58863 		add	r3, r3, #1088
 5698 001a 1B68     		ldr	r3, [r3]
 5699              		.loc 1 1642 9
 5700 001c BB60     		str	r3, [r7, #8]
1643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5701              		.loc 1 1644 9
 5702 001e BB68     		ldr	r3, [r7, #8]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 129


 5703 0020 23F02E03 		bic	r3, r3, #46
 5704 0024 BB60     		str	r3, [r7, #8]
1645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 5705              		.loc 1 1647 15
 5706 0026 BB68     		ldr	r3, [r7, #8]
 5707 0028 03F48053 		and	r3, r3, #4096
 5708              		.loc 1 1647 6
 5709 002c 002B     		cmp	r3, #0
 5710 002e 09D1     		bne	.L248
 5711              		.loc 1 1647 43 discriminator 1
 5712 0030 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5713 0032 012B     		cmp	r3, #1
 5714 0034 06D1     		bne	.L248
1648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0);
 5715              		.loc 1 1649 37
 5716 0036 BB68     		ldr	r3, [r7, #8]
 5717              		.loc 1 1649 5
 5718 0038 FA68     		ldr	r2, [r7, #12]
 5719 003a 02F58862 		add	r2, r2, #1088
 5720              		.loc 1 1649 37
 5721 003e 43F48053 		orr	r3, r3, #4096
 5722              		.loc 1 1649 16
 5723 0042 1360     		str	r3, [r2]
 5724              	.L248:
1650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 5725              		.loc 1 1651 15
 5726 0044 BB68     		ldr	r3, [r7, #8]
 5727 0046 03F48053 		and	r3, r3, #4096
 5728              		.loc 1 1651 6
 5729 004a B3F5805F 		cmp	r3, #4096
 5730 004e 09D1     		bne	.L249
 5731              		.loc 1 1651 58 discriminator 1
 5732 0050 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5733 0052 002B     		cmp	r3, #0
 5734 0054 06D1     		bne	.L249
1652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0);
 5735              		.loc 1 1653 40
 5736 0056 BB68     		ldr	r3, [r7, #8]
 5737              		.loc 1 1653 5
 5738 0058 FA68     		ldr	r2, [r7, #12]
 5739 005a 02F58862 		add	r2, r2, #1088
 5740              		.loc 1 1653 40
 5741 005e 23F48053 		bic	r3, r3, #4096
 5742              		.loc 1 1653 16
 5743 0062 1360     		str	r3, [r2]
 5744              	.L249:
1654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 5745              		.loc 1 1655 10
 5746 0064 0023     		movs	r3, #0
1656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 5747              		.loc 1 1656 1
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 130


 5748 0066 1846     		mov	r0, r3
 5749 0068 1437     		adds	r7, r7, #20
 5750              	.LCFI233:
 5751              		.cfi_def_cfa_offset 4
 5752 006a BD46     		mov	sp, r7
 5753              	.LCFI234:
 5754              		.cfi_def_cfa_register 13
 5755              		@ sp needed
 5756 006c 5DF8047B 		ldr	r7, [sp], #4
 5757              	.LCFI235:
 5758              		.cfi_restore 7
 5759              		.cfi_def_cfa_offset 0
 5760 0070 7047     		bx	lr
 5761              		.cfi_endproc
 5762              	.LFE182:
 5764              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 5765              		.align	1
 5766              		.global	USB_GetHostSpeed
 5767              		.syntax unified
 5768              		.thumb
 5769              		.thumb_func
 5771              	USB_GetHostSpeed:
 5772              	.LFB183:
1657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Return Host Core speed
1660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval speed : Host speed
1662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
1663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg HCD_SPEED_HIGH: High speed mode
1664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg HCD_SPEED_FULL: Full speed mode
1665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg HCD_SPEED_LOW: Low speed mode
1666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** uint32_t USB_GetHostSpeed(USB_OTG_GlobalTypeDef *USBx)
1668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 5773              		.loc 1 1668 1
 5774              		.cfi_startproc
 5775              		@ args = 0, pretend = 0, frame = 16
 5776              		@ frame_needed = 1, uses_anonymous_args = 0
 5777              		@ link register save eliminated.
 5778 0000 80B4     		push	{r7}
 5779              	.LCFI236:
 5780              		.cfi_def_cfa_offset 4
 5781              		.cfi_offset 7, -4
 5782 0002 85B0     		sub	sp, sp, #20
 5783              	.LCFI237:
 5784              		.cfi_def_cfa_offset 24
 5785 0004 00AF     		add	r7, sp, #0
 5786              	.LCFI238:
 5787              		.cfi_def_cfa_register 7
 5788 0006 7860     		str	r0, [r7, #4]
1669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5789              		.loc 1 1669 12
 5790 0008 7B68     		ldr	r3, [r7, #4]
 5791 000a FB60     		str	r3, [r7, #12]
1670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5792              		.loc 1 1670 17
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 131


 5793 000c 0023     		movs	r3, #0
 5794 000e BB60     		str	r3, [r7, #8]
1671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5795              		.loc 1 1672 11
 5796 0010 FB68     		ldr	r3, [r7, #12]
 5797 0012 03F58863 		add	r3, r3, #1088
 5798 0016 1B68     		ldr	r3, [r3]
 5799              		.loc 1 1672 9
 5800 0018 BB60     		str	r3, [r7, #8]
1673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17);
 5801              		.loc 1 1673 39
 5802 001a BB68     		ldr	r3, [r7, #8]
 5803 001c 5B0C     		lsrs	r3, r3, #17
 5804 001e 03F00303 		and	r3, r3, #3
1674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 5805              		.loc 1 1674 1
 5806 0022 1846     		mov	r0, r3
 5807 0024 1437     		adds	r7, r7, #20
 5808              	.LCFI239:
 5809              		.cfi_def_cfa_offset 4
 5810 0026 BD46     		mov	sp, r7
 5811              	.LCFI240:
 5812              		.cfi_def_cfa_register 13
 5813              		@ sp needed
 5814 0028 5DF8047B 		ldr	r7, [sp], #4
 5815              	.LCFI241:
 5816              		.cfi_restore 7
 5817              		.cfi_def_cfa_offset 0
 5818 002c 7047     		bx	lr
 5819              		.cfi_endproc
 5820              	.LFE183:
 5822              		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 5823              		.align	1
 5824              		.global	USB_GetCurrentFrame
 5825              		.syntax unified
 5826              		.thumb
 5827              		.thumb_func
 5829              	USB_GetCurrentFrame:
 5830              	.LFB184:
1675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval current frame number
1680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** uint32_t USB_GetCurrentFrame(USB_OTG_GlobalTypeDef *USBx)
1682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 5831              		.loc 1 1682 1
 5832              		.cfi_startproc
 5833              		@ args = 0, pretend = 0, frame = 16
 5834              		@ frame_needed = 1, uses_anonymous_args = 0
 5835              		@ link register save eliminated.
 5836 0000 80B4     		push	{r7}
 5837              	.LCFI242:
 5838              		.cfi_def_cfa_offset 4
 5839              		.cfi_offset 7, -4
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 132


 5840 0002 85B0     		sub	sp, sp, #20
 5841              	.LCFI243:
 5842              		.cfi_def_cfa_offset 24
 5843 0004 00AF     		add	r7, sp, #0
 5844              	.LCFI244:
 5845              		.cfi_def_cfa_register 7
 5846 0006 7860     		str	r0, [r7, #4]
1683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5847              		.loc 1 1683 12
 5848 0008 7B68     		ldr	r3, [r7, #4]
 5849 000a FB60     		str	r3, [r7, #12]
1684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 5850              		.loc 1 1685 11
 5851 000c FB68     		ldr	r3, [r7, #12]
 5852 000e 03F58063 		add	r3, r3, #1024
 5853              		.loc 1 1685 20
 5854 0012 9B68     		ldr	r3, [r3, #8]
 5855              		.loc 1 1685 28
 5856 0014 9BB2     		uxth	r3, r3
1686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 5857              		.loc 1 1686 1
 5858 0016 1846     		mov	r0, r3
 5859 0018 1437     		adds	r7, r7, #20
 5860              	.LCFI245:
 5861              		.cfi_def_cfa_offset 4
 5862 001a BD46     		mov	sp, r7
 5863              	.LCFI246:
 5864              		.cfi_def_cfa_register 13
 5865              		@ sp needed
 5866 001c 5DF8047B 		ldr	r7, [sp], #4
 5867              	.LCFI247:
 5868              		.cfi_restore 7
 5869              		.cfi_def_cfa_offset 0
 5870 0020 7047     		bx	lr
 5871              		.cfi_endproc
 5872              	.LFE184:
 5874              		.section	.text.USB_HC_Init,"ax",%progbits
 5875              		.align	1
 5876              		.global	USB_HC_Init
 5877              		.syntax unified
 5878              		.thumb
 5879              		.thumb_func
 5881              	USB_HC_Init:
 5882              	.LFB185:
1687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Initialize a host channel
1690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  ch_num  Channel number
1692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  epnum  Endpoint number
1694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  dev_address  Current device address
1696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  speed  Current device speed
1698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 133


1699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
1704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  mps  Max Packet Size
1709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be a value from 0 to 32K
1710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL state
1711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num,
1713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                               uint8_t epnum, uint8_t dev_address, uint8_t speed,
1714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                               uint8_t ep_type, uint16_t mps)
1715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 5883              		.loc 1 1715 1
 5884              		.cfi_startproc
 5885              		@ args = 12, pretend = 0, frame = 32
 5886              		@ frame_needed = 1, uses_anonymous_args = 0
 5887 0000 80B5     		push	{r7, lr}
 5888              	.LCFI248:
 5889              		.cfi_def_cfa_offset 8
 5890              		.cfi_offset 7, -8
 5891              		.cfi_offset 14, -4
 5892 0002 88B0     		sub	sp, sp, #32
 5893              	.LCFI249:
 5894              		.cfi_def_cfa_offset 40
 5895 0004 00AF     		add	r7, sp, #0
 5896              	.LCFI250:
 5897              		.cfi_def_cfa_register 7
 5898 0006 7860     		str	r0, [r7, #4]
 5899 0008 0846     		mov	r0, r1
 5900 000a 1146     		mov	r1, r2
 5901 000c 1A46     		mov	r2, r3
 5902 000e 0346     		mov	r3, r0
 5903 0010 FB70     		strb	r3, [r7, #3]
 5904 0012 0B46     		mov	r3, r1
 5905 0014 BB70     		strb	r3, [r7, #2]
 5906 0016 1346     		mov	r3, r2
 5907 0018 7B70     		strb	r3, [r7, #1]
1716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 5908              		.loc 1 1716 21
 5909 001a 0023     		movs	r3, #0
 5910 001c FB77     		strb	r3, [r7, #31]
1717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5911              		.loc 1 1717 12
 5912 001e 7B68     		ldr	r3, [r7, #4]
 5913 0020 3B61     		str	r3, [r7, #16]
1718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t HCcharEpDir;
1719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t HCcharLowSpeed;
1720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t HostCoreSpeed;
1721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINT = 0xFFFFFFFFU;
 5914              		.loc 1 1723 3
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 134


 5915 0022 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5916 0024 5A01     		lsls	r2, r3, #5
 5917 0026 3B69     		ldr	r3, [r7, #16]
 5918 0028 1344     		add	r3, r3, r2
 5919 002a 03F5A063 		add	r3, r3, #1280
 5920 002e 1A46     		mov	r2, r3
 5921              		.loc 1 1723 36
 5922 0030 4FF0FF33 		mov	r3, #-1
 5923 0034 9360     		str	r3, [r2, #8]
1724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   switch (ep_type)
 5924              		.loc 1 1726 3
 5925 0036 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 5926 003a 032B     		cmp	r3, #3
 5927 003c 7ED8     		bhi	.L256
 5928 003e 01A2     		adr	r2, .L258
 5929 0040 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5930              		.p2align 2
 5931              	.L258:
 5932 0044 55000000 		.word	.L259+1
 5933 0048 FF000000 		.word	.L260+1
 5934 004c 55000000 		.word	.L259+1
 5935 0050 C1000000 		.word	.L257+1
 5936              		.p2align 1
 5937              	.L259:
1727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     case EP_TYPE_CTRL:
1729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     case EP_TYPE_BULK:
1730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5938              		.loc 1 1730 7
 5939 0054 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5940 0056 5A01     		lsls	r2, r3, #5
 5941 0058 3B69     		ldr	r3, [r7, #16]
 5942 005a 1344     		add	r3, r3, r2
 5943 005c 03F5A063 		add	r3, r3, #1280
 5944 0060 1A46     		mov	r2, r3
 5945              		.loc 1 1730 43
 5946 0062 40F29D43 		movw	r3, #1181
 5947 0066 D360     		str	r3, [r2, #12]
1731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM;
1736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5948              		.loc 1 1737 27
 5949 0068 97F90230 		ldrsb	r3, [r7, #2]
 5950              		.loc 1 1737 10
 5951 006c 002B     		cmp	r3, #0
 5952 006e 10DA     		bge	.L261
1738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
1739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5953              		.loc 1 1739 45
 5954 0070 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5955 0072 5A01     		lsls	r2, r3, #5
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 135


 5956 0074 3B69     		ldr	r3, [r7, #16]
 5957 0076 1344     		add	r3, r3, r2
 5958 0078 03F5A063 		add	r3, r3, #1280
 5959 007c DB68     		ldr	r3, [r3, #12]
 5960 007e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5961 0080 5101     		lsls	r1, r2, #5
 5962 0082 3A69     		ldr	r2, [r7, #16]
 5963 0084 0A44     		add	r2, r2, r1
 5964 0086 02F5A062 		add	r2, r2, #1280
 5965 008a 43F48073 		orr	r3, r3, #256
 5966 008e D360     		str	r3, [r2, #12]
1740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
1741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       else
1742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
1743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         if ((USBx->CID & (0x1U << 8)) != 0U)
1744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
1745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_NYET |
1746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                                  USB_OTG_HCINTMSK_ACKM;
1747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
1748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
1749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       break;
 5967              		.loc 1 1749 7
 5968 0090 57E0     		b	.L273
 5969              	.L261:
1743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
 5970              		.loc 1 1743 18
 5971 0092 7B68     		ldr	r3, [r7, #4]
 5972 0094 DB6B     		ldr	r3, [r3, #60]
1743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
 5973              		.loc 1 1743 24
 5974 0096 03F48073 		and	r3, r3, #256
1743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
 5975              		.loc 1 1743 12
 5976 009a 002B     		cmp	r3, #0
 5977 009c 51D0     		beq	.L273
1745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                                  USB_OTG_HCINTMSK_ACKM;
 5978              		.loc 1 1745 47
 5979 009e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5980 00a0 5A01     		lsls	r2, r3, #5
 5981 00a2 3B69     		ldr	r3, [r7, #16]
 5982 00a4 1344     		add	r3, r3, r2
 5983 00a6 03F5A063 		add	r3, r3, #1280
 5984 00aa DB68     		ldr	r3, [r3, #12]
 5985 00ac FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5986 00ae 5101     		lsls	r1, r2, #5
 5987 00b0 3A69     		ldr	r2, [r7, #16]
 5988 00b2 0A44     		add	r2, r2, r1
 5989 00b4 02F5A062 		add	r2, r2, #1280
 5990 00b8 43F06003 		orr	r3, r3, #96
 5991 00bc D360     		str	r3, [r2, #12]
 5992              		.loc 1 1749 7
 5993 00be 40E0     		b	.L273
 5994              	.L257:
1750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     case EP_TYPE_INTR:
1752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5995              		.loc 1 1752 7
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 136


 5996 00c0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5997 00c2 5A01     		lsls	r2, r3, #5
 5998 00c4 3B69     		ldr	r3, [r7, #16]
 5999 00c6 1344     		add	r3, r3, r2
 6000 00c8 03F5A063 		add	r3, r3, #1280
 6001 00cc 1A46     		mov	r2, r3
 6002              		.loc 1 1752 43
 6003 00ce 40F29D63 		movw	r3, #1693
 6004 00d2 D360     		str	r3, [r2, #12]
1753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM   |
1757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 6005              		.loc 1 1760 27
 6006 00d4 97F90230 		ldrsb	r3, [r7, #2]
 6007              		.loc 1 1760 10
 6008 00d8 002B     		cmp	r3, #0
 6009 00da 34DA     		bge	.L274
1761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
1762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 6010              		.loc 1 1762 45
 6011 00dc FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6012 00de 5A01     		lsls	r2, r3, #5
 6013 00e0 3B69     		ldr	r3, [r7, #16]
 6014 00e2 1344     		add	r3, r3, r2
 6015 00e4 03F5A063 		add	r3, r3, #1280
 6016 00e8 DB68     		ldr	r3, [r3, #12]
 6017 00ea FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6018 00ec 5101     		lsls	r1, r2, #5
 6019 00ee 3A69     		ldr	r2, [r7, #16]
 6020 00f0 0A44     		add	r2, r2, r1
 6021 00f2 02F5A062 		add	r2, r2, #1280
 6022 00f6 43F48073 		orr	r3, r3, #256
 6023 00fa D360     		str	r3, [r2, #12]
1763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
1764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       break;
 6024              		.loc 1 1765 7
 6025 00fc 23E0     		b	.L274
 6026              	.L260:
1766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     case EP_TYPE_ISOC:
1768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 6027              		.loc 1 1768 7
 6028 00fe FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6029 0100 5A01     		lsls	r2, r3, #5
 6030 0102 3B69     		ldr	r3, [r7, #16]
 6031 0104 1344     		add	r3, r3, r2
 6032 0106 03F5A063 		add	r3, r3, #1280
 6033 010a 1A46     		mov	r2, r3
 6034              		.loc 1 1768 43
 6035 010c 40F22523 		movw	r3, #549
 6036 0110 D360     		str	r3, [r2, #12]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 137


1769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_ACKM   |
1770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 6037              		.loc 1 1773 27
 6038 0112 97F90230 		ldrsb	r3, [r7, #2]
 6039              		.loc 1 1773 10
 6040 0116 002B     		cmp	r3, #0
 6041 0118 17DA     		bge	.L275
1774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
1775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);
 6042              		.loc 1 1775 45
 6043 011a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6044 011c 5A01     		lsls	r2, r3, #5
 6045 011e 3B69     		ldr	r3, [r7, #16]
 6046 0120 1344     		add	r3, r3, r2
 6047 0122 03F5A063 		add	r3, r3, #1280
 6048 0126 DB68     		ldr	r3, [r3, #12]
 6049 0128 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6050 012a 5101     		lsls	r1, r2, #5
 6051 012c 3A69     		ldr	r2, [r7, #16]
 6052 012e 0A44     		add	r2, r2, r1
 6053 0130 02F5A062 		add	r2, r2, #1280
 6054 0134 43F4C073 		orr	r3, r3, #384
 6055 0138 D360     		str	r3, [r2, #12]
1776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
1777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       break;
 6056              		.loc 1 1777 7
 6057 013a 06E0     		b	.L275
 6058              	.L256:
1778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     default:
1780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       ret = HAL_ERROR;
 6059              		.loc 1 1780 11
 6060 013c 0123     		movs	r3, #1
 6061 013e FB77     		strb	r3, [r7, #31]
1781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       break;
 6062              		.loc 1 1781 7
 6063 0140 04E0     		b	.L263
 6064              	.L273:
1749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 6065              		.loc 1 1749 7
 6066 0142 00BF     		nop
 6067 0144 02E0     		b	.L263
 6068              	.L274:
1765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 6069              		.loc 1 1765 7
 6070 0146 00BF     		nop
 6071 0148 00E0     		b	.L263
 6072              	.L275:
1777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 6073              		.loc 1 1777 7
 6074 014a 00BF     		nop
 6075              	.L263:
1782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 138


1784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Enable host channel Halt interrupt */
1785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_CHHM;
 6076              		.loc 1 1785 39
 6077 014c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6078 014e 5A01     		lsls	r2, r3, #5
 6079 0150 3B69     		ldr	r3, [r7, #16]
 6080 0152 1344     		add	r3, r3, r2
 6081 0154 03F5A063 		add	r3, r3, #1280
 6082 0158 DB68     		ldr	r3, [r3, #12]
 6083 015a FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6084 015c 5101     		lsls	r1, r2, #5
 6085 015e 3A69     		ldr	r2, [r7, #16]
 6086 0160 0A44     		add	r2, r2, r1
 6087 0162 02F5A062 		add	r2, r2, #1280
 6088 0166 43F00203 		orr	r3, r3, #2
 6089 016a D360     		str	r3, [r2, #12]
1786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= 1UL << (ch_num & 0xFU);
 6090              		.loc 1 1788 23
 6091 016c 3B69     		ldr	r3, [r7, #16]
 6092 016e 03F58063 		add	r3, r3, #1024
 6093 0172 9A69     		ldr	r2, [r3, #24]
 6094              		.loc 1 1788 41
 6095 0174 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6096 0176 03F00F03 		and	r3, r3, #15
 6097              		.loc 1 1788 30
 6098 017a 0121     		movs	r1, #1
 6099 017c 01FA03F3 		lsl	r3, r1, r3
 6100              		.loc 1 1788 23
 6101 0180 3969     		ldr	r1, [r7, #16]
 6102 0182 01F58061 		add	r1, r1, #1024
 6103 0186 1343     		orrs	r3, r3, r2
 6104 0188 8B61     		str	r3, [r1, #24]
1789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 6105              		.loc 1 1791 17
 6106 018a 7B68     		ldr	r3, [r7, #4]
 6107 018c 9B69     		ldr	r3, [r3, #24]
 6108 018e 43F00072 		orr	r2, r3, #33554432
 6109 0192 7B68     		ldr	r3, [r7, #4]
 6110 0194 9A61     		str	r2, [r3, #24]
1792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Program the HCCHAR register */
1794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if ((epnum & 0x80U) == 0x80U)
 6111              		.loc 1 1794 23
 6112 0196 97F90230 		ldrsb	r3, [r7, #2]
 6113              		.loc 1 1794 6
 6114 019a 002B     		cmp	r3, #0
 6115 019c 03DA     		bge	.L266
1795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     HCcharEpDir = (0x1U << 15) & USB_OTG_HCCHAR_EPDIR;
 6116              		.loc 1 1796 17
 6117 019e 4FF40043 		mov	r3, #32768
 6118 01a2 BB61     		str	r3, [r7, #24]
 6119 01a4 01E0     		b	.L267
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 139


 6120              	.L266:
1797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
1799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     HCcharEpDir = 0U;
 6121              		.loc 1 1800 17
 6122 01a6 0023     		movs	r3, #0
 6123 01a8 BB61     		str	r3, [r7, #24]
 6124              	.L267:
1801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   HostCoreSpeed = USB_GetHostSpeed(USBx);
 6125              		.loc 1 1803 19
 6126 01aa 7868     		ldr	r0, [r7, #4]
 6127 01ac FFF7FEFF 		bl	USB_GetHostSpeed
 6128 01b0 F860     		str	r0, [r7, #12]
1804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* LS device plugged to HUB */
1806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if ((speed == HPRT0_PRTSPD_LOW_SPEED) && (HostCoreSpeed != HPRT0_PRTSPD_LOW_SPEED))
 6129              		.loc 1 1806 6
 6130 01b2 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 6131 01b6 022B     		cmp	r3, #2
 6132 01b8 06D1     		bne	.L268
 6133              		.loc 1 1806 41 discriminator 1
 6134 01ba FB68     		ldr	r3, [r7, #12]
 6135 01bc 022B     		cmp	r3, #2
 6136 01be 03D0     		beq	.L268
1807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     HCcharLowSpeed = (0x1U << 17) & USB_OTG_HCCHAR_LSDEV;
 6137              		.loc 1 1808 20
 6138 01c0 4FF40033 		mov	r3, #131072
 6139 01c4 7B61     		str	r3, [r7, #20]
 6140 01c6 01E0     		b	.L269
 6141              	.L268:
1809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
1811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     HCcharLowSpeed = 0U;
 6142              		.loc 1 1812 20
 6143 01c8 0023     		movs	r3, #0
 6144 01ca 7B61     		str	r3, [r7, #20]
 6145              	.L269:
1813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCCHAR = (((uint32_t)dev_address << 22) & USB_OTG_HCCHAR_DAD) |
 6146              		.loc 1 1815 41
 6147 01cc 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 6148              		.loc 1 1815 63
 6149 01ce 9B05     		lsls	r3, r3, #22
 6150              		.loc 1 1815 70
 6151 01d0 03F0FE52 		and	r2, r3, #532676608
1816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6152              		.loc 1 1816 67
 6153 01d4 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 6154 01d6 DB02     		lsls	r3, r3, #11
 6155              		.loc 1 1816 74
 6156 01d8 03F4F043 		and	r3, r3, #30720
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 140


1815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6157              		.loc 1 1815 92
 6158 01dc 1A43     		orrs	r2, r2, r3
1817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 6159              		.loc 1 1817 41
 6160 01de 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6161              		.loc 1 1817 59
 6162 01e2 9B04     		lsls	r3, r3, #18
 6163              		.loc 1 1817 66
 6164 01e4 03F44023 		and	r3, r3, #786432
1816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6165              		.loc 1 1816 98
 6166 01e8 1A43     		orrs	r2, r2, r3
1818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                       ((uint32_t)mps & USB_OTG_HCCHAR_MPSIZ) | HCcharEpDir | HCchar
 6167              		.loc 1 1818 54
 6168 01ea 3B8E     		ldrh	r3, [r7, #48]
 6169 01ec C3F30A03 		ubfx	r3, r3, #0, #11
1817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 6170              		.loc 1 1817 90
 6171 01f0 1A43     		orrs	r2, r2, r3
 6172              		.loc 1 1818 78
 6173 01f2 BB69     		ldr	r3, [r7, #24]
 6174 01f4 1A43     		orrs	r2, r2, r3
1815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6175              		.loc 1 1815 3
 6176 01f6 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6177 01f8 5901     		lsls	r1, r3, #5
 6178 01fa 3B69     		ldr	r3, [r7, #16]
 6179 01fc 0B44     		add	r3, r3, r1
 6180 01fe 03F5A063 		add	r3, r3, #1280
 6181 0202 1946     		mov	r1, r3
 6182              		.loc 1 1818 92
 6183 0204 7B69     		ldr	r3, [r7, #20]
 6184 0206 1343     		orrs	r3, r3, r2
1815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 6185              		.loc 1 1815 37
 6186 0208 0B60     		str	r3, [r1]
1819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if ((ep_type == EP_TYPE_INTR) || (ep_type == EP_TYPE_ISOC))
 6187              		.loc 1 1820 6
 6188 020a 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6189 020e 032B     		cmp	r3, #3
 6190 0210 03D0     		beq	.L270
 6191              		.loc 1 1820 33 discriminator 1
 6192 0212 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 6193 0216 012B     		cmp	r3, #1
 6194 0218 0FD1     		bne	.L271
 6195              	.L270:
1821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HC((uint32_t)ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM;
 6196              		.loc 1 1822 39
 6197 021a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6198 021c 5A01     		lsls	r2, r3, #5
 6199 021e 3B69     		ldr	r3, [r7, #16]
 6200 0220 1344     		add	r3, r3, r2
 6201 0222 03F5A063 		add	r3, r3, #1280
 6202 0226 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 141


 6203 0228 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 6204 022a 5101     		lsls	r1, r2, #5
 6205 022c 3A69     		ldr	r2, [r7, #16]
 6206 022e 0A44     		add	r2, r2, r1
 6207 0230 02F5A062 		add	r2, r2, #1280
 6208 0234 43F00053 		orr	r3, r3, #536870912
 6209 0238 1360     		str	r3, [r2]
 6210              	.L271:
1823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ret;
 6211              		.loc 1 1825 10
 6212 023a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
1826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 6213              		.loc 1 1826 1
 6214 023c 1846     		mov	r0, r3
 6215 023e 2037     		adds	r7, r7, #32
 6216              	.LCFI251:
 6217              		.cfi_def_cfa_offset 8
 6218 0240 BD46     		mov	sp, r7
 6219              	.LCFI252:
 6220              		.cfi_def_cfa_register 13
 6221              		@ sp needed
 6222 0242 80BD     		pop	{r7, pc}
 6223              		.cfi_endproc
 6224              	.LFE185:
 6226              		.section	.text.USB_HC_StartXfer,"ax",%progbits
 6227              		.align	1
 6228              		.global	USB_HC_StartXfer
 6229              		.syntax unified
 6230              		.thumb
 6231              		.thumb_func
 6233              	USB_HC_StartXfer:
 6234              	.LFB186:
1827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *          This parameter can be one of these values:
1834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           0 : DMA feature not used
1835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *           1 : DMA feature used
1836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL state
1837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc, uint8_t dma)
1839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 6235              		.loc 1 1839 1
 6236              		.cfi_startproc
 6237              		@ args = 0, pretend = 0, frame = 40
 6238              		@ frame_needed = 1, uses_anonymous_args = 0
 6239 0000 80B5     		push	{r7, lr}
 6240              	.LCFI253:
 6241              		.cfi_def_cfa_offset 8
 6242              		.cfi_offset 7, -8
 6243              		.cfi_offset 14, -4
 6244 0002 8CB0     		sub	sp, sp, #48
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 142


 6245              	.LCFI254:
 6246              		.cfi_def_cfa_offset 56
 6247 0004 02AF     		add	r7, sp, #8
 6248              	.LCFI255:
 6249              		.cfi_def_cfa 7, 48
 6250 0006 F860     		str	r0, [r7, #12]
 6251 0008 B960     		str	r1, [r7, #8]
 6252 000a 1346     		mov	r3, r2
 6253 000c FB71     		strb	r3, [r7, #7]
1840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6254              		.loc 1 1840 12
 6255 000e FB68     		ldr	r3, [r7, #12]
 6256 0010 3B62     		str	r3, [r7, #32]
1841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t ch_num = (uint32_t)hc->ch_num;
 6257              		.loc 1 1841 33
 6258 0012 BB68     		ldr	r3, [r7, #8]
 6259 0014 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6260              		.loc 1 1841 12
 6261 0016 FB61     		str	r3, [r7, #28]
1842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   __IO uint32_t tmpreg;
1843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint8_t  is_oddframe;
1844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint16_t len_words;
1845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint16_t num_packets;
1846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256U;
 6262              		.loc 1 1846 12
 6263 0018 4FF48073 		mov	r3, #256
 6264 001c 7B83     		strh	r3, [r7, #26]	@ movhi
1847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (((USBx->CID & (0x1U << 8)) != 0U) && (hc->speed == USBH_HS_SPEED))
 6265              		.loc 1 1848 13
 6266 001e FB68     		ldr	r3, [r7, #12]
 6267 0020 DB6B     		ldr	r3, [r3, #60]
 6268              		.loc 1 1848 19
 6269 0022 03F48073 		and	r3, r3, #256
 6270              		.loc 1 1848 6
 6271 0026 002B     		cmp	r3, #0
 6272 0028 2DD0     		beq	.L277
 6273              		.loc 1 1848 47 discriminator 1
 6274 002a BB68     		ldr	r3, [r7, #8]
 6275 002c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 6276              		.loc 1 1848 41 discriminator 1
 6277 002e 002B     		cmp	r3, #0
 6278 0030 29D1     		bne	.L277
1849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* in DMA mode host Core automatically issues ping  in case of NYET/NAK */
1851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((dma == 1U) && ((hc->ep_type == EP_TYPE_CTRL) || (hc->ep_type == EP_TYPE_BULK)))
 6279              		.loc 1 1851 8
 6280 0032 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6281 0034 012B     		cmp	r3, #1
 6282 0036 17D1     		bne	.L278
 6283              		.loc 1 1851 28 discriminator 1
 6284 0038 BB68     		ldr	r3, [r7, #8]
 6285 003a DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6286              		.loc 1 1851 21 discriminator 1
 6287 003c 002B     		cmp	r3, #0
 6288 003e 03D0     		beq	.L279
 6289              		.loc 1 1851 61 discriminator 2
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 143


 6290 0040 BB68     		ldr	r3, [r7, #8]
 6291 0042 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6292              		.loc 1 1851 55 discriminator 2
 6293 0044 022B     		cmp	r3, #2
 6294 0046 0FD1     		bne	.L278
 6295              	.L279:
1852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK &= ~(USB_OTG_HCINTMSK_NYET |
 6296              		.loc 1 1853 43
 6297 0048 FB69     		ldr	r3, [r7, #28]
 6298 004a 5A01     		lsls	r2, r3, #5
 6299 004c 3B6A     		ldr	r3, [r7, #32]
 6300 004e 1344     		add	r3, r3, r2
 6301 0050 03F5A063 		add	r3, r3, #1280
 6302 0054 DB68     		ldr	r3, [r3, #12]
 6303 0056 FA69     		ldr	r2, [r7, #28]
 6304 0058 5101     		lsls	r1, r2, #5
 6305 005a 3A6A     		ldr	r2, [r7, #32]
 6306 005c 0A44     		add	r2, r2, r1
 6307 005e 02F5A062 		add	r2, r2, #1280
 6308 0062 23F07003 		bic	r3, r3, #112
 6309 0066 D360     		str	r3, [r2, #12]
 6310              	.L278:
1854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                                USB_OTG_HCINTMSK_ACKM |
1855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                                                USB_OTG_HCINTMSK_NAKM);
1856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((dma == 0U) && (hc->do_ping == 1U))
 6311              		.loc 1 1858 8
 6312 0068 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6313 006a 002B     		cmp	r3, #0
 6314 006c 0BD1     		bne	.L277
 6315              		.loc 1 1858 27 discriminator 1
 6316 006e BB68     		ldr	r3, [r7, #8]
 6317 0070 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 6318              		.loc 1 1858 21 discriminator 1
 6319 0072 012B     		cmp	r3, #1
 6320 0074 07D1     		bne	.L277
1859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       (void)USB_DoPing(USBx, hc->ch_num);
 6321              		.loc 1 1860 13
 6322 0076 BB68     		ldr	r3, [r7, #8]
 6323 0078 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6324 007a 1946     		mov	r1, r3
 6325 007c F868     		ldr	r0, [r7, #12]
 6326 007e FFF7FEFF 		bl	USB_DoPing
1861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       return HAL_OK;
 6327              		.loc 1 1861 14
 6328 0082 0023     		movs	r3, #0
 6329 0084 F8E0     		b	.L280
 6330              	.L277:
1862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (hc->xfer_len > 0U)
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 144


 6331              		.loc 1 1867 9
 6332 0086 BB68     		ldr	r3, [r7, #8]
 6333 0088 5B69     		ldr	r3, [r3, #20]
 6334              		.loc 1 1867 6
 6335 008a 002B     		cmp	r3, #0
 6336 008c 18D0     		beq	.L281
1868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     num_packets = (uint16_t)((hc->xfer_len + hc->max_packet - 1U) / hc->max_packet);
 6337              		.loc 1 1869 33
 6338 008e BB68     		ldr	r3, [r7, #8]
 6339 0090 5B69     		ldr	r3, [r3, #20]
 6340              		.loc 1 1869 48
 6341 0092 BA68     		ldr	r2, [r7, #8]
 6342 0094 1289     		ldrh	r2, [r2, #8]
 6343              		.loc 1 1869 44
 6344 0096 1344     		add	r3, r3, r2
 6345              		.loc 1 1869 61
 6346 0098 013B     		subs	r3, r3, #1
 6347              		.loc 1 1869 71
 6348 009a BA68     		ldr	r2, [r7, #8]
 6349 009c 1289     		ldrh	r2, [r2, #8]
 6350              		.loc 1 1869 67
 6351 009e B3FBF2F3 		udiv	r3, r3, r2
 6352              		.loc 1 1869 17
 6353 00a2 FB84     		strh	r3, [r7, #38]	@ movhi
1870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
 6354              		.loc 1 1871 8
 6355 00a4 FA8C     		ldrh	r2, [r7, #38]
 6356 00a6 7B8B     		ldrh	r3, [r7, #26]
 6357 00a8 9A42     		cmp	r2, r3
 6358 00aa 0BD9     		bls	.L282
1872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
 6359              		.loc 1 1873 19
 6360 00ac 7B8B     		ldrh	r3, [r7, #26]	@ movhi
 6361 00ae FB84     		strh	r3, [r7, #38]	@ movhi
1874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 6362              		.loc 1 1874 22
 6363 00b0 FB8C     		ldrh	r3, [r7, #38]
 6364              		.loc 1 1874 48
 6365 00b2 BA68     		ldr	r2, [r7, #8]
 6366 00b4 1289     		ldrh	r2, [r2, #8]
 6367              		.loc 1 1874 44
 6368 00b6 03FB02F2 		mul	r2, r3, r2
 6369              		.loc 1 1874 20
 6370 00ba BB68     		ldr	r3, [r7, #8]
 6371 00bc 1A61     		str	r2, [r3, #16]
 6372 00be 01E0     		b	.L282
 6373              	.L281:
1875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
1878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     num_packets = 1U;
 6374              		.loc 1 1879 17
 6375 00c0 0123     		movs	r3, #1
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 145


 6376 00c2 FB84     		strh	r3, [r7, #38]	@ movhi
 6377              	.L282:
1880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /*
1883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****    * For IN channel HCTSIZ.XferSize is expected to be an integer multiple of
1884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****    * max_packet size.
1885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****    */
1886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 6378              		.loc 1 1886 9
 6379 00c4 BB68     		ldr	r3, [r7, #8]
 6380 00c6 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6381              		.loc 1 1886 6
 6382 00c8 002B     		cmp	r3, #0
 6383 00ca 07D0     		beq	.L283
1887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 6384              		.loc 1 1888 20
 6385 00cc FB8C     		ldrh	r3, [r7, #38]
 6386              		.loc 1 1888 46
 6387 00ce BA68     		ldr	r2, [r7, #8]
 6388 00d0 1289     		ldrh	r2, [r2, #8]
 6389              		.loc 1 1888 42
 6390 00d2 03FB02F2 		mul	r2, r3, r2
 6391              		.loc 1 1888 18
 6392 00d6 BB68     		ldr	r3, [r7, #8]
 6393 00d8 1A61     		str	r2, [r3, #16]
 6394 00da 03E0     		b	.L284
 6395              	.L283:
1889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
1891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     hc->XferSize = hc->xfer_len;
 6396              		.loc 1 1892 22
 6397 00dc BB68     		ldr	r3, [r7, #8]
 6398 00de 5A69     		ldr	r2, [r3, #20]
 6399              		.loc 1 1892 18
 6400 00e0 BB68     		ldr	r3, [r7, #8]
 6401 00e2 1A61     		str	r2, [r3, #16]
 6402              	.L284:
1893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = (hc->XferSize & USB_OTG_HCTSIZ_XFRSIZ) |
 6403              		.loc 1 1896 32
 6404 00e4 BB68     		ldr	r3, [r7, #8]
 6405 00e6 1B69     		ldr	r3, [r3, #16]
 6406              		.loc 1 1896 43
 6407 00e8 C3F31202 		ubfx	r2, r3, #0, #19
1897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6408              		.loc 1 1897 31
 6409 00ec FB8C     		ldrh	r3, [r7, #38]
 6410              		.loc 1 1897 53
 6411 00ee D904     		lsls	r1, r3, #19
 6412              		.loc 1 1897 60
 6413 00f0 634B     		ldr	r3, .L300
 6414 00f2 0B40     		ands	r3, r3, r1
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 146


1896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6415              		.loc 1 1896 68
 6416 00f4 1A43     		orrs	r2, r2, r3
1898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                             (((uint32_t)hc->data_pid << 29) & USB_OTG_HCTSIZ_DPID);
 6417              		.loc 1 1898 43
 6418 00f6 BB68     		ldr	r3, [r7, #8]
 6419 00f8 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 6420              		.loc 1 1898 54
 6421 00fa 5B07     		lsls	r3, r3, #29
 6422              		.loc 1 1898 61
 6423 00fc 03F0C043 		and	r3, r3, #1610612736
1896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6424              		.loc 1 1896 3
 6425 0100 F969     		ldr	r1, [r7, #28]
 6426 0102 4801     		lsls	r0, r1, #5
 6427 0104 396A     		ldr	r1, [r7, #32]
 6428 0106 0144     		add	r1, r1, r0
 6429 0108 01F5A061 		add	r1, r1, #1280
1897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6430              		.loc 1 1897 85
 6431 010c 1343     		orrs	r3, r3, r2
1896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6432              		.loc 1 1896 27
 6433 010e 0B61     		str	r3, [r1, #16]
1899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (dma != 0U)
 6434              		.loc 1 1900 6
 6435 0110 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6436 0112 002B     		cmp	r3, #0
 6437 0114 09D0     		beq	.L285
1901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* xfer_buff MUST be 32-bits aligned */
1903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HC(ch_num)->HCDMA = (uint32_t)hc->xfer_buff;
 6438              		.loc 1 1903 42
 6439 0116 BB68     		ldr	r3, [r7, #8]
 6440 0118 D968     		ldr	r1, [r3, #12]
 6441              		.loc 1 1903 5
 6442 011a FB69     		ldr	r3, [r7, #28]
 6443 011c 5A01     		lsls	r2, r3, #5
 6444 011e 3B6A     		ldr	r3, [r7, #32]
 6445 0120 1344     		add	r3, r3, r2
 6446 0122 03F5A063 		add	r3, r3, #1280
 6447              		.loc 1 1903 30
 6448 0126 0A46     		mov	r2, r1
 6449              		.loc 1 1903 28
 6450 0128 5A61     		str	r2, [r3, #20]
 6451              	.L285:
1904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   is_oddframe = (((uint32_t)USBx_HOST->HFNUM & 0x01U) != 0U) ? 0U : 1U;
 6452              		.loc 1 1906 29
 6453 012a 3B6A     		ldr	r3, [r7, #32]
 6454 012c 03F58063 		add	r3, r3, #1024
 6455              		.loc 1 1906 38
 6456 0130 9B68     		ldr	r3, [r3, #8]
 6457              		.loc 1 1906 46
 6458 0132 03F00103 		and	r3, r3, #1
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 147


 6459              		.loc 1 1906 67
 6460 0136 002B     		cmp	r3, #0
 6461 0138 0CBF     		ite	eq
 6462 013a 0123     		moveq	r3, #1
 6463 013c 0023     		movne	r3, #0
 6464 013e DBB2     		uxtb	r3, r3
 6465              		.loc 1 1906 15
 6466 0140 7B76     		strb	r3, [r7, #25]
1907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 6467              		.loc 1 1907 27
 6468 0142 FB69     		ldr	r3, [r7, #28]
 6469 0144 5A01     		lsls	r2, r3, #5
 6470 0146 3B6A     		ldr	r3, [r7, #32]
 6471 0148 1344     		add	r3, r3, r2
 6472 014a 03F5A063 		add	r3, r3, #1280
 6473 014e 1B68     		ldr	r3, [r3]
 6474 0150 FA69     		ldr	r2, [r7, #28]
 6475 0152 5101     		lsls	r1, r2, #5
 6476 0154 3A6A     		ldr	r2, [r7, #32]
 6477 0156 0A44     		add	r2, r2, r1
 6478 0158 02F5A062 		add	r2, r2, #1280
 6479 015c 23F00053 		bic	r3, r3, #536870912
 6480 0160 1360     		str	r3, [r2]
1908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR |= (uint32_t)is_oddframe << 29;
 6481              		.loc 1 1908 27
 6482 0162 FB69     		ldr	r3, [r7, #28]
 6483 0164 5A01     		lsls	r2, r3, #5
 6484 0166 3B6A     		ldr	r3, [r7, #32]
 6485 0168 1344     		add	r3, r3, r2
 6486 016a 03F5A063 		add	r3, r3, #1280
 6487 016e 1A68     		ldr	r2, [r3]
 6488              		.loc 1 1908 30
 6489 0170 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 6490              		.loc 1 1908 52
 6491 0172 5B07     		lsls	r3, r3, #29
 6492              		.loc 1 1908 27
 6493 0174 F969     		ldr	r1, [r7, #28]
 6494 0176 4801     		lsls	r0, r1, #5
 6495 0178 396A     		ldr	r1, [r7, #32]
 6496 017a 0144     		add	r1, r1, r0
 6497 017c 01F5A061 		add	r1, r1, #1280
 6498 0180 1343     		orrs	r3, r3, r2
 6499 0182 0B60     		str	r3, [r1]
1909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Set host channel enable */
1911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 6500              		.loc 1 1911 12
 6501 0184 FB69     		ldr	r3, [r7, #28]
 6502 0186 5A01     		lsls	r2, r3, #5
 6503 0188 3B6A     		ldr	r3, [r7, #32]
 6504 018a 1344     		add	r3, r3, r2
 6505 018c 03F5A063 		add	r3, r3, #1280
 6506              		.loc 1 1911 27
 6507 0190 1B68     		ldr	r3, [r3]
 6508              		.loc 1 1911 10
 6509 0192 3B61     		str	r3, [r7, #16]
1912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 148


 6510              		.loc 1 1912 10
 6511 0194 3B69     		ldr	r3, [r7, #16]
 6512 0196 23F08043 		bic	r3, r3, #1073741824
 6513 019a 3B61     		str	r3, [r7, #16]
1913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* make sure to set the correct ep direction */
1915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 6514              		.loc 1 1915 9
 6515 019c BB68     		ldr	r3, [r7, #8]
 6516 019e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6517              		.loc 1 1915 6
 6518 01a0 002B     		cmp	r3, #0
 6519 01a2 04D0     		beq	.L286
1916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     tmpreg |= USB_OTG_HCCHAR_EPDIR;
 6520              		.loc 1 1917 12
 6521 01a4 3B69     		ldr	r3, [r7, #16]
 6522 01a6 43F40043 		orr	r3, r3, #32768
 6523 01aa 3B61     		str	r3, [r7, #16]
 6524 01ac 03E0     		b	.L287
 6525              	.L286:
1918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
1920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     tmpreg &= ~USB_OTG_HCCHAR_EPDIR;
 6526              		.loc 1 1921 12
 6527 01ae 3B69     		ldr	r3, [r7, #16]
 6528 01b0 23F40043 		bic	r3, r3, #32768
 6529 01b4 3B61     		str	r3, [r7, #16]
 6530              	.L287:
1922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 6531              		.loc 1 1923 10
 6532 01b6 3B69     		ldr	r3, [r7, #16]
 6533 01b8 43F00043 		orr	r3, r3, #-2147483648
 6534 01bc 3B61     		str	r3, [r7, #16]
1924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 6535              		.loc 1 1924 3
 6536 01be FB69     		ldr	r3, [r7, #28]
 6537 01c0 5A01     		lsls	r2, r3, #5
 6538 01c2 3B6A     		ldr	r3, [r7, #32]
 6539 01c4 1344     		add	r3, r3, r2
 6540 01c6 03F5A063 		add	r3, r3, #1280
 6541 01ca 1A46     		mov	r2, r3
 6542              		.loc 1 1924 27
 6543 01cc 3B69     		ldr	r3, [r7, #16]
 6544 01ce 1360     		str	r3, [r2]
1925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (dma != 0U) /* dma mode */
 6545              		.loc 1 1926 6
 6546 01d0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6547 01d2 002B     		cmp	r3, #0
 6548 01d4 01D0     		beq	.L288
1927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     return HAL_OK;
 6549              		.loc 1 1928 12
 6550 01d6 0023     		movs	r3, #0
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 149


 6551 01d8 4EE0     		b	.L280
 6552              	.L288:
1929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if ((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
 6553              		.loc 1 1931 10
 6554 01da BB68     		ldr	r3, [r7, #8]
 6555 01dc DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6556              		.loc 1 1931 6
 6557 01de 002B     		cmp	r3, #0
 6558 01e0 49D1     		bne	.L289
 6559              		.loc 1 1931 34 discriminator 1
 6560 01e2 BB68     		ldr	r3, [r7, #8]
 6561 01e4 5B69     		ldr	r3, [r3, #20]
 6562              		.loc 1 1931 28 discriminator 1
 6563 01e6 002B     		cmp	r3, #0
 6564 01e8 45D0     		beq	.L289
1932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
1933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     switch (hc->ep_type)
 6565              		.loc 1 1933 15
 6566 01ea BB68     		ldr	r3, [r7, #8]
 6567 01ec DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6568              		.loc 1 1933 5
 6569 01ee 032B     		cmp	r3, #3
 6570 01f0 30D8     		bhi	.L297
 6571 01f2 01A2     		adr	r2, .L292
 6572 01f4 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 6573              		.p2align 2
 6574              	.L292:
 6575 01f8 09020000 		.word	.L293+1
 6576 01fc 2D020000 		.word	.L291+1
 6577 0200 09020000 		.word	.L293+1
 6578 0204 2D020000 		.word	.L291+1
 6579              		.p2align 1
 6580              	.L293:
1934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
1935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* Non periodic transfer */
1936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       case EP_TYPE_CTRL:
1937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       case EP_TYPE_BULK:
1938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 6581              		.loc 1 1939 35
 6582 0208 BB68     		ldr	r3, [r7, #8]
 6583 020a 5B69     		ldr	r3, [r3, #20]
 6584              		.loc 1 1939 46
 6585 020c 0333     		adds	r3, r3, #3
 6586              		.loc 1 1939 52
 6587 020e 9B08     		lsrs	r3, r3, #2
 6588              		.loc 1 1939 19
 6589 0210 FB82     		strh	r3, [r7, #22]	@ movhi
1940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         if (len_words > (USBx->HNPTXSTS & 0xFFFFU))
 6590              		.loc 1 1942 23
 6591 0212 FA8A     		ldrh	r2, [r7, #22]
 6592              		.loc 1 1942 30
 6593 0214 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 150


 6594 0216 DB6A     		ldr	r3, [r3, #44]
 6595              		.loc 1 1942 41
 6596 0218 9BB2     		uxth	r3, r3
 6597              		.loc 1 1942 12
 6598 021a 9A42     		cmp	r2, r3
 6599 021c 1CD9     		bls	.L298
1943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
1944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           /* need to process data in nptxfempty interrupt */
1945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
 6600              		.loc 1 1945 25
 6601 021e FB68     		ldr	r3, [r7, #12]
 6602 0220 9B69     		ldr	r3, [r3, #24]
 6603 0222 43F02002 		orr	r2, r3, #32
 6604 0226 FB68     		ldr	r3, [r7, #12]
 6605 0228 9A61     		str	r2, [r3, #24]
1946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
1947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         break;
 6606              		.loc 1 1947 9
 6607 022a 15E0     		b	.L298
 6608              	.L291:
1948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       /* Periodic transfer */
1950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       case EP_TYPE_INTR:
1951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       case EP_TYPE_ISOC:
1952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 6609              		.loc 1 1952 35
 6610 022c BB68     		ldr	r3, [r7, #8]
 6611 022e 5B69     		ldr	r3, [r3, #20]
 6612              		.loc 1 1952 46
 6613 0230 0333     		adds	r3, r3, #3
 6614              		.loc 1 1952 52
 6615 0232 9B08     		lsrs	r3, r3, #2
 6616              		.loc 1 1952 19
 6617 0234 FB82     		strh	r3, [r7, #22]	@ movhi
1953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         if (len_words > (USBx_HOST->HPTXSTS & 0xFFFFU)) /* split the transfer */
 6618              		.loc 1 1954 23
 6619 0236 FA8A     		ldrh	r2, [r7, #22]
 6620              		.loc 1 1954 26
 6621 0238 3B6A     		ldr	r3, [r7, #32]
 6622 023a 03F58063 		add	r3, r3, #1024
 6623              		.loc 1 1954 35
 6624 023e 1B69     		ldr	r3, [r3, #16]
 6625              		.loc 1 1954 45
 6626 0240 9BB2     		uxth	r3, r3
 6627              		.loc 1 1954 12
 6628 0242 9A42     		cmp	r2, r3
 6629 0244 0AD9     		bls	.L299
1955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
1956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           /* need to process data in ptxfempty interrupt */
1957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;
 6630              		.loc 1 1957 25
 6631 0246 FB68     		ldr	r3, [r7, #12]
 6632 0248 9B69     		ldr	r3, [r3, #24]
 6633 024a 43F08062 		orr	r2, r3, #67108864
 6634 024e FB68     		ldr	r3, [r7, #12]
 6635 0250 9A61     		str	r2, [r3, #24]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 151


1958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
1959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         break;
 6636              		.loc 1 1959 9
 6637 0252 03E0     		b	.L299
 6638              	.L297:
1960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       default:
1962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         break;
 6639              		.loc 1 1962 9
 6640 0254 00BF     		nop
 6641 0256 02E0     		b	.L295
 6642              	.L298:
1947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 6643              		.loc 1 1947 9
 6644 0258 00BF     		nop
 6645 025a 00E0     		b	.L295
 6646              	.L299:
1959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
 6647              		.loc 1 1959 9
 6648 025c 00BF     		nop
 6649              	.L295:
1963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
1964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* Write packet into the Tx FIFO. */
1966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     (void)USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, (uint16_t)hc->xfer_len, 0);
 6650              		.loc 1 1966 11
 6651 025e BB68     		ldr	r3, [r7, #8]
 6652 0260 D968     		ldr	r1, [r3, #12]
 6653 0262 BB68     		ldr	r3, [r7, #8]
 6654 0264 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 6655              		.loc 1 1966 72
 6656 0266 BB68     		ldr	r3, [r7, #8]
 6657 0268 5B69     		ldr	r3, [r3, #20]
 6658              		.loc 1 1966 11
 6659 026a 9BB2     		uxth	r3, r3
 6660 026c 0020     		movs	r0, #0
 6661 026e 0090     		str	r0, [sp]
 6662 0270 F868     		ldr	r0, [r7, #12]
 6663 0272 FFF7FEFF 		bl	USB_WritePacket
 6664              	.L289:
1967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
1968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 6665              		.loc 1 1969 10
 6666 0276 0023     		movs	r3, #0
 6667              	.L280:
1970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 6668              		.loc 1 1970 1
 6669 0278 1846     		mov	r0, r3
 6670 027a 2837     		adds	r7, r7, #40
 6671              	.LCFI256:
 6672              		.cfi_def_cfa_offset 8
 6673 027c BD46     		mov	sp, r7
 6674              	.LCFI257:
 6675              		.cfi_def_cfa_register 13
 6676              		@ sp needed
 6677 027e 80BD     		pop	{r7, pc}
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 152


 6678              	.L301:
 6679              		.align	2
 6680              	.L300:
 6681 0280 0000F81F 		.word	536346624
 6682              		.cfi_endproc
 6683              	.LFE186:
 6685              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 6686              		.align	1
 6687              		.global	USB_HC_ReadInterrupt
 6688              		.syntax unified
 6689              		.thumb
 6690              		.thumb_func
 6692              	USB_HC_ReadInterrupt:
 6693              	.LFB187:
1971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief Read all host channel interrupts status
1974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL state
1976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt(USB_OTG_GlobalTypeDef *USBx)
1978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 6694              		.loc 1 1978 1
 6695              		.cfi_startproc
 6696              		@ args = 0, pretend = 0, frame = 16
 6697              		@ frame_needed = 1, uses_anonymous_args = 0
 6698              		@ link register save eliminated.
 6699 0000 80B4     		push	{r7}
 6700              	.LCFI258:
 6701              		.cfi_def_cfa_offset 4
 6702              		.cfi_offset 7, -4
 6703 0002 85B0     		sub	sp, sp, #20
 6704              	.LCFI259:
 6705              		.cfi_def_cfa_offset 24
 6706 0004 00AF     		add	r7, sp, #0
 6707              	.LCFI260:
 6708              		.cfi_def_cfa_register 7
 6709 0006 7860     		str	r0, [r7, #4]
1979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6710              		.loc 1 1979 12
 6711 0008 7B68     		ldr	r3, [r7, #4]
 6712 000a FB60     		str	r3, [r7, #12]
1980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
 6713              		.loc 1 1981 12
 6714 000c FB68     		ldr	r3, [r7, #12]
 6715 000e 03F58063 		add	r3, r3, #1024
 6716              		.loc 1 1981 21
 6717 0012 5B69     		ldr	r3, [r3, #20]
 6718              		.loc 1 1981 30
 6719 0014 9BB2     		uxth	r3, r3
1982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 6720              		.loc 1 1982 1
 6721 0016 1846     		mov	r0, r3
 6722 0018 1437     		adds	r7, r7, #20
 6723              	.LCFI261:
 6724              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 153


 6725 001a BD46     		mov	sp, r7
 6726              	.LCFI262:
 6727              		.cfi_def_cfa_register 13
 6728              		@ sp needed
 6729 001c 5DF8047B 		ldr	r7, [sp], #4
 6730              	.LCFI263:
 6731              		.cfi_restore 7
 6732              		.cfi_def_cfa_offset 0
 6733 0020 7047     		bx	lr
 6734              		.cfi_endproc
 6735              	.LFE187:
 6737              		.section	.text.USB_HC_Halt,"ax",%progbits
 6738              		.align	1
 6739              		.global	USB_HC_Halt
 6740              		.syntax unified
 6741              		.thumb
 6742              		.thumb_func
 6744              	USB_HC_Halt:
 6745              	.LFB188:
1983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
1985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Halt a host channel
1986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
1987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL state
1990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
1991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx, uint8_t hc_num)
1992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 6746              		.loc 1 1992 1
 6747              		.cfi_startproc
 6748              		@ args = 0, pretend = 0, frame = 32
 6749              		@ frame_needed = 1, uses_anonymous_args = 0
 6750              		@ link register save eliminated.
 6751 0000 80B4     		push	{r7}
 6752              	.LCFI264:
 6753              		.cfi_def_cfa_offset 4
 6754              		.cfi_offset 7, -4
 6755 0002 89B0     		sub	sp, sp, #36
 6756              	.LCFI265:
 6757              		.cfi_def_cfa_offset 40
 6758 0004 00AF     		add	r7, sp, #0
 6759              	.LCFI266:
 6760              		.cfi_def_cfa_register 7
 6761 0006 7860     		str	r0, [r7, #4]
 6762 0008 0B46     		mov	r3, r1
 6763 000a FB70     		strb	r3, [r7, #3]
1993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6764              		.loc 1 1993 12
 6765 000c 7B68     		ldr	r3, [r7, #4]
 6766 000e FB61     		str	r3, [r7, #28]
1994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t hcnum = (uint32_t)hc_num;
 6767              		.loc 1 1994 12
 6768 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6769 0012 BB61     		str	r3, [r7, #24]
1995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   __IO uint32_t count = 0U;
 6770              		.loc 1 1995 17
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 154


 6771 0014 0023     		movs	r3, #0
 6772 0016 FB60     		str	r3, [r7, #12]
1996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t HcEpType = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_EPTYP) >> 18;
 6773              		.loc 1 1996 24
 6774 0018 BB69     		ldr	r3, [r7, #24]
 6775 001a 5A01     		lsls	r2, r3, #5
 6776 001c FB69     		ldr	r3, [r7, #28]
 6777 001e 1344     		add	r3, r3, r2
 6778 0020 03F5A063 		add	r3, r3, #1280
 6779              		.loc 1 1996 38
 6780 0024 1B68     		ldr	r3, [r3]
 6781              		.loc 1 1996 71
 6782 0026 9B0C     		lsrs	r3, r3, #18
 6783              		.loc 1 1996 12
 6784 0028 03F00303 		and	r3, r3, #3
 6785 002c 7B61     		str	r3, [r7, #20]
1997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t ChannelEna = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) >> 31;
 6786              		.loc 1 1997 26
 6787 002e BB69     		ldr	r3, [r7, #24]
 6788 0030 5A01     		lsls	r2, r3, #5
 6789 0032 FB69     		ldr	r3, [r7, #28]
 6790 0034 1344     		add	r3, r3, r2
 6791 0036 03F5A063 		add	r3, r3, #1280
 6792              		.loc 1 1997 40
 6793 003a 1B68     		ldr	r3, [r3]
 6794              		.loc 1 1997 73
 6795 003c DB0F     		lsrs	r3, r3, #31
 6796              		.loc 1 1997 12
 6797 003e 03F00103 		and	r3, r3, #1
 6798 0042 3B61     		str	r3, [r7, #16]
1998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
1999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == USB_OTG_GAHBCFG_DMAEN) &&
 6799              		.loc 1 1999 13
 6800 0044 7B68     		ldr	r3, [r7, #4]
 6801 0046 9B68     		ldr	r3, [r3, #8]
 6802              		.loc 1 1999 23
 6803 0048 03F02003 		and	r3, r3, #32
 6804              		.loc 1 1999 6
 6805 004c 202B     		cmp	r3, #32
 6806 004e 04D1     		bne	.L305
 6807              		.loc 1 1999 74 discriminator 1
 6808 0050 3B69     		ldr	r3, [r7, #16]
 6809 0052 002B     		cmp	r3, #0
 6810 0054 01D1     		bne	.L305
2000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       (ChannelEna == 0U))
2001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
2002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     return HAL_OK;
 6811              		.loc 1 2002 12
 6812 0056 0023     		movs	r3, #0
 6813 0058 C8E0     		b	.L306
 6814              	.L305:
2003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
2004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
2006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if ((HcEpType == HCCHAR_CTRL) || (HcEpType == HCCHAR_BULK))
 6815              		.loc 1 2006 6
 6816 005a 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 155


 6817 005c 002B     		cmp	r3, #0
 6818 005e 02D0     		beq	.L307
 6819              		.loc 1 2006 33 discriminator 1
 6820 0060 7B69     		ldr	r3, [r7, #20]
 6821 0062 022B     		cmp	r3, #2
 6822 0064 63D1     		bne	.L308
 6823              	.L307:
2007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
2008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6824              		.loc 1 2008 28
 6825 0066 BB69     		ldr	r3, [r7, #24]
 6826 0068 5A01     		lsls	r2, r3, #5
 6827 006a FB69     		ldr	r3, [r7, #28]
 6828 006c 1344     		add	r3, r3, r2
 6829 006e 03F5A063 		add	r3, r3, #1280
 6830 0072 1B68     		ldr	r3, [r3]
 6831 0074 BA69     		ldr	r2, [r7, #24]
 6832 0076 5101     		lsls	r1, r2, #5
 6833 0078 FA69     		ldr	r2, [r7, #28]
 6834 007a 0A44     		add	r2, r2, r1
 6835 007c 02F5A062 		add	r2, r2, #1280
 6836 0080 43F08043 		orr	r3, r3, #1073741824
 6837 0084 1360     		str	r3, [r2]
2009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == 0U)
 6838              		.loc 1 2010 14
 6839 0086 7B68     		ldr	r3, [r7, #4]
 6840 0088 9B68     		ldr	r3, [r3, #8]
 6841              		.loc 1 2010 24
 6842 008a 03F02003 		and	r3, r3, #32
 6843              		.loc 1 2010 8
 6844 008e 002B     		cmp	r3, #0
 6845 0090 40F0AB80 		bne	.L314
2011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
2012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if ((USBx->HNPTXSTS & (0xFFU << 16)) == 0U)
 6846              		.loc 1 2012 16
 6847 0094 7B68     		ldr	r3, [r7, #4]
 6848 0096 DB6A     		ldr	r3, [r3, #44]
 6849              		.loc 1 2012 27
 6850 0098 03F47F03 		and	r3, r3, #16711680
 6851              		.loc 1 2012 10
 6852 009c 002B     		cmp	r3, #0
 6853 009e 33D1     		bne	.L310
2013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
2014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6854              		.loc 1 2014 32
 6855 00a0 BB69     		ldr	r3, [r7, #24]
 6856 00a2 5A01     		lsls	r2, r3, #5
 6857 00a4 FB69     		ldr	r3, [r7, #28]
 6858 00a6 1344     		add	r3, r3, r2
 6859 00a8 03F5A063 		add	r3, r3, #1280
 6860 00ac 1B68     		ldr	r3, [r3]
 6861 00ae BA69     		ldr	r2, [r7, #24]
 6862 00b0 5101     		lsls	r1, r2, #5
 6863 00b2 FA69     		ldr	r2, [r7, #28]
 6864 00b4 0A44     		add	r2, r2, r1
 6865 00b6 02F5A062 		add	r2, r2, #1280
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 156


 6866 00ba 23F00043 		bic	r3, r3, #-2147483648
 6867 00be 1360     		str	r3, [r2]
2015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6868              		.loc 1 2015 32
 6869 00c0 BB69     		ldr	r3, [r7, #24]
 6870 00c2 5A01     		lsls	r2, r3, #5
 6871 00c4 FB69     		ldr	r3, [r7, #28]
 6872 00c6 1344     		add	r3, r3, r2
 6873 00c8 03F5A063 		add	r3, r3, #1280
 6874 00cc 1B68     		ldr	r3, [r3]
 6875 00ce BA69     		ldr	r2, [r7, #24]
 6876 00d0 5101     		lsls	r1, r2, #5
 6877 00d2 FA69     		ldr	r2, [r7, #28]
 6878 00d4 0A44     		add	r2, r2, r1
 6879 00d6 02F5A062 		add	r2, r2, #1280
 6880 00da 43F00043 		orr	r3, r3, #-2147483648
 6881 00de 1360     		str	r3, [r2]
 6882              	.L313:
2016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         do
2017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
2018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           count++;
 6883              		.loc 1 2018 16
 6884 00e0 FB68     		ldr	r3, [r7, #12]
 6885 00e2 0133     		adds	r3, r3, #1
 6886 00e4 FB60     		str	r3, [r7, #12]
2019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           if (count > 1000U)
 6887              		.loc 1 2020 21
 6888 00e6 FB68     		ldr	r3, [r7, #12]
 6889              		.loc 1 2020 14
 6890 00e8 B3F57A7F 		cmp	r3, #1000
 6891 00ec 1DD8     		bhi	.L320
2021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           {
2022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****             break;
2023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           }
2024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6892              		.loc 1 2024 19
 6893 00ee BB69     		ldr	r3, [r7, #24]
 6894 00f0 5A01     		lsls	r2, r3, #5
 6895 00f2 FB69     		ldr	r3, [r7, #28]
 6896 00f4 1344     		add	r3, r3, r2
 6897 00f6 03F5A063 		add	r3, r3, #1280
 6898              		.loc 1 2024 33
 6899 00fa 1B68     		ldr	r3, [r3]
 6900              		.loc 1 2024 42
 6901 00fc 03F00043 		and	r3, r3, #-2147483648
 6902              		.loc 1 2024 9
 6903 0100 B3F1004F 		cmp	r3, #-2147483648
 6904 0104 ECD0     		beq	.L313
2010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 6905              		.loc 1 2010 8
 6906 0106 70E0     		b	.L314
 6907              	.L310:
2025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
2026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       else
2027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
2028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 157


 6908              		.loc 1 2028 32
 6909 0108 BB69     		ldr	r3, [r7, #24]
 6910 010a 5A01     		lsls	r2, r3, #5
 6911 010c FB69     		ldr	r3, [r7, #28]
 6912 010e 1344     		add	r3, r3, r2
 6913 0110 03F5A063 		add	r3, r3, #1280
 6914 0114 1B68     		ldr	r3, [r3]
 6915 0116 BA69     		ldr	r2, [r7, #24]
 6916 0118 5101     		lsls	r1, r2, #5
 6917 011a FA69     		ldr	r2, [r7, #28]
 6918 011c 0A44     		add	r2, r2, r1
 6919 011e 02F5A062 		add	r2, r2, #1280
 6920 0122 43F00043 		orr	r3, r3, #-2147483648
 6921 0126 1360     		str	r3, [r2]
2010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 6922              		.loc 1 2010 8
 6923 0128 5FE0     		b	.L314
 6924              	.L320:
2022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           }
 6925              		.loc 1 2022 13
 6926 012a 00BF     		nop
2010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
 6927              		.loc 1 2010 8
 6928 012c 5DE0     		b	.L314
 6929              	.L308:
2029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
2030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
2031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
2032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   else
2033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
2034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6930              		.loc 1 2034 28
 6931 012e BB69     		ldr	r3, [r7, #24]
 6932 0130 5A01     		lsls	r2, r3, #5
 6933 0132 FB69     		ldr	r3, [r7, #28]
 6934 0134 1344     		add	r3, r3, r2
 6935 0136 03F5A063 		add	r3, r3, #1280
 6936 013a 1B68     		ldr	r3, [r3]
 6937 013c BA69     		ldr	r2, [r7, #24]
 6938 013e 5101     		lsls	r1, r2, #5
 6939 0140 FA69     		ldr	r2, [r7, #28]
 6940 0142 0A44     		add	r2, r2, r1
 6941 0144 02F5A062 		add	r2, r2, #1280
 6942 0148 43F08043 		orr	r3, r3, #1073741824
 6943 014c 1360     		str	r3, [r2]
2035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & (0xFFU << 16)) == 0U)
 6944              		.loc 1 2036 10
 6945 014e FB69     		ldr	r3, [r7, #28]
 6946 0150 03F58063 		add	r3, r3, #1024
 6947              		.loc 1 2036 19
 6948 0154 1B69     		ldr	r3, [r3, #16]
 6949              		.loc 1 2036 29
 6950 0156 03F47F03 		and	r3, r3, #16711680
 6951              		.loc 1 2036 8
 6952 015a 002B     		cmp	r3, #0
 6953 015c 33D1     		bne	.L315
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 158


2037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
2038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6954              		.loc 1 2038 30
 6955 015e BB69     		ldr	r3, [r7, #24]
 6956 0160 5A01     		lsls	r2, r3, #5
 6957 0162 FB69     		ldr	r3, [r7, #28]
 6958 0164 1344     		add	r3, r3, r2
 6959 0166 03F5A063 		add	r3, r3, #1280
 6960 016a 1B68     		ldr	r3, [r3]
 6961 016c BA69     		ldr	r2, [r7, #24]
 6962 016e 5101     		lsls	r1, r2, #5
 6963 0170 FA69     		ldr	r2, [r7, #28]
 6964 0172 0A44     		add	r2, r2, r1
 6965 0174 02F5A062 		add	r2, r2, #1280
 6966 0178 23F00043 		bic	r3, r3, #-2147483648
 6967 017c 1360     		str	r3, [r2]
2039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6968              		.loc 1 2039 30
 6969 017e BB69     		ldr	r3, [r7, #24]
 6970 0180 5A01     		lsls	r2, r3, #5
 6971 0182 FB69     		ldr	r3, [r7, #28]
 6972 0184 1344     		add	r3, r3, r2
 6973 0186 03F5A063 		add	r3, r3, #1280
 6974 018a 1B68     		ldr	r3, [r3]
 6975 018c BA69     		ldr	r2, [r7, #24]
 6976 018e 5101     		lsls	r1, r2, #5
 6977 0190 FA69     		ldr	r2, [r7, #28]
 6978 0192 0A44     		add	r2, r2, r1
 6979 0194 02F5A062 		add	r2, r2, #1280
 6980 0198 43F00043 		orr	r3, r3, #-2147483648
 6981 019c 1360     		str	r3, [r2]
 6982              	.L318:
2040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       do
2041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
2042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         count++;
 6983              		.loc 1 2042 14
 6984 019e FB68     		ldr	r3, [r7, #12]
 6985 01a0 0133     		adds	r3, r3, #1
 6986 01a2 FB60     		str	r3, [r7, #12]
2043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         if (count > 1000U)
 6987              		.loc 1 2044 19
 6988 01a4 FB68     		ldr	r3, [r7, #12]
 6989              		.loc 1 2044 12
 6990 01a6 B3F57A7F 		cmp	r3, #1000
 6991 01aa 1DD8     		bhi	.L321
2045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         {
2046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****           break;
2047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
2048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6992              		.loc 1 2048 17
 6993 01ac BB69     		ldr	r3, [r7, #24]
 6994 01ae 5A01     		lsls	r2, r3, #5
 6995 01b0 FB69     		ldr	r3, [r7, #28]
 6996 01b2 1344     		add	r3, r3, r2
 6997 01b4 03F5A063 		add	r3, r3, #1280
 6998              		.loc 1 2048 31
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 159


 6999 01b8 1B68     		ldr	r3, [r3]
 7000              		.loc 1 2048 40
 7001 01ba 03F00043 		and	r3, r3, #-2147483648
 7002              		.loc 1 2048 7
 7003 01be B3F1004F 		cmp	r3, #-2147483648
 7004 01c2 ECD0     		beq	.L318
 7005 01c4 11E0     		b	.L314
 7006              	.L315:
2049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
2050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     else
2051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
2052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 7007              		.loc 1 2052 30
 7008 01c6 BB69     		ldr	r3, [r7, #24]
 7009 01c8 5A01     		lsls	r2, r3, #5
 7010 01ca FB69     		ldr	r3, [r7, #28]
 7011 01cc 1344     		add	r3, r3, r2
 7012 01ce 03F5A063 		add	r3, r3, #1280
 7013 01d2 1B68     		ldr	r3, [r3]
 7014 01d4 BA69     		ldr	r2, [r7, #24]
 7015 01d6 5101     		lsls	r1, r2, #5
 7016 01d8 FA69     		ldr	r2, [r7, #28]
 7017 01da 0A44     		add	r2, r2, r1
 7018 01dc 02F5A062 		add	r2, r2, #1280
 7019 01e0 43F00043 		orr	r3, r3, #-2147483648
 7020 01e4 1360     		str	r3, [r2]
 7021 01e6 00E0     		b	.L314
 7022              	.L321:
2046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         }
 7023              		.loc 1 2046 11
 7024 01e8 00BF     		nop
 7025              	.L314:
2053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     }
2054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
2055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 7026              		.loc 1 2056 10
 7027 01ea 0023     		movs	r3, #0
 7028              	.L306:
2057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 7029              		.loc 1 2057 1
 7030 01ec 1846     		mov	r0, r3
 7031 01ee 2437     		adds	r7, r7, #36
 7032              	.LCFI267:
 7033              		.cfi_def_cfa_offset 4
 7034 01f0 BD46     		mov	sp, r7
 7035              	.LCFI268:
 7036              		.cfi_def_cfa_register 13
 7037              		@ sp needed
 7038 01f2 5DF8047B 		ldr	r7, [sp], #4
 7039              	.LCFI269:
 7040              		.cfi_restore 7
 7041              		.cfi_def_cfa_offset 0
 7042 01f6 7047     		bx	lr
 7043              		.cfi_endproc
 7044              	.LFE188:
 7046              		.section	.text.USB_DoPing,"ax",%progbits
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 160


 7047              		.align	1
 7048              		.global	USB_DoPing
 7049              		.syntax unified
 7050              		.thumb
 7051              		.thumb_func
 7053              	USB_DoPing:
 7054              	.LFB189:
2058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
2060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
2061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
2062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  hc_num  Host Channel number
2063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
2064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL state
2065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
2066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num)
2067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 7055              		.loc 1 2067 1
 7056              		.cfi_startproc
 7057              		@ args = 0, pretend = 0, frame = 24
 7058              		@ frame_needed = 1, uses_anonymous_args = 0
 7059              		@ link register save eliminated.
 7060 0000 80B4     		push	{r7}
 7061              	.LCFI270:
 7062              		.cfi_def_cfa_offset 4
 7063              		.cfi_offset 7, -4
 7064 0002 87B0     		sub	sp, sp, #28
 7065              	.LCFI271:
 7066              		.cfi_def_cfa_offset 32
 7067 0004 00AF     		add	r7, sp, #0
 7068              	.LCFI272:
 7069              		.cfi_def_cfa_register 7
 7070 0006 7860     		str	r0, [r7, #4]
 7071 0008 0B46     		mov	r3, r1
 7072 000a FB70     		strb	r3, [r7, #3]
2068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7073              		.loc 1 2068 12
 7074 000c 7B68     		ldr	r3, [r7, #4]
 7075 000e 7B61     		str	r3, [r7, #20]
2069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t chnum = (uint32_t)ch_num;
 7076              		.loc 1 2069 12
 7077 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 7078 0012 3B61     		str	r3, [r7, #16]
2070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t num_packets = 1U;
 7079              		.loc 1 2070 12
 7080 0014 0123     		movs	r3, #1
 7081 0016 FB60     		str	r3, [r7, #12]
2071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t tmpreg;
2072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HC(chnum)->HCTSIZ = ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 7082              		.loc 1 2073 42
 7083 0018 FB68     		ldr	r3, [r7, #12]
 7084 001a DA04     		lsls	r2, r3, #19
 7085              		.loc 1 2073 49
 7086 001c 154B     		ldr	r3, .L324
 7087 001e 1340     		ands	r3, r3, r2
 7088              		.loc 1 2073 3
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 161


 7089 0020 3A69     		ldr	r2, [r7, #16]
 7090 0022 5101     		lsls	r1, r2, #5
 7091 0024 7A69     		ldr	r2, [r7, #20]
 7092 0026 0A44     		add	r2, r2, r1
 7093 0028 02F5A062 		add	r2, r2, #1280
 7094              		.loc 1 2073 74
 7095 002c 43F00043 		orr	r3, r3, #-2147483648
 7096              		.loc 1 2073 26
 7097 0030 1361     		str	r3, [r2, #16]
2074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****                            USB_OTG_HCTSIZ_DOPING;
2075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Set host channel enable */
2077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg = USBx_HC(chnum)->HCCHAR;
 7098              		.loc 1 2077 12
 7099 0032 3B69     		ldr	r3, [r7, #16]
 7100 0034 5A01     		lsls	r2, r3, #5
 7101 0036 7B69     		ldr	r3, [r7, #20]
 7102 0038 1344     		add	r3, r3, r2
 7103 003a 03F5A063 		add	r3, r3, #1280
 7104              		.loc 1 2077 10
 7105 003e 1B68     		ldr	r3, [r3]
 7106 0040 BB60     		str	r3, [r7, #8]
2078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 7107              		.loc 1 2078 10
 7108 0042 BB68     		ldr	r3, [r7, #8]
 7109 0044 23F08043 		bic	r3, r3, #1073741824
 7110 0048 BB60     		str	r3, [r7, #8]
2079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 7111              		.loc 1 2079 10
 7112 004a BB68     		ldr	r3, [r7, #8]
 7113 004c 43F00043 		orr	r3, r3, #-2147483648
 7114 0050 BB60     		str	r3, [r7, #8]
2080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HC(chnum)->HCCHAR = tmpreg;
 7115              		.loc 1 2080 3
 7116 0052 3B69     		ldr	r3, [r7, #16]
 7117 0054 5A01     		lsls	r2, r3, #5
 7118 0056 7B69     		ldr	r3, [r7, #20]
 7119 0058 1344     		add	r3, r3, r2
 7120 005a 03F5A063 		add	r3, r3, #1280
 7121 005e 1A46     		mov	r2, r3
 7122              		.loc 1 2080 26
 7123 0060 BB68     		ldr	r3, [r7, #8]
 7124 0062 1360     		str	r3, [r2]
2081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 7125              		.loc 1 2082 10
 7126 0064 0023     		movs	r3, #0
2083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 7127              		.loc 1 2083 1
 7128 0066 1846     		mov	r0, r3
 7129 0068 1C37     		adds	r7, r7, #28
 7130              	.LCFI273:
 7131              		.cfi_def_cfa_offset 4
 7132 006a BD46     		mov	sp, r7
 7133              	.LCFI274:
 7134              		.cfi_def_cfa_register 13
 7135              		@ sp needed
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 162


 7136 006c 5DF8047B 		ldr	r7, [sp], #4
 7137              	.LCFI275:
 7138              		.cfi_restore 7
 7139              		.cfi_def_cfa_offset 0
 7140 0070 7047     		bx	lr
 7141              	.L325:
 7142 0072 00BF     		.align	2
 7143              	.L324:
 7144 0074 0000F81F 		.word	536346624
 7145              		.cfi_endproc
 7146              	.LFE189:
 7148              		.section	.text.USB_StopHost,"ax",%progbits
 7149              		.align	1
 7150              		.global	USB_StopHost
 7151              		.syntax unified
 7152              		.thumb
 7153              		.thumb_func
 7155              	USB_StopHost:
 7156              	.LFB190:
2084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
2086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  Stop Host Core
2087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx  Selected device
2088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL state
2089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
2090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
2091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 7157              		.loc 1 2091 1
 7158              		.cfi_startproc
 7159              		@ args = 0, pretend = 0, frame = 32
 7160              		@ frame_needed = 1, uses_anonymous_args = 0
 7161 0000 80B5     		push	{r7, lr}
 7162              	.LCFI276:
 7163              		.cfi_def_cfa_offset 8
 7164              		.cfi_offset 7, -8
 7165              		.cfi_offset 14, -4
 7166 0002 88B0     		sub	sp, sp, #32
 7167              	.LCFI277:
 7168              		.cfi_def_cfa_offset 40
 7169 0004 00AF     		add	r7, sp, #0
 7170              	.LCFI278:
 7171              		.cfi_def_cfa_register 7
 7172 0006 7860     		str	r0, [r7, #4]
2092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 7173              		.loc 1 2092 21
 7174 0008 0023     		movs	r3, #0
 7175 000a FB77     		strb	r3, [r7, #31]
2093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7176              		.loc 1 2093 12
 7177 000c 7B68     		ldr	r3, [r7, #4]
 7178 000e 7B61     		str	r3, [r7, #20]
2094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   __IO uint32_t count = 0U;
 7179              		.loc 1 2094 17
 7180 0010 0023     		movs	r3, #0
 7181 0012 FB60     		str	r3, [r7, #12]
2095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t value;
2096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t i;
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 163


2097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   (void)USB_DisableGlobalInt(USBx);
 7182              		.loc 1 2098 9
 7183 0014 7868     		ldr	r0, [r7, #4]
 7184 0016 FFF7FEFF 		bl	USB_DisableGlobalInt
2099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Flush USB FIFO */
2101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 7185              		.loc 1 2101 7
 7186 001a 1021     		movs	r1, #16
 7187 001c 7868     		ldr	r0, [r7, #4]
 7188 001e FFF7FEFF 		bl	USB_FlushTxFifo
 7189 0022 0346     		mov	r3, r0
 7190              		.loc 1 2101 6
 7191 0024 002B     		cmp	r3, #0
 7192 0026 01D0     		beq	.L327
2102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
2103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     ret = HAL_ERROR;
 7193              		.loc 1 2103 9
 7194 0028 0123     		movs	r3, #1
 7195 002a FB77     		strb	r3, [r7, #31]
 7196              	.L327:
2104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
2105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 7197              		.loc 1 2106 7
 7198 002c 7868     		ldr	r0, [r7, #4]
 7199 002e FFF7FEFF 		bl	USB_FlushRxFifo
 7200 0032 0346     		mov	r3, r0
 7201              		.loc 1 2106 6
 7202 0034 002B     		cmp	r3, #0
 7203 0036 01D0     		beq	.L328
2107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
2108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     ret = HAL_ERROR;
 7204              		.loc 1 2108 9
 7205 0038 0123     		movs	r3, #1
 7206 003a FB77     		strb	r3, [r7, #31]
 7207              	.L328:
2109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
2110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
2112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 7208              		.loc 1 2112 10
 7209 003c 0023     		movs	r3, #0
 7210 003e BB61     		str	r3, [r7, #24]
 7211              		.loc 1 2112 3
 7212 0040 1FE0     		b	.L329
 7213              	.L330:
2113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
2114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 7214              		.loc 1 2114 13 discriminator 3
 7215 0042 BB69     		ldr	r3, [r7, #24]
 7216 0044 5A01     		lsls	r2, r3, #5
 7217 0046 7B69     		ldr	r3, [r7, #20]
 7218 0048 1344     		add	r3, r3, r2
 7219 004a 03F5A063 		add	r3, r3, #1280
 7220              		.loc 1 2114 11 discriminator 3
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 164


 7221 004e 1B68     		ldr	r3, [r3]
 7222 0050 3B61     		str	r3, [r7, #16]
2115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 7223              		.loc 1 2115 11 discriminator 3
 7224 0052 3B69     		ldr	r3, [r7, #16]
 7225 0054 43F08043 		orr	r3, r3, #1073741824
 7226 0058 3B61     		str	r3, [r7, #16]
2116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;
 7227              		.loc 1 2116 11 discriminator 3
 7228 005a 3B69     		ldr	r3, [r7, #16]
 7229 005c 23F00043 		bic	r3, r3, #-2147483648
 7230 0060 3B61     		str	r3, [r7, #16]
2117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 7231              		.loc 1 2117 11 discriminator 3
 7232 0062 3B69     		ldr	r3, [r7, #16]
 7233 0064 23F40043 		bic	r3, r3, #32768
 7234 0068 3B61     		str	r3, [r7, #16]
2118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 7235              		.loc 1 2118 5 discriminator 3
 7236 006a BB69     		ldr	r3, [r7, #24]
 7237 006c 5A01     		lsls	r2, r3, #5
 7238 006e 7B69     		ldr	r3, [r7, #20]
 7239 0070 1344     		add	r3, r3, r2
 7240 0072 03F5A063 		add	r3, r3, #1280
 7241 0076 1A46     		mov	r2, r3
 7242              		.loc 1 2118 24 discriminator 3
 7243 0078 3B69     		ldr	r3, [r7, #16]
 7244 007a 1360     		str	r3, [r2]
2112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 7245              		.loc 1 2112 27 discriminator 3
 7246 007c BB69     		ldr	r3, [r7, #24]
 7247 007e 0133     		adds	r3, r3, #1
 7248 0080 BB61     		str	r3, [r7, #24]
 7249              	.L329:
2112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 7250              		.loc 1 2112 3 discriminator 1
 7251 0082 BB69     		ldr	r3, [r7, #24]
 7252 0084 0F2B     		cmp	r3, #15
 7253 0086 DCD9     		bls	.L330
2119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
2120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */
2122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 7254              		.loc 1 2122 10
 7255 0088 0023     		movs	r3, #0
 7256 008a BB61     		str	r3, [r7, #24]
 7257              		.loc 1 2122 3
 7258 008c 34E0     		b	.L331
 7259              	.L335:
2123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
2124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 7260              		.loc 1 2124 13
 7261 008e BB69     		ldr	r3, [r7, #24]
 7262 0090 5A01     		lsls	r2, r3, #5
 7263 0092 7B69     		ldr	r3, [r7, #20]
 7264 0094 1344     		add	r3, r3, r2
 7265 0096 03F5A063 		add	r3, r3, #1280
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 165


 7266              		.loc 1 2124 11
 7267 009a 1B68     		ldr	r3, [r3]
 7268 009c 3B61     		str	r3, [r7, #16]
2125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
 7269              		.loc 1 2125 11
 7270 009e 3B69     		ldr	r3, [r7, #16]
 7271 00a0 43F08043 		orr	r3, r3, #1073741824
 7272 00a4 3B61     		str	r3, [r7, #16]
2126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;
 7273              		.loc 1 2126 11
 7274 00a6 3B69     		ldr	r3, [r7, #16]
 7275 00a8 43F00043 		orr	r3, r3, #-2147483648
 7276 00ac 3B61     		str	r3, [r7, #16]
2127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 7277              		.loc 1 2127 11
 7278 00ae 3B69     		ldr	r3, [r7, #16]
 7279 00b0 23F40043 		bic	r3, r3, #32768
 7280 00b4 3B61     		str	r3, [r7, #16]
2128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 7281              		.loc 1 2128 5
 7282 00b6 BB69     		ldr	r3, [r7, #24]
 7283 00b8 5A01     		lsls	r2, r3, #5
 7284 00ba 7B69     		ldr	r3, [r7, #20]
 7285 00bc 1344     		add	r3, r3, r2
 7286 00be 03F5A063 		add	r3, r3, #1280
 7287 00c2 1A46     		mov	r2, r3
 7288              		.loc 1 2128 24
 7289 00c4 3B69     		ldr	r3, [r7, #16]
 7290 00c6 1360     		str	r3, [r2]
 7291              	.L334:
2129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     do
2131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     {
2132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       count++;
 7292              		.loc 1 2132 12
 7293 00c8 FB68     		ldr	r3, [r7, #12]
 7294 00ca 0133     		adds	r3, r3, #1
 7295 00cc FB60     		str	r3, [r7, #12]
2133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       if (count > 1000U)
 7296              		.loc 1 2134 17
 7297 00ce FB68     		ldr	r3, [r7, #12]
 7298              		.loc 1 2134 10
 7299 00d0 B3F57A7F 		cmp	r3, #1000
 7300 00d4 0CD8     		bhi	.L337
2135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       {
2136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****         break;
2137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
2138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     } while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 7301              		.loc 1 2138 15
 7302 00d6 BB69     		ldr	r3, [r7, #24]
 7303 00d8 5A01     		lsls	r2, r3, #5
 7304 00da 7B69     		ldr	r3, [r7, #20]
 7305 00dc 1344     		add	r3, r3, r2
 7306 00de 03F5A063 		add	r3, r3, #1280
 7307              		.loc 1 2138 25
 7308 00e2 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 166


 7309              		.loc 1 2138 34
 7310 00e4 03F00043 		and	r3, r3, #-2147483648
 7311              		.loc 1 2138 5
 7312 00e8 B3F1004F 		cmp	r3, #-2147483648
 7313 00ec ECD0     		beq	.L334
 7314 00ee 00E0     		b	.L333
 7315              	.L337:
2136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****       }
 7316              		.loc 1 2136 9
 7317 00f0 00BF     		nop
 7318              	.L333:
2122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 7319              		.loc 1 2122 27 discriminator 2
 7320 00f2 BB69     		ldr	r3, [r7, #24]
 7321 00f4 0133     		adds	r3, r3, #1
 7322 00f6 BB61     		str	r3, [r7, #24]
 7323              	.L331:
2122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
 7324              		.loc 1 2122 3 discriminator 1
 7325 00f8 BB69     		ldr	r3, [r7, #24]
 7326 00fa 0F2B     		cmp	r3, #15
 7327 00fc C7D9     		bls	.L335
2139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
2140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* Clear any pending Host interrupts */
2142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
 7328              		.loc 1 2142 3
 7329 00fe 7B69     		ldr	r3, [r7, #20]
 7330 0100 03F58063 		add	r3, r3, #1024
 7331 0104 1A46     		mov	r2, r3
 7332              		.loc 1 2142 20
 7333 0106 4FF0FF33 		mov	r3, #-1
 7334 010a 5361     		str	r3, [r2, #20]
2143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 7335              		.loc 1 2143 17
 7336 010c 7B68     		ldr	r3, [r7, #4]
 7337 010e 4FF0FF32 		mov	r2, #-1
 7338 0112 5A61     		str	r2, [r3, #20]
2144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   (void)USB_EnableGlobalInt(USBx);
 7339              		.loc 1 2145 9
 7340 0114 7868     		ldr	r0, [r7, #4]
 7341 0116 FFF7FEFF 		bl	USB_EnableGlobalInt
2146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return ret;
 7342              		.loc 1 2147 10
 7343 011a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
2148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 7344              		.loc 1 2148 1
 7345 011c 1846     		mov	r0, r3
 7346 011e 2037     		adds	r7, r7, #32
 7347              	.LCFI279:
 7348              		.cfi_def_cfa_offset 8
 7349 0120 BD46     		mov	sp, r7
 7350              	.LCFI280:
 7351              		.cfi_def_cfa_register 13
 7352              		@ sp needed
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 167


 7353 0122 80BD     		pop	{r7, pc}
 7354              		.cfi_endproc
 7355              	.LFE190:
 7357              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 7358              		.align	1
 7359              		.global	USB_ActivateRemoteWakeup
 7360              		.syntax unified
 7361              		.thumb
 7362              		.thumb_func
 7364              	USB_ActivateRemoteWakeup:
 7365              	.LFB191:
2149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
2151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup active remote wakeup signalling
2152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx Selected device
2153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
2154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
2155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 7366              		.loc 1 2156 1
 7367              		.cfi_startproc
 7368              		@ args = 0, pretend = 0, frame = 16
 7369              		@ frame_needed = 1, uses_anonymous_args = 0
 7370              		@ link register save eliminated.
 7371 0000 80B4     		push	{r7}
 7372              	.LCFI281:
 7373              		.cfi_def_cfa_offset 4
 7374              		.cfi_offset 7, -4
 7375 0002 85B0     		sub	sp, sp, #20
 7376              	.LCFI282:
 7377              		.cfi_def_cfa_offset 24
 7378 0004 00AF     		add	r7, sp, #0
 7379              	.LCFI283:
 7380              		.cfi_def_cfa_register 7
 7381 0006 7860     		str	r0, [r7, #4]
2157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7382              		.loc 1 2157 12
 7383 0008 7B68     		ldr	r3, [r7, #4]
 7384 000a FB60     		str	r3, [r7, #12]
2158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
 7385              		.loc 1 2159 8
 7386 000c FB68     		ldr	r3, [r7, #12]
 7387 000e 03F50063 		add	r3, r3, #2048
 7388              		.loc 1 2159 19
 7389 0012 9B68     		ldr	r3, [r3, #8]
 7390              		.loc 1 2159 26
 7391 0014 03F00103 		and	r3, r3, #1
 7392              		.loc 1 2159 6
 7393 0018 012B     		cmp	r3, #1
 7394 001a 09D1     		bne	.L339
2160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   {
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     /* active Remote wakeup signalling */
2162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_RWUSIG;
 7395              		.loc 1 2162 23
 7396 001c FB68     		ldr	r3, [r7, #12]
 7397 001e 03F50063 		add	r3, r3, #2048
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 168


 7398 0022 5B68     		ldr	r3, [r3, #4]
 7399 0024 FA68     		ldr	r2, [r7, #12]
 7400 0026 02F50062 		add	r2, r2, #2048
 7401 002a 43F00103 		orr	r3, r3, #1
 7402 002e 5360     		str	r3, [r2, #4]
 7403              	.L339:
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   }
2164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 7404              		.loc 1 2165 10
 7405 0030 0023     		movs	r3, #0
2166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 7406              		.loc 1 2166 1
 7407 0032 1846     		mov	r0, r3
 7408 0034 1437     		adds	r7, r7, #20
 7409              	.LCFI284:
 7410              		.cfi_def_cfa_offset 4
 7411 0036 BD46     		mov	sp, r7
 7412              	.LCFI285:
 7413              		.cfi_def_cfa_register 13
 7414              		@ sp needed
 7415 0038 5DF8047B 		ldr	r7, [sp], #4
 7416              	.LCFI286:
 7417              		.cfi_restore 7
 7418              		.cfi_def_cfa_offset 0
 7419 003c 7047     		bx	lr
 7420              		.cfi_endproc
 7421              	.LFE191:
 7423              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 7424              		.align	1
 7425              		.global	USB_DeActivateRemoteWakeup
 7426              		.syntax unified
 7427              		.thumb
 7428              		.thumb_func
 7430              	USB_DeActivateRemoteWakeup:
 7431              	.LFB192:
2167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** /**
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
2170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @param  USBx Selected device
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   * @retval HAL status
2172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   */
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** {
 7432              		.loc 1 2174 1
 7433              		.cfi_startproc
 7434              		@ args = 0, pretend = 0, frame = 16
 7435              		@ frame_needed = 1, uses_anonymous_args = 0
 7436              		@ link register save eliminated.
 7437 0000 80B4     		push	{r7}
 7438              	.LCFI287:
 7439              		.cfi_def_cfa_offset 4
 7440              		.cfi_offset 7, -4
 7441 0002 85B0     		sub	sp, sp, #20
 7442              	.LCFI288:
 7443              		.cfi_def_cfa_offset 24
 7444 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 169


 7445              	.LCFI289:
 7446              		.cfi_def_cfa_register 7
 7447 0006 7860     		str	r0, [r7, #4]
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 7448              		.loc 1 2175 12
 7449 0008 7B68     		ldr	r3, [r7, #4]
 7450 000a FB60     		str	r3, [r7, #12]
2176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   /* active Remote wakeup signalling */
2178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~(USB_OTG_DCTL_RWUSIG);
 7451              		.loc 1 2178 21
 7452 000c FB68     		ldr	r3, [r7, #12]
 7453 000e 03F50063 		add	r3, r3, #2048
 7454 0012 5B68     		ldr	r3, [r3, #4]
 7455 0014 FA68     		ldr	r2, [r7, #12]
 7456 0016 02F50062 		add	r2, r2, #2048
 7457 001a 23F00103 		bic	r3, r3, #1
 7458 001e 5360     		str	r3, [r2, #4]
2179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** 
2180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c ****   return HAL_OK;
 7459              		.loc 1 2180 10
 7460 0020 0023     		movs	r3, #0
2181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_ll_usb.c **** }
 7461              		.loc 1 2181 1
 7462 0022 1846     		mov	r0, r3
 7463 0024 1437     		adds	r7, r7, #20
 7464              	.LCFI290:
 7465              		.cfi_def_cfa_offset 4
 7466 0026 BD46     		mov	sp, r7
 7467              	.LCFI291:
 7468              		.cfi_def_cfa_register 13
 7469              		@ sp needed
 7470 0028 5DF8047B 		ldr	r7, [sp], #4
 7471              	.LCFI292:
 7472              		.cfi_restore 7
 7473              		.cfi_def_cfa_offset 0
 7474 002c 7047     		bx	lr
 7475              		.cfi_endproc
 7476              	.LFE192:
 7478              		.text
 7479              	.Letext0:
 7480              		.file 2 "e:\\user\\bigai\\gcc_arm_none_eabi\\arm-none-eabi\\include\\machine\\_default_types.h"
 7481              		.file 3 "e:\\user\\bigai\\gcc_arm_none_eabi\\arm-none-eabi\\include\\sys\\_stdint.h"
 7482              		.file 4 "Drivers/CMSIS/Include/cmsis_gcc.h"
 7483              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h723xx.h"
 7484              		.file 6 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 7485              		.file 7 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_ll_usb.h"
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 170


DEFINED SYMBOLS
                            *ABS*:00000000 stm32h7xx_ll_usb.c
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:19     .text.USB_CoreInit:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:25     .text.USB_CoreInit:00000000 USB_CoreInit
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5140   .text.USB_CoreReset:00000000 USB_CoreReset
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:177    .text.USB_CoreInit:000000d4 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:183    .text.USB_SetTurnaroundTime:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:189    .text.USB_SetTurnaroundTime:00000000 USB_SetTurnaroundTime
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:404    .text.USB_SetTurnaroundTime:0000011c $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:418    .text.USB_EnableGlobalInt:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:424    .text.USB_EnableGlobalInt:00000000 USB_EnableGlobalInt
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:468    .text.USB_DisableGlobalInt:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:474    .text.USB_DisableGlobalInt:00000000 USB_DisableGlobalInt
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:518    .text.USB_SetCurrentMode:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:524    .text.USB_SetCurrentMode:00000000 USB_SetCurrentMode
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4891   .text.USB_GetMode:00000000 USB_GetMode
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:644    .text.USB_DevInit:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:650    .text.USB_DevInit:00000000 USB_DevInit
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1313   .text.USB_SetDevSpeed:00000000 USB_SetDevSpeed
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1102   .text.USB_FlushTxFifo:00000000 USB_FlushTxFifo
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1210   .text.USB_FlushRxFifo:00000000 USB_FlushRxFifo
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1090   .text.USB_DevInit:000002b4 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1096   .text.USB_FlushTxFifo:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1199   .text.USB_FlushTxFifo:00000064 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1204   .text.USB_FlushRxFifo:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1302   .text.USB_FlushRxFifo:0000005c $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1307   .text.USB_SetDevSpeed:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1365   .text.USB_GetDevSpeed:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1371   .text.USB_GetDevSpeed:00000000 USB_GetDevSpeed
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1447   .text.USB_ActivateEndpoint:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1453   .text.USB_ActivateEndpoint:00000000 USB_ActivateEndpoint
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1637   .text.USB_ActivateEndpoint:0000010c $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1642   .text.USB_ActivateDedicatedEndpoint:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1648   .text.USB_ActivateDedicatedEndpoint:00000000 USB_ActivateDedicatedEndpoint
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1837   .text.USB_ActivateDedicatedEndpoint:00000110 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1842   .text.USB_DeactivateEndpoint:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:1848   .text.USB_DeactivateEndpoint:00000000 USB_DeactivateEndpoint
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:2103   .text.USB_DeactivateEndpoint:000001b0 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:2109   .text.USB_DeactivateDedicatedEndpoint:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:2115   .text.USB_DeactivateDedicatedEndpoint:00000000 USB_DeactivateDedicatedEndpoint
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:2325   .text.USB_EPStartXfer:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:2331   .text.USB_EPStartXfer:00000000 USB_EPStartXfer
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:3628   .text.USB_WritePacket:00000000 USB_WritePacket
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:2733   .text.USB_EPStartXfer:000002dc $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:2738   .text.USB_EPStartXfer:000002e8 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:2981   .text.USB_EPStartXfer:00000494 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:2988   .text.USB_EP0StartXfer:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:2994   .text.USB_EP0StartXfer:00000000 USB_EP0StartXfer
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:3387   .text.USB_EP0StartXfer:000002b0 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:3393   .text.USB_EPStopXfer:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:3399   .text.USB_EPStopXfer:00000000 USB_EPStopXfer
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:3622   .text.USB_WritePacket:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:3735   .text.USB_ReadPacket:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:3741   .text.USB_ReadPacket:00000000 USB_ReadPacket
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:3882   .text.USB_EPSetStall:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:3888   .text.USB_EPSetStall:00000000 USB_EPSetStall
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4032   .text.USB_EPClearStall:00000000 $t
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 171


C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4038   .text.USB_EPClearStall:00000000 USB_EPClearStall
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4176   .text.USB_StopDevice:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4182   .text.USB_StopDevice:00000000 USB_StopDevice
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4303   .text.USB_SetDevAddress:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4309   .text.USB_SetDevAddress:00000000 USB_SetDevAddress
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4375   .text.USB_DevConnect:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4381   .text.USB_DevConnect:00000000 USB_DevConnect
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4438   .text.USB_DevDisconnect:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4444   .text.USB_DevDisconnect:00000000 USB_DevDisconnect
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4501   .text.USB_ReadInterrupts:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4507   .text.USB_ReadInterrupts:00000000 USB_ReadInterrupts
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4556   .text.USB_ReadDevAllOutEpInterrupt:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4562   .text.USB_ReadDevAllOutEpInterrupt:00000000 USB_ReadDevAllOutEpInterrupt
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4619   .text.USB_ReadDevAllInEpInterrupt:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4625   .text.USB_ReadDevAllInEpInterrupt:00000000 USB_ReadDevAllInEpInterrupt
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4682   .text.USB_ReadDevOutEPInterrupt:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4688   .text.USB_ReadDevOutEPInterrupt:00000000 USB_ReadDevOutEPInterrupt
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4749   .text.USB_ReadDevInEPInterrupt:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4755   .text.USB_ReadDevInEPInterrupt:00000000 USB_ReadDevInEPInterrupt
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4835   .text.USB_ClearInterrupts:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4841   .text.USB_ClearInterrupts:00000000 USB_ClearInterrupts
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4885   .text.USB_GetMode:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4932   .text.USB_ActivateSetup:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4938   .text.USB_ActivateSetup:00000000 USB_ActivateSetup
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:4996   .text.USB_ActivateSetup:00000044 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5001   .text.USB_EP0_OutStart:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5007   .text.USB_EP0_OutStart:00000000 USB_EP0_OutStart
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5130   .text.USB_EP0_OutStart:000000b8 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5135   .text.USB_CoreReset:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5234   .text.USB_CoreReset:00000064 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5239   .text.USB_HostInit:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5245   .text.USB_HostInit:00000000 USB_HostInit
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5480   .text.USB_HostInit:00000160 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5489   .text.USB_InitFSLSPClkSel:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5495   .text.USB_InitFSLSPClkSel:00000000 USB_InitFSLSPClkSel
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5583   .text.USB_ResetPort:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5589   .text.USB_ResetPort:00000000 USB_ResetPort
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5663   .text.USB_DriveVbus:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5669   .text.USB_DriveVbus:00000000 USB_DriveVbus
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5765   .text.USB_GetHostSpeed:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5771   .text.USB_GetHostSpeed:00000000 USB_GetHostSpeed
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5823   .text.USB_GetCurrentFrame:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5829   .text.USB_GetCurrentFrame:00000000 USB_GetCurrentFrame
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5875   .text.USB_HC_Init:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5881   .text.USB_HC_Init:00000000 USB_HC_Init
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5932   .text.USB_HC_Init:00000044 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:5936   .text.USB_HC_Init:00000054 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:6227   .text.USB_HC_StartXfer:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:6233   .text.USB_HC_StartXfer:00000000 USB_HC_StartXfer
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:7053   .text.USB_DoPing:00000000 USB_DoPing
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:6575   .text.USB_HC_StartXfer:000001f8 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:6579   .text.USB_HC_StartXfer:00000208 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:6681   .text.USB_HC_StartXfer:00000280 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:6686   .text.USB_HC_ReadInterrupt:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:6692   .text.USB_HC_ReadInterrupt:00000000 USB_HC_ReadInterrupt
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:6738   .text.USB_HC_Halt:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:6744   .text.USB_HC_Halt:00000000 USB_HC_Halt
ARM GAS  C:\Users\Su\AppData\Local\Temp\ccbzA28c.s 			page 172


C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:7047   .text.USB_DoPing:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:7144   .text.USB_DoPing:00000074 $d
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:7149   .text.USB_StopHost:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:7155   .text.USB_StopHost:00000000 USB_StopHost
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:7358   .text.USB_ActivateRemoteWakeup:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:7364   .text.USB_ActivateRemoteWakeup:00000000 USB_ActivateRemoteWakeup
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:7424   .text.USB_DeActivateRemoteWakeup:00000000 $t
C:\Users\Su\AppData\Local\Temp\ccbzA28c.s:7430   .text.USB_DeActivateRemoteWakeup:00000000 USB_DeActivateRemoteWakeup

UNDEFINED SYMBOLS
HAL_Delay
